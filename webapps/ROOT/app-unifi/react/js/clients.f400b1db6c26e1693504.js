(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[3],{2435:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return M})),a.d(t,"b",(function(){return V})),a.d(t,"e",(function(){return W})),a.d(t,"f",(function(){return H})),a.d(t,"g",(function(){return $})),a.d(t,"d",(function(){return X}));var n=a(0),l=a.n(n),i=a(3),c=a(1898),r=a(9);const o=Object(i.c)(r.a)`
  padding: 0 ${({theme:e})=>e.space[4]}px;
  border-bottom: 1px ${({theme:e})=>e.colors.border} solid;
  box-sizing: border-box;
`,d=Object(i.c)(c.a)`
  bottom: -1px;
`;var s=({isLoading:e,children:t,...a})=>l.a.createElement(o,Object.assign({},a,{flex:"none",className:"base-control-panel",position:"relative",alignItems:"center",justifyContent:"space-between",height:50}),t,l.a.createElement(d,{isLoading:e,placement:"bottom"})),E=a(2),m=a(5),b=a(18);const u=e=>{var t;return null===(t=null==e?void 0:e.filters)||void 0===t?void 0:t.isFilterOpen};var p=a(868),O=a(2382),C=a(2894),v=a(2877),g=a(577),h=a(2823);const N=Object(i.c)(h.a)`
  padding: 24px;
`;var _=({columns:e,columnLabels:t,tableType:a})=>{var i;const c=Object(m.useDispatch)(),r=(null===(i=Object(m.useSelector)(Object(b.I)(a)))||void 0===i?void 0:i.initialColumns)||[],o=Object(n.useMemo)(()=>Object.values(e).every(e=>r.includes(e)),[r]),d=Object(n.useCallback)(()=>{const t=o||(null==r?void 0:r.length)?[]:Object.values(e);c(Object(b.S)(a,{initialColumns:t},!0))},[c,o,a,r]),s=Object(n.useMemo)(()=>[{full:!0,id:"showAllFields",checked:o||!!(null==r?void 0:r.length)&&"mixed",children:l.a.createElement(E.c,{id:"COMMON_COLUMN_VISIBILITY_SHOW_ALL_FIELD"}),onChange:d}].concat(Object.values(e).map(e=>({full:!0,id:e,checked:r.includes(e),children:(null==t?void 0:t[e])?l.a.createElement(E.b,{id:t[e]}):e,onChange:({target:{checked:t}})=>{const n=t?[...r,e]:r.filter(t=>t!==e);c(Object(b.S)(a,{initialColumns:n},!0))}}))),[r,a]);return l.a.createElement(N,{spacing:"flush",items:s,variant:"list"})};const T=Object(i.c)(O.a)`
  width: 258px !important;
`;var I;!function(e){e.COLUMNS="columns",e.FILTERS="filters"}(I||(I={}));var y=({filterTitleLabel:e,isOpen:t,onClose:a,columnTabProps:i,renderFilterDrawerContent:c,footerProps:r})=>{var o;const[d,s]=Object(n.useState)(I.FILTERS),{tableType:u}=i||{tableType:null},p=Object(m.useDispatch)(),O=(null===(o=Object(m.useSelector)(Object(b.I)(u)))||void 0===o?void 0:o.initialColumns)||[],h=r&&d===I.COLUMNS,N=Object(n.useMemo)(()=>{var e,t;return h&&Object(g.a)(null===(t=null===(e=null===b.c||void 0===b.c?void 0:b.c.tables)||void 0===e?void 0:e[u])||void 0===t?void 0:t.initialColumns,O)},[h,u,O]),y=Object(n.useCallback)(()=>{var e,t,a;const n=[...null!==(a=null===(t=null===(e=null===b.c||void 0===b.c?void 0:b.c.tables)||void 0===e?void 0:e[u])||void 0===t?void 0:t.initialColumns)&&void 0!==a?a:[]];p(Object(b.S)(u,{initialColumns:n},!0))},[p,u]),f=Object(n.useCallback)(({id:e})=>s(e),[s]),j=i?l.a.createElement(C.a,{onSelectTab:f,tabs:[{id:I.FILTERS,label:l.a.createElement(E.c,{id:"COMMON_CONTROL_PANEL_FILTERS"}),render:c},{id:I.COLUMNS,label:l.a.createElement(E.c,{id:"COMMON_CONTROL_PANEL_COLUMNS"}),render:()=>l.a.createElement(_,{columns:i.columns,columnLabels:i.columnLabels,tableType:u})}]}):c(),L=Object(n.useMemo)(()=>h?{label:l.a.createElement(E.c,{id:"COMMON_CONTROL_PANEL_FILTER_FOOTER_RESTORE_COLUMNS"}),onClick:y,disabled:N}:r,[h,r,N,y]),S=Object(n.useCallback)(()=>{a(),s(I.FILTERS)},[a,s]);return l.a.createElement(T,{in:t,renderHeader:()=>null,onClose:a,side:"left"},t&&l.a.createElement(v.a,{footerProps:L,headerProps:{label:e},onClose:S},j))},f=a(42),j=a(23),L=a(786);var S=({items:e,...t})=>{const{params:a,path:n}=Object(j.n)(),i=Object(j.l)(),c=Object(j.k)(),r=e.find(({path:e})=>e===n)||((e,{pathname:t})=>e.find(({path:e})=>new RegExp(e.replace(/\/:\w+\?.*/g,"/?.*").replace(/:\w+/g,"\\w+").replace(/\//g,"\\$&")).test(t)))(e,i);return l.a.createElement(L.a,Object.assign({tabs:e,selectedTab:null==r?void 0:r.id,onSelectTab:({path:e,params:t={}})=>c.push(Object(j.i)(e,{...a,...t}))},t))};const P=Object(i.c)(S)`
  height: 100%;
  position: absolute;
  left: 0;
  right: 0;
  div,
  button {
    height: 100% !important;
  }
`;var x=({routes:e})=>{const t=Object(n.useMemo)(()=>e&&e.map(({id:e,label:t,disabled:a,path:n,...l})=>({id:e,label:t,disabled:"function"==typeof a?a(l):a,path:n})),[e]);return t?l.a.createElement(P,{selectedTabBold:!0,items:t}):null},w=a(2895);const R=Object(i.c)(w.a)`
  padding: 0 8px;
  z-index: 5;
`;var A=({filterTitleLabel:e,filtersActive:t,items:a})=>{const n=Object(m.useDispatch)();return l.a.createElement(r.a,{height:"100%"},l.a.createElement(R,{title:e,onClick:()=>n(Object(p.b)(!0)),filtersActive:t}),a)};const k=Object(i.c)(f.a,{shouldForwardProp:e=>"hideFilterButton"!==e})`
  font-size: 14px;
  ${({hideFilterButton:e})=>e&&"margin-left: 50%;"}
  position: absolute;
  transform: translateX(-50%);
  left: 50%;
`;var D=({routes:e=[],hideFilterButton:t=!1,isLoading:a,children:n,filterTitleLabel:i,filtersActive:c,items:o,title:d})=>{const m=(null==e?void 0:e.length)>1,b=!m&&1===e.length;return l.a.createElement(s,{isLoading:a},!t&&l.a.createElement(A,{filterTitleLabel:i,items:o,filtersActive:c}),m&&l.a.createElement(x,{routes:e}),b&&l.a.createElement(k,{weight:"bold"},e[0].label),d&&l.a.createElement(k,{weight:"bold",hideFilterButton:t},l.a.createElement(E.c,{id:d})),l.a.createElement(r.a,{height:"100%",flex:m||d||b?"none":1,alignItems:"center",justifyContent:"flex-end"},n))};var M=Object(E.f)(({routes:e=[],hideFilterButton:t=!1,isLoading:a,children:i,filterFooterProps:c,columnTabProps:r,renderFilterDrawerContent:o,filterTitleLabel:d,filtersActive:s,items:E,title:O,onClose:C,intl:v})=>{var g;const h=Object(m.useDispatch)(),N=Object(m.useSelector)(u),_=(null===(g=Object(m.useSelector)(Object(b.I)(null==r?void 0:r.tableType)))||void 0===g?void 0:g.initialColumns)||[],T=v.formatMessage({id:d||"COMMON_CONTROL_PANEL_FILTER_TITLE"});Object(n.useEffect)(()=>()=>{h(Object(p.b)(!1))},[]);const I=Object(n.useCallback)(()=>{h(Object(p.b)(!1)),null==C||C(),(null==r?void 0:r.tableType)&&h(Object(b.S)(r.tableType,{initialColumns:_}))},[h,C,null==r?void 0:r.tableType,_]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,{isOpen:N,filterTitleLabel:T,onClose:I,columnTabProps:r,renderFilterDrawerContent:()=>N&&o,footerProps:c}),l.a.createElement(D,{routes:e,hideFilterButton:t,isLoading:a,filterTitleLabel:T,filtersActive:s,items:E,title:O},i))}),F=a(168);var V=Object(i.c)(F.a)`
  padding-left: ${({theme:e})=>e.space[3]}px;
  padding-right: ${({theme:e})=>e.space[3]}px;
  color: ${({theme:e})=>e.colors.subtlerText};
  &:hover {
    color: ${({theme:e})=>e.colors.mediumText};
  }
`,U=a(2425);var W=Object(i.c)(U.a)`
  padding-left: ${({theme:e})=>e.space[2]}px;
  padding-right: ${({theme:e})=>e.space[2]}px;
`;var H=Object(i.c)("span")`
  border-right: 1px ${({theme:e})=>e.colors.border} solid;
  margin: 0 ${({theme:e})=>e.space[4]}px;
  position: relative;
  height: 100%;
  display: block;
`;const Y=i.a`
  align-items: center;
  display: flex;
  height: 100%;
  width: auto;
  justify-content: flex-end;
  overflow-x: unset;

  > div {
    margin: initial;
  }
`,z=i.a`
  max-height: 30px;
  padding: 0 5px !important;
  margin: 0 5px;
`;function $(e){return l.a.createElement(L.a,Object.assign({className:Y,tabClassName:z},e))}var B=a(1758);const G=Object(i.c)(f.a)`
  line-height: 24px;
  color: ${({theme:e})=>e.motifPalette.text01};
`,K=Object(i.c)("div",{shouldForwardProp:e=>"toggleStyle"!==e})`
  justify-content: space-between;
  margin-top: ${({toggleStyle:e})=>{var t;return null!==(t=null==e?void 0:e.marginTop)&&void 0!==t?t:8}}px;
  margin-right: ${({toggleStyle:e})=>{var t;return null!==(t=null==e?void 0:e.marginRight)&&void 0!==t?t:0}}px;
  margin-bottom: ${({toggleStyle:e})=>{var t;return null!==(t=null==e?void 0:e.marginBottom)&&void 0!==t?t:0}}px;
  margin-left: ${({toggleStyle:e})=>{var t;return null!==(t=null==e?void 0:e.marginLeft)&&void 0!==t?t:0}}px;
  width: auto !important;

  label {
    margin-left: 0;
  }
`;var X=({checked:e,disabled:t,id:a,onChange:n,text:i,toggleStyle:c})=>l.a.createElement(K,{toggleStyle:c},l.a.createElement(B.a,{checked:e,id:a,onChange:n,disabled:t},"string"==typeof i?l.a.createElement(G,{size:"body"},l.a.createElement(E.c,{id:i})):i))},2451:function(e,t,a){"use strict";var n=a(0),l=a.n(n),i=a(3);const c=Object(i.c)("div")`
  width: 100%;
  table:after {
    content: '';
    display: block;
    position: absolute;
    right: -32px;
    width: 32px;
    height: 1px;
  }
`;t.a=({children:e})=>l.a.createElement(c,null,e)},2487:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=a(3).a`
  th {
    span {
      font-size: 14px;
      font-weight: 700;
    }
    svg {
      width: 16px;
      height: 16px;
    }
  }
`},2490:function(e,t,a){"use strict";var n,l=a(0),i=a.n(l),c=a(3),r=a(1179),o=a(26),d=a(45),s=a(42),E=a(2),m=a(5),b=a(14),u=a(188),p=a(578),O=a(168);!function(e){e.DEFAULT="default",e.HOVER="hover",e.DISABLED="disabled",e.ACTIVE="active"}(n||(n={}));const C={[n.DEFAULT]:{light:"#d6d9e2",dark:"#3f3f3f"},[n.HOVER]:{light:"#7e8190",dark:"#9d9d9d"},[n.DISABLED]:{light:"#eeeff3",dark:"#1e1e1e"},[n.ACTIVE]:{light:"#a4a7b5",dark:"#2f2f2f"}},v=(e,t)=>C[t][e],g=(e,t)=>"1px 0px 0px 0px "+v(e,t),h=Object(c.c)(O.a,{shouldForwardProp:e=>"rotate"!==e})`
  margin: 0;
  padding: 0;
  width: 26px;
  height: 24px;
  color: inherit;
  background-color: transparent;
  box-sizing: border-box;
  border-radius: 4px 0 0 4px;
  border-right: 0;
  border-color: transparent;
  border-color: ${({motif:e})=>""+v(e,n.DEFAULT)};
  box-shadow: ${({motif:e})=>""+g(e,n.DEFAULT)};
  ${({rotate:e=!1})=>e?"\n    transform: rotate(-180deg);\n  ":"\n  position: relative; \n  left: -1px;\n    "}
  > span {
    display: flex;
    align-items: center;
    justify-content: center;
    > div {
      display: flex;
    }
  }
  &:disabled {
    z-index: 0;
    box-shadow: ${({motif:e})=>g(e,n.DISABLED)+" !important"};
    border-color: ${({motif:e})=>v(e,n.DISABLED)+" !important"};
  }
  &:hover {
    z-index: 1;
    box-shadow: ${({motif:e})=>g(e,n.HOVER)+" !important"};
    border-color: ${({motif:e})=>v(e,n.HOVER)+" !important"};
    border-right: 0;
    background-color: transparent !important;
  }
  &:active {
    box-shadow: ${({motif:e})=>g(e,n.ACTIVE)+" !important"};
    border-color: ${({motif:e})=>v(e,n.ACTIVE)+" !important"};
  }
`;var N=({disabled:e,onClick:t,rotate:a,motif:n})=>i.a.createElement(h,{variant:"secondary",rotate:a,disabled:e,onClick:t,motif:n},i.a.createElement("svg",{width:"4",height:"8",viewBox:"0 0 4 8",fill:"none"},i.a.createElement("path",{d:"M3.75026 0.999386C3.75026 1.11739 3.70826 1.23639 3.62426 1.33138L1.25026 3.99939L1.27026 4.02039L3.62326 6.66739C3.80726 6.87339 3.78826 7.18939 3.58226 7.37339C3.37626 7.55739 3.06026 7.53839 2.87626 7.33239L0.530256 4.69439C0.156256 4.30739 0.156256 3.69139 0.530256 3.30439L2.87526 0.667385C3.05826 0.461386 3.37526 0.442385 3.58126 0.626385C3.69326 0.724385 3.75026 0.861386 3.75026 0.999386Z",fill:"#A4A7B5"})));const _=Object(c.c)(b.g)`
  table {
    z-index: 1;
  }
`,T=Object(c.c)(r.a)`
  > div > div {
    height: 28px;
    > div:first-child {
      ${({theme:e,motif:t})=>`\n      margin-top: ${e.spacing["spacing-xs"]};\n      color: ${"dark"===t?"#c2c2c2":o.a["grey-2"]} !important;\n      -webkit-text-fill-color: ${"dark"===t?"#c2c2c2":o.a["grey-2"]} !important;\n    `}
    }
    > div:last-child {
      margin-top: 8px;
    }
  }
`,I=[{value:"25",default:!0},{value:"50"},{value:"100"}];t.a=({onRenderTable:e,customContent:t,items:a,section:n,rowOptions:c,onRowsChanged:r,onPageChanged:o,tableType:O,totalItems:C=(null==a?void 0:a.length)||0,pageNumber:v})=>{const{motif:g}=Object(d.a)(),h=Object(m.useDispatch)(),y=Object(l.useMemo)(()=>c||I,[c]),f=Object(l.useMemo)(()=>y.map(({value:e})=>({label:e,value:e})),[y]),j=Object(m.useSelector)(Object(u.w)(O)),L=Object(l.useMemo)(()=>{var e,t;return Number((null==j?void 0:j.rowsPerPage)&&f.some(({value:e})=>Number(e)===j.rowsPerPage)?j.rowsPerPage:(null===(e=y.find(e=>null==e?void 0:e.default))||void 0===e?void 0:e.value)||(null===(t=null==y?void 0:y[0])||void 0===t?void 0:t.value))},[j,f,y]),S=Object(l.useMemo)(()=>Math.max(1,v||0),[v]),P=Object(l.useCallback)(e=>{null==o||o(e)},[o,h]),x=Object(l.useCallback)(()=>{P(S-1)},[S,P]),w=Object(l.useCallback)(()=>{P(S+1)},[S,P]),R=Object(l.useCallback)(({value:e})=>{const t=Number(e);h(Object(p.k)(O,{rowsPerPage:t})),null==r||r(t)},[h,r,O]),A=Object(l.useMemo)(()=>{let e=(S-1)*L+1;return e>(null==a?void 0:a.length)&&(e=(null==a?void 0:a.length)-L,P(Math.ceil(Math.ceil(e)/L+1))),e},[P,S,L,null==a?void 0:a.length]),k=Object(l.useMemo)(()=>{let e=A+L-1;return e>=(null==a?void 0:a.length)&&(e=null==a?void 0:a.length),e},[A,L,null==a?void 0:a.length]),D=Object(l.useMemo)(()=>({from:Math.max(0,A-1),rowsPerPage:L}),[A,L]),M=Object(l.useMemo)(()=>1===S,[S]),F=Object(l.useMemo)(()=>k>=(null==a?void 0:a.length),[k,null==a?void 0:a.length]),V=Object(l.useMemo)(()=>C>L||1!==A,[C,L,A]);return i.a.createElement(_,{padding:"32px",width:"100%",height:"100%",flexDirection:"column",overflow:"auto"},V?i.a.createElement(i.a.Fragment,null,e(D),i.a.createElement(b.g,{marginTop:16,justifyContent:"space-between"},i.a.createElement(b.g,{alignItems:"center"},i.a.createElement(b.g,{marginRight:8},i.a.createElement(s.a,{color:"secondary"},i.a.createElement(E.c,{id:"PAGINATION",values:{from:A,to:k,total:C,section:i.a.createElement(E.c,{id:n})}}))),i.a.createElement(b.g,{marginRight:24},i.a.createElement(s.a,{color:"secondary"},i.a.createElement(N,{disabled:M,onClick:x,motif:g})),i.a.createElement(s.a,{color:"secondary"},i.a.createElement(N,{disabled:F,rotate:!0,onClick:w,motif:g}))),i.a.createElement(b.g,{alignItems:"center"},i.a.createElement(b.g,{marginRight:8},i.a.createElement(s.a,{color:"secondary"},i.a.createElement(E.c,{id:"ROWS_PER_PAGE"}))),i.a.createElement(T,{value:null==L?void 0:L.toString(),width:48,options:f,onChange:R,motif:g}))),t)):i.a.createElement(i.a.Fragment,null,e(D)))}},2784:function(e,t,a){e.exports=a.p+"../images/35f2202455aa7e2ad80275c30bc159a6.png"},2866:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(5),c=a(23),r=a(32),o=a(4),d=a(140),s=a(34),E=a(18),m=a(184),b=a(183),u=a(573),p=a(1797),O=a(40),C=a(7),v=a(57),g=a(232),h=a(579),N=a(10),_=a(2),T=a(665),I=a(730),y=a(2435),f=a(116),j=a(132),L=a(6),S=a(724),P=a(225),x=a(43),w=a(68),R=a(77);const A={[R.a.ACTIVE]:e=>Object(r.getIsClientConnected)(e),[R.a.OFFLINE]:e=>!(e.type!==r.ClientType.VPN&&e.blocked||e.isUp),[R.a.BLOCKED]:e=>e.type!==r.ClientType.VPN&&!!e.blocked,[R.c.VPN]:e=>e.type===r.ClientType.VPN,[R.c.WIRED]:e=>e.type===r.ClientType.WIRED,[R.c.USERS]:e=>e.type===r.ClientType.VPN||!e.is_guest,[R.c.GUESTS]:e=>"is_guest"in e&&!!e.is_guest,[R.c.NG]:e=>e.isUp?e.type===r.ClientType.WIRELESS&&(e.radio===w.b.RADIO_NG||!e.radio&&e.eagerly_discovered):e.type===r.ClientType.WIRELESS,[R.c.NA]:e=>e.isUp?e.type===r.ClientType.WIRELESS&&(e.radio===w.b.RADIO_NA||!e.radio&&e.eagerly_discovered):e.type===r.ClientType.WIRELESS,[R.c.AX]:e=>e.isUp?e.type===r.ClientType.WIRELESS&&(e.radio===w.b.RADIO_6E||!e.radio&&e.eagerly_discovered):e.type===r.ClientType.WIRELESS,[R.b.DEVICE]:(e,t)=>t&&e.type!==r.ClientType.VPN&&t===e.uplink_mac},k=(e,t)=>{const a={};return Object.keys(e||{}).forEach(n=>{const l=e[n]||{},i=Object.keys(l).filter(e=>l[e]);a[n]=0===i.length||i.some(e=>{var a,n;return null===(n=null===(a=null==A?void 0:A[e])||void 0===a?void 0:a.call(A,t,l[e]))||void 0===n||n})}),Object.values(a)},D=(e,t)=>(e=>{const{status:t,connection_type:a,clients_type:n,device:l}=e||{},{active:i,offline:c,blocked:r}=t||{},{wired:o,vpn:d,ng:s,na:E,ax:m}=a||{},{users:b,guests:u}=n||{},{device:p}=l||{};return i||c||r||o||d||s||E||m||b||u||!!p})(e)&&k(e,t).every(Boolean);var M=a(41);const F=(e,t,a)=>{var n;const l=Object(r.getUplinkDevice)(t,e),i={id:e.id,ip:e.ip,isUp:!!e.uptime,name:e.name,display_name:e.display_name,type:e.type,uplink:l,uplinkName:l&&Object(M.c)(l)||"",vendor:null===(n=Object(r.clientFingerPrintCombiner)(a,e))||void 0===n?void 0:n.fingerprint_device_vendor,network_name:e.network_name};switch(i.type){case r.ClientType.VPN:e.type===r.ClientType.VPN&&(i.remote_ip=e.remote_ip,i.vpn_interface=e.vpn_interface);break;case r.ClientType.WIRED:e.type===r.ClientType.WIRED&&(i.is_wired=e.is_wired,i.sw_port=e.sw_port,i.wired_rate_mbps=e.wired_rate_mbps);break;case r.ClientType.WIRELESS:e.type===r.ClientType.WIRELESS&&(i.ap_mac=e.ap_mac,i.channel=e.channel,i.essid=e.essid,i.eagerly_discovered=e.eagerly_discovered,i.radio=e.radio,i.radio_proto=e.radio_proto,i.rssi=e.rssi,i.signal=e.signal,i.wifi_experience_score=e.wifi_experience_score,i.fixed_ap_enabled=e.fixed_ap_enabled)}return i.type!==r.ClientType.VPN&&e.type!==r.ClientType.VPN&&(i.blocked=e.blocked,i.fingerprint=e.fingerprint,i.first_seen=e.first_seen,i.last_seen=60*Math.floor((e.last_seen||0)/60),i.fixed_ip=e.fixed_ip,i.hostname=e.hostname,i.is_guest=e.is_guest,i.mac=e.mac,i.note=e.note,i.oui=e.oui,i.uplink_mac=(null==l?void 0:l.mac)||e.uplink_mac,i.unifi_device_info=e.unifi_device_info,i.use_fixedip=e.use_fixedip,i.usage_bytes=e.usage_bytes),i};const V={[R.b.STATUS]:{[R.a.ACTIVE]:!0},[R.e.CONNECTION_TYPE]:{[R.c.NG]:!0,[R.c.NA]:!0,[R.c.AX]:!0,[R.c.WIRED]:!0,[R.c.VPN]:!0},[R.e.CLIENTS_TYPE]:{[R.c.USERS]:!0,[R.c.GUESTS]:!0},[R.b.DEVICE]:{[R.b.DEVICE]:""}},U={[R.b.STATUS]:{[R.a.ACTIVE]:!0,[R.a.OFFLINE]:!0,[R.a.BLOCKED]:!0},[R.e.CONNECTION_TYPE]:{[R.c.NG]:!0,[R.c.NA]:!0,[R.c.AX]:!0,[R.c.WIRED]:!0,[R.c.VPN]:!0},[R.e.CLIENTS_TYPE]:{[R.c.USERS]:!0,[R.c.GUESTS]:!0},[R.b.DEVICE]:{[R.b.DEVICE]:""}};var W=a(128);const H=Object(P.b)(f.a.CLIENTS,j.a.CLIENT,V),Y=Object(P.c)(f.a.CLIENTS),z=(e,t,a,n)=>{const l=e.length,i=[];for(let c=0;c<l;c+=1){const l=e[c];(l.type===r.ClientType.VPN||!a||!l.unifi_device)&&i.push(F(l,t,n))}return i},$=Object(L.a)(r.selectOfflineClientData,S.u,Object(m.d)(m.a.ALL_UNIFI_DEVICES_PAGE),W.m,(e,t,a,n)=>z(e,t,a,n)),B=Object(L.a)(r.selectClientsData,S.u,Object(m.d)(m.a.ALL_UNIFI_DEVICES_PAGE),W.m,(e,t,a,n)=>z(e,t,a,n)),G=Object(L.a)(r.selectBlockedClientData,S.u,Object(m.d)(m.a.ALL_UNIFI_DEVICES_PAGE),W.m,(e,t,a,n)=>z(e,t,a,n)),K=Object(L.a)(B,G,$,H,(e,t,a,n)=>{const{status:l}=n,i=[];(null==l?void 0:l[R.a.ACTIVE])&&i.push(e),(null==l?void 0:l[R.a.OFFLINE])&&i.push(a),(null==l?void 0:l[R.a.BLOCKED])&&i.push(t);return Array.prototype.concat.apply([],i)}),X=Object(L.a)(B,G,$,(e,t,a)=>Array.prototype.concat.apply([],[e,t,a])),q=Object(x.b)()(Object(L.a)(K,Y,H,(e,t,a)=>{const n=Object(r.convertLegacyFiltersToCurrentStructure)(a),l=e.length,i=null==t?void 0:t.toLowerCase().trim(),c=[],o=e=>{if(t){if(!["name","note","hostname","mac","fixed_ip","ip"].some(t=>{var a;return(null!==(a=null==e?void 0:e[t])&&void 0!==a?a:"").toLowerCase().includes(i)}))return!1}return!0};for(let r=0;r<l;r+=1){const t=e[r];o(t)&&D(n,t)&&c.push(t)}return c}),e=>e);var J=a(3),Z=a(42),Q=a(2823),ee=a(1757),te=a(9);const ae=Object(J.c)(Z.a)`
  margin-bottom: 4px;
`;var ne=({items:e,heading:t})=>l.a.createElement(te.a,{flexDirection:"column",marginTop:16},l.a.createElement(ae,{weight:"bold",size:"body"},l.a.createElement(_.c,{id:t})),l.a.createElement(Q.a,{spacing:"flush",variant:"list",items:e})),le=a(92),ie=a(1287),ce=a(551),re=a(2405),oe=a(14);const de=Object(J.c)("div")`
  position: absolute;
  left: 0;
  top: 0;
`,se=Object(J.c)(oe.g)`
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
`,Ee=Object(J.c)("div",{shouldForwardProp:e=>"textAlign"!==e})`
  width: 20%;
  max-width: 20%;
  text-align: ${({textAlign:e})=>e};
`,me=Object(J.c)("div",{shouldForwardProp:e=>"left"!==e})`
  position: absolute;
  left: ${({left:e})=>e}%;
  transform: translateX(-50%);
  width: auto;
`,be=Object(J.c)("div")`
  display: flex;
  position: relative;
  padding: ${({theme:{spacing:e}})=>`${e["spacing-xxl"]} 0 ${e["spacing-l"]}`};
  margin-top: ${({theme:e})=>e.spacing["spacing-l"]};
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xxl"]};
  width: 100%;
  overflow: visible;
`,ue=Object(J.c)(re.a)`
  margin: 0 2px;
`,pe=[24,168,720,0];var Oe=()=>{var e,t;const a=Object(i.useDispatch)(),c=null!==(t=null===(e=Object(i.useSelector)(E.O))||void 0===e?void 0:e.offlineClientTimeframe)&&void 0!==t?t:24,o=c&&pe.findIndex(e=>e===c)||0,[d,s]=Object(n.useState)(o),m=Object(ce.a)(e=>{a(Object(r.fetchOfflineClients)({queryParams:{withinHours:e}},{crudCacheStrategy:{type:C.a.CACHE}})),a(Object(E.k)({offlineClientTimeframe:e}))},300),b=Object(n.useCallback)(e=>{var t;const a=+(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)||0;s(a),m(pe[a])},[s]);return l.a.createElement(oe.g,{justifyContent:"center"},l.a.createElement(be,null,l.a.createElement(de,null,l.a.createElement(Z.a,null,l.a.createElement(_.c,{id:"CLIENT_FILTER_OFFLINE_TIMEFRAME_LAST_SEEN"}))),l.a.createElement(ue,{min:0,max:3,value:d,onChange:b,segments:3}),l.a.createElement(se,{justifyContent:"space-between"},l.a.createElement(Ee,{textAlign:"left"},l.a.createElement(Z.a,{size:"label"},l.a.createElement(_.c,{id:"CLIENT_FILTER_OFFLINE_TIMEFRAME_24_HOURS"}))),l.a.createElement(me,{left:33},l.a.createElement(Z.a,{size:"label"},l.a.createElement(_.c,{id:"CLIENT_FILTER_OFFLINE_TIMEFRAME_WEEK"}))),l.a.createElement(me,{left:66},l.a.createElement(Z.a,{size:"label"},l.a.createElement(_.c,{id:"CLIENT_FILTER_OFFLINE_TIMEFRAME_MONTH"}))),l.a.createElement(Ee,{textAlign:"right"},l.a.createElement(Z.a,{size:"label"},l.a.createElement(_.c,{id:"CLIENT_FILTER_OFFLINE_TIMEFRAME_ALL_TIME"}))))))};const Ce=Object(J.c)("div")`
  padding: 24px;
`,ve=Object(J.c)(le.a)`
  width: 38px;
  height: 38px;
`,ge=Object(J.c)("div")`
  margin-bottom: 16px;
`;var he=Object(_.f)(({handleFilterChange:e,onChangeClientFilter:t,devicesData:a,intl:c})=>{var d,s,E,m,b,u,p;const O=Object(r.convertLegacyFiltersToCurrentStructure)(Object(i.useSelector)(H)),C=Object(i.useSelector)(X),{totalUplinkClients:v,apData:g}=a,N=Object(n.useMemo)(()=>[{id:R.f,title:l.a.createElement(_.c,{id:"CLIENT_FILTER_DROPDOWN_AP_ALL"}),image:l.a.createElement(ve,{deviceModel:o.DeviceModel.U7HD,deviceType:o.DeviceType.AP}),subtitle:l.a.createElement(Z.a,{size:"caption",color:"tertiary"},l.a.createElement(_.c,{id:"CLIENT_FILTER_DROPDOWN_DEVICES_CLIENT_COUNT",values:{count:v}}))},...Object.keys(g).map(e=>{const{count:t,device:a}=g[e];return{id:a.mac,title:Object(M.c)(a),image:l.a.createElement(ve,{deviceModel:a.model,deviceType:a.type}),subtitle:l.a.createElement(Z.a,{size:"caption",color:"tertiary"},l.a.createElement(_.c,{id:"CLIENT_FILTER_DROPDOWN_DEVICES_CLIENT_COUNT",values:{count:t}}))}})],[g,v]),T=Object(n.useCallback)(t=>e(R.b.DEVICE,R.b.DEVICE,t),[e]),I=(e,t,a=!0)=>{var n;return null===(n=(C||[]).map(n=>k(Object.assign({},O,{[e]:{[t]:a}}),n)).filter(e=>e.every(Boolean)))||void 0===n?void 0:n.length},f=Object(n.useMemo)(()=>function(e){var t,a,n,l,i,c,r,o,d,s,E;return(null===(t=null==e?void 0:e[R.b.STATUS])||void 0===t?void 0:t[R.a.ACTIVE])&&(null===(a=null==e?void 0:e[R.b.STATUS])||void 0===a?void 0:a[R.a.OFFLINE])&&(null===(n=null==e?void 0:e[R.b.STATUS])||void 0===n?void 0:n[R.a.BLOCKED])&&(null===(l=null==e?void 0:e[R.e.CONNECTION_TYPE])||void 0===l?void 0:l[R.c.WIRED])&&(null===(i=null==e?void 0:e[R.e.CONNECTION_TYPE])||void 0===i?void 0:i[R.c.VPN])&&(null===(c=null==e?void 0:e[R.e.CONNECTION_TYPE])||void 0===c?void 0:c[R.c.NG])&&(null===(r=null==e?void 0:e[R.e.CONNECTION_TYPE])||void 0===r?void 0:r[R.c.NA])&&(null===(o=null==e?void 0:e[R.e.CONNECTION_TYPE])||void 0===o?void 0:o[R.c.AX])&&(null===(d=null==e?void 0:e[R.e.CLIENTS_TYPE])||void 0===d?void 0:d[R.c.USERS])&&(null===(s=null==e?void 0:e[R.e.CLIENTS_TYPE])||void 0===s?void 0:s[R.c.GUESTS])&&!(null===(E=null==e?void 0:e[R.b.DEVICE])||void 0===E?void 0:E[R.b.DEVICE])}(O),[O]),j=Object(n.useCallback)(({target:{checked:e}})=>{const a=e?Object(h.a)(U):{};t(a)},[t]);return l.a.createElement(Ce,null,l.a.createElement(y.d,{checked:f,onChange:j,id:"showAllClientDevices",text:"CLIENT_FILTER_SHOW_ALL_CLIENT_DEVICES",toggleStyle:{marginTop:4,marginBottom:16}}),l.a.createElement(ge,null,l.a.createElement(ie.a,{devices:N,selectedDevice:null!==(s=null===(d=null==O?void 0:O[R.b.DEVICE])||void 0===d?void 0:d[R.b.DEVICE])&&void 0!==s?s:"",setSelectedDevice:T,displayInfoForSelected:!0,displaySubtitleForSelected:!0,ignoreResponsiveText:!0})),l.a.createElement(Q.a,{spacing:"flush",variant:"list",items:[{id:R.c.NG,checked:null===(E=O[R.e.CONNECTION_TYPE])||void 0===E?void 0:E[R.c.NG],children:l.a.createElement(_.c,{id:"CLIENT_FILTER_CONNECTION_"+R.c.NG.toUpperCase()}),onChange:({target:{checked:t}})=>e(R.e.CONNECTION_TYPE,R.c.NG,t)},{id:R.c.NA,checked:null===(m=O[R.e.CONNECTION_TYPE])||void 0===m?void 0:m[R.c.NA],children:l.a.createElement(_.c,{id:"CLIENT_FILTER_CONNECTION_"+R.c.NA.toUpperCase()}),onChange:({target:{checked:t}})=>e(R.e.CONNECTION_TYPE,R.c.NA,t)},{id:R.c.AX,checked:null===(b=O[R.e.CONNECTION_TYPE])||void 0===b?void 0:b[R.c.AX],children:l.a.createElement(_.c,{id:"CLIENT_FILTER_CONNECTION_"+R.c.AX.toUpperCase()}),onChange:({target:{checked:t}})=>e(R.e.CONNECTION_TYPE,R.c.AX,t)}]}),l.a.createElement(ne,{heading:"CLIENT_FILTER_CONNECTION_EXPERIENCE",items:[{id:R.c.WIRED,checked:null===(u=O[R.e.CONNECTION_TYPE])||void 0===u?void 0:u[R.c.WIRED],children:l.a.createElement(_.c,{id:"CLIENT_FILTER_CONNECTION_"+R.c.WIRED.toUpperCase()}),onChange:({target:{checked:t}})=>e(R.e.CONNECTION_TYPE,R.c.WIRED,t)},{id:R.c.VPN,checked:null===(p=O[R.e.CONNECTION_TYPE])||void 0===p?void 0:p[R.c.VPN],children:l.a.createElement(_.c,{id:"CLIENT_FILTER_CONNECTION_"+R.c.VPN.toUpperCase()}),onChange:({target:{checked:t}})=>e(R.e.CONNECTION_TYPE,R.c.VPN,t)}]}),l.a.createElement(ne,{heading:"CLIENT_FILTER_CONNECTION_CLIENTS",items:R.d[R.e.CLIENTS_TYPE].map(t=>{var a;return{key:t,id:t,checked:null===(a=O[R.e.CLIENTS_TYPE])||void 0===a?void 0:a[t],children:l.a.createElement(_.c,{id:"CLIENT_FILTER_CONNECTION_"+t.toUpperCase()}),onChange:({target:{checked:a}})=>e(R.e.CLIENTS_TYPE,t,a),labelProps:{count:I(R.e.CLIENTS_TYPE,t)}}})}),l.a.createElement(ee.a,{multiOpen:!0,variant:"secondary",items:[{id:R.b.STATUS,openByDefault:!0,label:l.a.createElement(_.c,{id:"CLIENT_FILTER_STATUS"}),renderContent:()=>{var t;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Q.a,{spacing:"flush",variant:"list",items:Object.values(R.a).map(t=>{var a;return{key:t,id:t,checked:null===(a=O[R.b.STATUS])||void 0===a?void 0:a[t],children:l.a.createElement(_.c,{id:"CLIENT_FILTER_STATUS_"+t.toUpperCase()}),onChange:({target:{checked:a}})=>e(R.b.STATUS,t,a),labelProps:{count:I(R.b.STATUS,t)}}})}),(null===(t=O[R.b.STATUS])||void 0===t?void 0:t[R.a.OFFLINE])&&l.a.createElement(Oe,null))}}],renderOnlyExpandedContent:!0}))});var Ne=()=>{var e,t;const a=Object(i.useSelector)(X),c=Object(i.useSelector)(Y),o=Object(r.convertLegacyFiltersToCurrentStructure)(Object(i.useSelector)(H)),d=Object(n.useRef)(o),s=null!==(t=null===(e=null==o?void 0:o[R.b.DEVICE])||void 0===e?void 0:e[R.b.DEVICE])&&void 0!==t?t:"",m=Object(i.useDispatch)(),[b,u]=Object(n.useState)(c),p=Object(n.useMemo)(()=>function(e){var t,a,n,l,i,c,r,o,d,s,E;return(null===(t=null==e?void 0:e[R.b.STATUS])||void 0===t?void 0:t[R.a.ACTIVE])&&!(null===(a=null==e?void 0:e[R.b.STATUS])||void 0===a?void 0:a[R.a.OFFLINE])&&!(null===(n=null==e?void 0:e[R.b.STATUS])||void 0===n?void 0:n[R.a.BLOCKED])&&(null===(l=null==e?void 0:e[R.e.CONNECTION_TYPE])||void 0===l?void 0:l[R.c.WIRED])&&(null===(i=null==e?void 0:e[R.e.CONNECTION_TYPE])||void 0===i?void 0:i[R.c.VPN])&&(null===(c=null==e?void 0:e[R.e.CONNECTION_TYPE])||void 0===c?void 0:c[R.c.NG])&&(null===(r=null==e?void 0:e[R.e.CONNECTION_TYPE])||void 0===r?void 0:r[R.c.NA])&&(null===(o=null==e?void 0:e[R.e.CONNECTION_TYPE])||void 0===o?void 0:o[R.c.AX])&&(null===(d=null==e?void 0:e[R.e.CLIENTS_TYPE])||void 0===d?void 0:d[R.c.USERS])&&(null===(s=null==e?void 0:e[R.e.CLIENTS_TYPE])||void 0===s?void 0:s[R.c.GUESTS])&&!(null===(E=null==e?void 0:e[R.b.DEVICE])||void 0===E?void 0:E[R.b.DEVICE])}(o),[o]),O=Object(n.useCallback)(e=>{m(Object(I.b)(e)),m(Object(E.S)(j.a.CLIENT,{filters:e}))},[m]),C=Object(n.useCallback)(()=>{O(Object(h.a)(V))},[O]),v=Object(n.useCallback)((e,t,a)=>{const n=Object.assign({},o,{[e]:{...o[e]||{},[t]:a}});d.current=n,O(n)},[o,O]),g=Object(n.useMemo)(()=>{let e=0;const t=a.reduce((t,a)=>{if(a.type===r.ClientType.VPN)return t;const{uplink:n,uplink_mac:l,is_wired:i}=a;return n&&l&&!i?(t[l]||(t[l]={count:0,device:n}),t[l].count+=1,e+=1,t):t},{});return{totalUplinkClients:e,apData:t}},[a]),L=Object.keys(g.apData).find(e=>e===s)||R.f;return Object(n.useEffect)(()=>{v(R.b.DEVICE,R.b.DEVICE,L)},[]),l.a.createElement(y.c,{isLoading:!1,columnTabProps:{columns:Object.values(T.b),columnLabels:T.c,tableType:j.a.CLIENT},renderFilterDrawerContent:l.a.createElement(he,{devicesData:g,onChangeClientFilter:O,handleFilterChange:v}),filterFooterProps:{label:l.a.createElement(_.c,{id:"COMMON_CONTROL_PANEL_FILTER_FOOTER_RESTORE_DEFAULTS"}),onClick:C,disabled:p},title:"CLIENT_HEADER_CLIENTS",filtersActive:!p},l.a.createElement(l.a.Fragment,null,l.a.createElement(y.e,{value:b,onChange:({target:{value:e}})=>{u(e),m(Object(I.c)(e))},onClear:()=>{u(""),m(Object(I.c)(""))},onSubmit:(e,t)=>{m(Object(I.c)(t))}}),l.a.createElement(y.b,{onClick:()=>m(Object(I.d)(f.b.LIST))},l.a.createElement(N.hb,{size:"original",variant:"fill"})),l.a.createElement(y.b,{onClick:()=>m(Object(I.d)(f.b.GRID))},l.a.createElement(N.fb,{size:"original"}))))},_e=a(39),Te=a(1183),Ie=a(2373),ye=a(70),fe=a(294),je=a(181),Le=a(117),Se=a(2376),Pe=a(168);var xe=()=>{const e=Object(i.useDispatch)(),t=Object(n.useCallback)(()=>e(Object(I.f)()),[]),a=Object(i.useSelector)(r.selectCombinedClientsData);return l.a.createElement(oe.g,{width:"100%",flexDirection:"column"},(null==a?void 0:a.length)?l.a.createElement(Se.a,{icon:"noClients",maxWidth:386,detailPadding:35,title:l.a.createElement(_.c,{id:"CLIENT_EMPTY_FILTER_HEADER"}),details:l.a.createElement(_.c,{id:"CLIENT_EMPTY_FILTER_NO_CLIENTS_DETAILS"}),button:l.a.createElement(Pe.a,{variant:"primary"},l.a.createElement(_.c,{id:"COMMON_RESET_DISPLAY_OPTIONS"})),onClick:()=>{const t=Object(h.a)(V);e(Object(I.b)(t)),e(Object(E.S)(j.a.CLIENT,{filters:t}))}}):l.a.createElement(Se.a,{icon:"noClients",maxWidth:386,detailPadding:35,title:l.a.createElement(_.c,{id:"CLIENT_TABLE_EMPTY_HEADER"}),details:l.a.createElement(_.c,{id:"CLIENT_TABLE_EMPTY_NO_CLIENTS_DETAILS"}),button:l.a.createElement(Pe.a,{variant:"primary"},l.a.createElement(_.c,{id:"CLIENT_EMPTY_ADD_CLIENTS_BUTTON"})),onClick:t}))},we=a(712),Re=a(393),Ae=a(26);const ke=Object(J.c)(Re.a,{shouldForwardProp:e=>!["marginLeft","marginRight"].includes(e)})`
  width: 6px;
  height: 6px;
  ${({marginLeft:e})=>e&&`margin-left: ${e}px;`}
  ${({marginRight:e})=>e&&`margin-right: ${e}px;`}
`,De=Object(J.c)(N.w,{shouldForwardProp:e=>!["marginLeft","marginRight"].includes(e)})`
  width: 13px;
  height: 13px;
  color: ${Ae.a["white-6"]};
  ${({marginLeft:e})=>e&&`margin-left: ${e}px;`}
  ${({marginRight:e})=>e&&`margin-right: ${e}px;`}
`;var Me=({status:e,marginLeft:t,marginRight:a})=>"blocked"===e?l.a.createElement(De,{marginLeft:t-3,marginRight:a-3}):l.a.createElement(ke,{variant:e,marginLeft:t,marginRight:a});const Fe=Object(J.c)(oe.g)`
  height: 120px;
  background: ${({theme:e})=>e.motifPalette.disabled01};
  > picture {
    width: calc(100% - 10px) !important;
    height: 110px;
    text-align: center;
  }
`,Ve=Object(J.c)(Z.a)`
  max-width: 90%;
`,Ue=Object(J.c)(fe.a)`
  max-width: 100%;
  max-height: 80%;
`,We=Object(J.c)(oe.g)`
  width: 100%;
  height: 100%;
  ${({theme:{spacing:e}})=>`padding: ${e["spacing-l"]} 0 ${e["spacing-s"]}`};
`,He=Object(J.c)(oe.g)`
  > div:nth-child(2) {
    max-width: 90%;
    > span:first-child {
      overflow: hidden;
      text-overflow: ellipsis;
    }
  }
`,Ye=Object(J.c)(Z.a)`
  height: 18px;
`,ze=Object(J.c)(oe.g)`
  svg {
    color: ${({theme:e})=>e.motifPalette.icon02};
  }
`,$e=Object(J.c)(Z.a)`
  margin-left: 3px;
`,Be=e=>e.map(e=>{const{id:t,ip:a}=e,{satisfaction:n}=Object(r.getClientExperienceFromPort)(void 0,e);let i;return e.type!==je.c.VPN&&({is_wired:i}=e),{id:t,image:e.type!==je.c.VPN?l.a.createElement(Fe,{justifyContent:"center",alignItems:"center",width:"100%"},l.a.createElement(Ue,{client:e,grid:!0,width:"auto"})):null,children:l.a.createElement(We,{flexDirection:"column",justifyContent:"center"},l.a.createElement(He,{justifyContent:"center",alignItems:"center"},l.a.createElement(Me,{status:Object(r.getStatus)(e),marginRight:6}),l.a.createElement(Ve,{truncate:!0},Object(r.getClientName)(e))),l.a.createElement(Ye,{centered:!0,color:"tertiary",size:"caption"},e.type===je.c.VPN&&e.remote_ip||e.type!==je.c.VPN&&e.fixed_ip||a||""),i?l.a.createElement(oe.g,{height:26}):l.a.createElement(oe.g,{margin:"8px 0",alignItems:"center"},l.a.createElement(Te.a,{value:n,variant:Object(ye.c)(n)})),l.a.createElement(ze,{alignItems:"center"},i?l.a.createElement(oe.g,{alignItems:"center",height:20},l.a.createElement(N.K,{height:14,width:14}),l.a.createElement($e,{color:"tertiary",size:"caption"},l.a.createElement(_.c,{id:e.type===je.c.WIRED&&e.wired_rate_mbps>=1e3?"COMMON_PORT_SPEED_GBE":"COMMON_PORT_SPEED_MBE"}))):l.a.createElement(N.Bc,{height:20,width:20}),l.a.createElement(oe.g,{flex:"1"}),l.a.createElement(we.a,{client:e,props:["tx_bytes-r"]},({"tx_bytes-r":e=0})=>l.a.createElement(oe.s,{bytes:e,direction:"down",pow:2})),l.a.createElement(we.a,{client:e,props:["rx_bytes-r"]},({"rx_bytes-r":e=0})=>l.a.createElement(oe.s,{bytes:e,direction:"up",iconStyle:{marginLeft:"8px"},pow:2}))))}});var Ge=({handleRowClick:e})=>{const t=Object(i.useSelector)(q);return t.length?l.a.createElement(Le.g,null,l.a.createElement(Ie.a,{gutterSize:16,tileSize:"medium",selectType:"none",onTileClick:(a,n,l)=>e(t[l]),items:Be(t)})):l.a.createElement(xe,null)},Ke=a(1895),Xe=a(870),qe=a(2487),Je=a(2490),Ze=a(2451),Qe=a(862),et=a(2784),tt=a.n(et);const at=Object(J.c)("img")`
  max-width: 25px;
  display: block;
`;var nt=({client:e})=>l.a.createElement(oe.g,{height:30,minWidth:30,maxWidth:30,justifyContent:"center",alignItems:"center"},e.type===r.ClientType.VPN?l.a.createElement(at,{src:tt.a,alt:"VPN Client icon"}):l.a.createElement(fe.a,{client:e,alt:e.name})),lt=a(148),it=a(317),ct=a(560),rt=a(84),ot=a(2378),dt=a(69);const st={[R.a.ACTIVE]:1,[R.a.OFFLINE]:2,[R.a.BLOCKED]:3,unknown:4},Et=e=>Object(r.getIsClientConnected)(e)?R.a.ACTIVE:e.type!==r.ClientType.VPN&&e.blocked||e.isUp?e.type!==r.ClientType.VPN&&e.blocked?R.a.BLOCKED:"unknown":R.a.OFFLINE,mt=(e,t)=>{const a=st[Et(e)],n=st[Et(t)];return Object(rt.d)(a,n)},bt=(e,t)=>{if(e.type!==r.ClientType.VPN){const{uplinkName:a}=e,n=e.type===r.ClientType.WIRED?e.sw_port:null;return a?[a,n]:[Object(dt.d)(t),null]}return[Object(dt.c)(t),null]},ut=(e,t)=>{let a;switch(e.type){case r.ClientType.WIRED:a="wired";break;case r.ClientType.WIRELESS:a=e.essid;break;case r.ClientType.VPN:a="vpn"}return a||Object(dt.c)(t)},pt=(e,t,a,n,l)=>{const i=ut(a,l),c=ut(n,l);return Object(rt.d)(i,c)||mt(a,n)},Ot=(e,t)=>e.type===r.ClientType.VPN?Object(dt.c)(t):e.vendor||Object(dt.c)(t),Ct=e=>(t,a,n,l,i)=>{const c=e(n,t,i),r=e(l,a,i);return Object(rt.d)(c,r)||mt(n,l)};var vt=a(105),gt=a(1829);const ht=Object(J.c)(Z.a)`
  max-width: 90%;
`;var Nt=({client:e})=>{var t;const a="fingerprint"in e&&e.fingerprint,c=Object(n.useMemo)(()=>Object(r.selectClientFingerprint)(e),[null==a?void 0:a.computed_dev_id,null==a?void 0:a.computed_engine,null==a?void 0:a.confidence,null==a?void 0:a.dev_cat,null==a?void 0:a.dev_family,null==a?void 0:a.dev_id,null==a?void 0:a.dev_id_override,null==a?void 0:a.dev_vendor,null==a?void 0:a.has_override,null==a?void 0:a.os_class,null==a?void 0:a.os_name]),o=null===(t=Object(i.useSelector)(c))||void 0===t?void 0:t.fingerprint_device_vendor;return l.a.createElement(ht,{size:"body",truncate:!0},o||"-")},_t=a(1827),Tt=a(1828);const It=Object(J.c)(Z.a)`
  max-width: 90%;
`,yt=(Object(J.c)(Te.a)`
  width: 24px;
  margin-left: 7px;
`,Object(J.c)(Z.a,{shouldForwardProp:e=>"direction"!==e})`
  color: ${({direction:e})=>"up"===e?Ae.a["purple-1"]:Ae.a["blue-3"]} !important;
`),ft=({client:e,children:t,ignoreOpacity:a=!1})=>l.a.createElement(oe.g,{width:"100%",opacity:a||"success"===Object(r.getStatus)(e)?1:.5},t),jt=[{id:T.b.STATUS,label:null,growthFactor:1,renderCell:e=>l.a.createElement(Me,{status:Object(r.getStatus)(e),marginLeft:5,marginRight:12})},{id:T.b.NAME,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.NAME]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(oe.g,{width:"100%",alignItems:"center",whiteSpace:"nowrap"},l.a.createElement(nt,{client:e}),l.a.createElement(It,{size:"body",color:"secondary",truncate:!0},Object(r.getClientName)(e)))),compare:Ct(e=>Object(r.getClientName)(e))},{id:T.b.MAC,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.MAC]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(Z.a,{size:"body",color:"secondary"},e.type!==je.c.VPN&&e.mac||l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))),compare:Ct(e=>e.type===je.c.VPN?"":e.mac)},{id:T.b.VENDOR,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.VENDOR]}),renderCell:e=>l.a.createElement(ft,{client:e},e.type===je.c.VPN?l.a.createElement(It,{size:"body"},l.a.createElement(_.c,{id:"COMMON_HYPHEN"})):l.a.createElement(Nt,{client:e})),compare:(e,t,a,n,l)=>{const i=Ot(a,l),c=Ot(n,l);return Object(rt.d)(i,c)||pt(0,0,a,n,l)}},{id:T.b.CONNECTION,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.CONNECTION]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(Z.a,{size:"body",color:"secondary"},(()=>{let t;switch(e.type){case je.c.WIRED:t=l.a.createElement(_.c,{id:"CLIENT_WIRED"});break;case je.c.WIRELESS:t=e.essid;break;case je.c.VPN:t=l.a.createElement(_.c,{id:"CLIENT_VPN"})}return t||l.a.createElement(_.c,{id:"COMMON_HYPHEN"})})())),compare:pt},{id:T.b.NETWORK,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.NETWORK]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(Z.a,{size:"body",color:"secondary"},"network_name"in e&&e.network_name?e.network_name:l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))),compare:Ct((e,t,a)=>"network_name"in e?e.network_name:Object(dt.c)(a))},{id:T.b.INTERFACE,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.INTERFACE]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(Z.a,{size:"body",color:"secondary"},e.type===je.c.VPN&&e.vpn_interface||l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))),compare:Ct((e,t,a)=>e.type===je.c.VPN&&e.vpn_interface||Object(dt.c)(a))},{id:T.b.WIFI_BAND,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.WIFI_BAND]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(Z.a,{size:"body",color:"secondary"},e.type===je.c.WIRELESS?Object(r.getWifiConnection)(e):l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))),compare:Ct((e,t,a)=>{var n,l,i,c;if(e.type===je.c.WIRELESS){const t=null===(l=vt.a[null===(n=null==e?void 0:e.radio_proto)||void 0===n?void 0:n.toUpperCase()])||void 0===l?void 0:l.sortOrder,r=null===(c=vt.a[null===(i=null==e?void 0:e.radio_proto)||void 0===i?void 0:i.toUpperCase()])||void 0===c?void 0:c.sortOrder;return t||r||Object(dt.b)(a)}return Object(dt.b)(a)})},{id:T.b.IP,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.IP]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(Z.a,{size:"body",color:"secondary"},e.type===je.c.VPN?e.remote_ip:e.use_fixedip&&e.fixed_ip||e.ip||l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))),compare:lt.l},{id:T.b.EXPERIENCE,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.EXPERIENCE]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(gt.a,{activeItem:e})),compare:Ct((e,t,a)=>((e,t)=>{const a="is_wired"in e?e.is_wired:void 0,n="wired_rate_mbps"in e?e.wired_rate_mbps:void 0,{satisfaction:l,known:i}=Object(r.getClientExperienceFromPort)(void 0,e);switch(!0){case!a&&l>0&&i:return l*dt.i;case a&&!!n:return n>0?Object(ot.a)(n,1)*dt.h:Object(dt.a)(dt.f,t);default:return Object(dt.a)(dt.f,t)}})(e,a))},{id:T.b.DOWNLINK,sortable:!1,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.DOWNLINK]}),renderCell:e=>l.a.createElement(ft,{client:e,ignoreOpacity:!0},l.a.createElement(we.a,{client:e,props:["tx_bytes-r"]},({"tx_bytes-r":e=0})=>l.a.createElement(oe.s,{bytes:e,direction:"down",size:"body",iconStyle:{width:"10px",height:"16px",margin:"0 16px 2px 0"},pow:2})))},{id:T.b.UPLINK,sortable:!1,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.UPLINK]}),renderCell:e=>l.a.createElement(ft,{client:e,ignoreOpacity:!0},l.a.createElement(we.a,{client:e,props:["rx_bytes-r"]},({"rx_bytes-r":e=0})=>l.a.createElement(oe.s,{bytes:e,direction:"up",size:"body",iconStyle:{width:"10px",height:"16px",margin:"0 16px 2px 0"},pow:2})))},{id:T.b.DAILY_USAGE,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.DAILY_USAGE]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(we.a,{client:e,props:["usage_bytes"]},({usage_bytes:e=null})=>e?l.a.createElement(Z.a,{color:"secondary",size:"body"},l.a.createElement(Qe.a,{size:"body",type:"bytes",input:e})):l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))),compare:Ct((e,t,a)=>(null==e?void 0:e.usage_bytes)||Object(dt.b)(a))},{id:T.b.UPTIME,sortable:!1,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.UPTIME]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(we.a,{client:e,props:["uptime"]},({uptime:e})=>l.a.createElement(Z.a,{size:"body",color:"secondary"},e?Object(it.a)(e):l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))))},{id:T.b.CHANNEL,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.CHANNEL]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(Z.a,{size:"body",color:"secondary"},e.type===je.c.WIRELESS&&e.isUp&&e.channel?e.channel:l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))),compare:Ct((e,t,a)=>e.type===je.c.WIRELESS&&e.isUp&&e.channel?e.channel:Object(dt.b)(a))},{id:T.b.UPLINK_AP_PORT,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.UPLINK_AP_PORT]}),renderCell:e=>l.a.createElement(ft,{client:e},e.type!==je.c.VPN?l.a.createElement(_t.a,{uplinkMac:e.uplink_mac,uplinkName:e.uplinkName,uplinkPort:e.type===je.c.WIRED?e.sw_port:null,clientFixedApEnabled:e.type===je.c.WIRELESS&&(null==e?void 0:e.fixed_ap_enabled),clientMac:e.mac}):l.a.createElement(Z.a,{size:"body",color:"secondary"},l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))),compare:(e,t,a,n,l)=>{const[i,c]=bt(a,l),[r,o]=bt(n,l);return Object(rt.d)(i,r)||Object(rt.d)(c,o)||mt(a,n)}},{id:T.b.SIGNAL,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.SIGNAL]}),renderCell:e=>l.a.createElement(ft,{client:e},e.type===je.c.WIRELESS&&e.isUp?l.a.createElement(we.a,{client:e,props:["signal"]},({signal:e})=>e?l.a.createElement(oe.g,{alignItems:"center",width:"100%",height:"100%"},l.a.createElement(Z.a,{size:"body",color:"secondary"},e,"Â ",l.a.createElement(_.c,{id:"COMMON_UNIT_DBM"})),l.a.createElement(Tt.a,{signal:e})):l.a.createElement(Z.a,{size:"body",color:"secondary"},l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))):l.a.createElement(Z.a,{size:"body",color:"secondary"},l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))),compare:Ct((e,t,a)=>{const{signal:n}=e;return n||Object(dt.b)(a)})},{id:T.b.RX_RATE,sortable:!1,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.RX_RATE]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(we.a,{client:e,props:["tx_rate"]},({tx_rate:e})=>e>0?l.a.createElement(oe.s,{hideIcon:!0,bytes:1e3*e/8,direction:"down",size:"body"}):l.a.createElement(Z.a,{size:"body",color:"secondary"},l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))))},{id:T.b.TX_RATE,sortable:!1,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.TX_RATE]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(we.a,{client:e,props:["rx_rate"]},({rx_rate:e})=>e>0?l.a.createElement(oe.s,{hideIcon:!0,bytes:1e3*e/8,direction:"up",size:"body"}):l.a.createElement(Z.a,{size:"body",color:"secondary"},l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))))},{id:T.b.FIRST_SEEN,sortable:!0,label:l.a.createElement(_.c,{id:T.c[T.b.FIRST_SEEN]}),minWidth:160,renderCell:e=>l.a.createElement(ft,{client:e},e.type!==je.c.VPN?l.a.createElement(Z.a,{size:"body",color:"secondary"},l.a.createElement(ct.a,{date:Object(it.b)(e.first_seen)})):l.a.createElement(Z.a,{size:"body",color:"secondary"},l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))),compare:Ct((e,t,a)=>e.type!==je.c.VPN?e.first_seen:Object(dt.b)(a))},{id:T.b.LAST_SEEN,sortable:!0,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.LAST_SEEN]}),renderCell:e=>l.a.createElement(ft,{client:e},e.type!==je.c.VPN?l.a.createElement(Z.a,{size:"body",color:"secondary"},l.a.createElement(ct.a,{date:Object(it.b)(e.last_seen)})):l.a.createElement(Z.a,{size:"body",color:"secondary"},l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))),compare:Ct((e,t,a)=>e.type!==je.c.VPN?e.last_seen:Object(dt.b)(a))},{id:T.b.DOWN_PKTS,sortable:!1,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.DOWN_PKTS]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(we.a,{client:e,props:["tx_packets"]},({tx_packets:e})=>e>0?l.a.createElement(yt,{size:"body",direction:"down"},e):l.a.createElement(Z.a,{size:"body",color:"secondary"},l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))))},{id:T.b.UP_PKTS,sortable:!1,minWidth:160,label:l.a.createElement(_.c,{id:T.c[T.b.UP_PKTS]}),renderCell:e=>l.a.createElement(ft,{client:e},l.a.createElement(we.a,{client:e,props:["rx_packets"]},({rx_packets:e})=>e>0?l.a.createElement(yt,{size:"body",direction:"up"},e):l.a.createElement(Z.a,{size:"body",color:"secondary"},l.a.createElement(_.c,{id:"COMMON_HYPHEN"}))))}];var Lt=a(371);var St=({handleRowClick:e})=>{const t=Object(i.useDispatch)(),a=Object(i.useSelector)(q),c=Object(i.useSelector)(Lt.b),r=Object(n.useRef)(),{sortBy:o,isAscending:d,initialColumns:s}=Object(i.useSelector)(Object(E.I)(Xe.a.CLIENT)),m=(e,a)=>{t(Object(E.S)(Xe.a.CLIENT,{sortBy:e.id,isAscending:a}))},b=Object(n.useCallback)(({from:t,rowsPerPage:n})=>l.a.createElement(Ze.a,null,l.a.createElement(Ke.a,{ref:r,items:a,rowLimit:n,rowOffset:t,columns:jt,onRowClick:e,onSort:m,initialSortBy:o,initiallySortAscending:d,columnOverride:s,rowHeight:32,headerRowClassName:qe.a,disableColumnFilters:!0})),[a,jt,d,o,m]);return a.length&&(null==s?void 0:s.length)?l.a.createElement(Je.a,{section:"CLIENT_HEADER_CLIENTS",items:a,tableType:Xe.a.CLIENT,onRenderTable:b,onPageChanged:e=>{t(Object(I.e)(e))},pageNumber:c}):l.a.createElement(xe,null)};var Pt=()=>{const e=Object(c.k)(),{site:t}=Object(c.m)(),a=Object(i.useDispatch)(),r=Object(n.useMemo)(()=>Object(P.d)(f.a.CLIENTS),[]),o=Object(i.useSelector)(r)!==f.b.GRID,d=Object(n.useCallback)(n=>{if("mac"in n){const{mac:l}=n;e.push(Object(c.i)("/:site/clients/properties/:id?/:panel?/:subPanel?",{id:l,panel:"overview",site:t})),a(Object(_e.g)({type:v.b.CLIENT,mac:l}))}},[a,e,t]);return l.a.createElement(oe.g,Object.assign({width:"100%",height:"100%",overflow:"auto"},!o&&{padding:"32px"}),o?l.a.createElement(St,{handleRowClick:d}):l.a.createElement(Ge,{handleRowClick:d}))};t.default=()=>{var e,t;const a=null!==(t=null===(e=Object(i.useSelector)(E.O))||void 0===e?void 0:e.offlineClientTimeframe)&&void 0!==t?t:24;return Object(O.g)([Object(s.fetchNetworks)(void 0,{crudCacheStrategy:{type:C.a.CACHE}}),Object(d.b)({crudCacheStrategy:{type:C.a.CACHE}}),Object(o.fetchDevices)(void 0,{crudCacheStrategy:{type:C.a.CACHE}}),Object(r.fetchClients)(void 0,{crudCacheStrategy:{type:C.a.CACHE}}),Object(r.fetchOfflineClients)({queryParams:{withinHours:a}},{crudCacheStrategy:{type:C.a.CACHE}}),Object(r.fetchBlockedClients)(void 0,{crudCacheStrategy:{type:C.a.CACHE}}),Object(m.c)(void 0,{crudCacheStrategy:{type:C.a.CACHE}}),Object(b.c)("clients"),Object(b.c)("devices"),Object(b.c)("pagination")],l.a.createElement(u.a,null,l.a.createElement(Ne,null),l.a.createElement(Pt,null),l.a.createElement(c.g,null,l.a.createElement(g.a,{path:"/:site/clients/properties/:id?/:panel?/:subPanel?"},l.a.createElement(p.a,{panelType:v.b.CLIENT})))),{trackingName:"clients-page"})}}}]);
//# sourceMappingURL=clients.f400b1db6c26e1693504.js.map