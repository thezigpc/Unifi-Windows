(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[42],{1774:function(e,t,a){"use strict";var n=a(0),l=a.n(n),_=a(3),c=a(2),r=a(1780),E=a.n(r),i=a(1259),o=a(493),S=a(494);const m=Object(_.c)("span")`
  line-height: 1.5;
  margin-top: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`;t.a=({when:e,ignoredPaths:t=null,onLeave:a=null,onStay:_=null,leaveButtonText:r="SETTINGS_MODAL_UNSAVED_CHANGES_LEAVE",stayButtonText:s="SETTINGS_MODAL_UNSAVED_CHANGES_STAY",modalTitle:d="SETTINGS_MODAL_UNSAVED_CHANGES_TITLE",modalDescription:A="SETTINGS_MODAL_UNSAVED_CHANGES_CONTENT"})=>{const u=Object(n.useMemo)(()=>({overlay:{"--modal-z-index":2e3}}),[]),R=Object(S.a)(t),T=Object(n.useCallback)((e,t)=>t.pathname!==e.pathname,[]),I=Object(n.useCallback)(e=>(e={},t={})=>R(e,t)&&T(e,t),[R,T]);return!!e&&l.a.createElement(E.a,{when:I(t)},({onCancel:e,onConfirm:t})=>l.a.createElement(i.a,{actions:[{type:"button",text:l.a.createElement(c.c,{id:s}),onClick:()=>_?_(e):e()},{type:"button",text:l.a.createElement(c.c,{id:r}),onClick:()=>a?a(t):t(),variant:"primary"}],isOpen:!0,size:"small",style:u,parentSelector:o.b,title:l.a.createElement(c.c,{id:d}),onRequestClose:()=>_?_(e):e()},l.a.createElement(m,null,l.a.createElement(c.c,{id:A}))))}},2293:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),_=a(823),c=a(252),r=a(30),E=a(40),i=a(7),o=a(2),S=a(5),m=a(23),s=a(18),d=a(72),A=a(2429),u=a(28),R=a(136),T=a(16),I=a(36),b=a(1763),N=a(1761),D=a(1762),O=a(2379),p=a(38);var h=()=>{const{values:e}=Object(I.e)();return l.a.createElement(b.a,null,l.a.createElement(N.a,null,l.a.createElement(R.SearchableGridLabel,{alignWith:"toggleSmall",htmlFor:"enabled",label:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_RADIUS_SERVER"}),description:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_DESCRIPTION_RADIUS_SERVER"})}),l.a.createElement(D.a,null,l.a.createElement(p.Field,{name:"enabled",type:"checkbox"}))),l.a.createElement(N.a,{disabled:!e.enabled},l.a.createElement(R.SearchableGridLabel,{alignWith:"input",htmlFor:"x_secret",label:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_RADIUS_SECRET"}),description:l.a.createElement(o.c,{id:"SETTINGS_GATEWAY_RADIUS_DESCRIPTION_SECRET"}),searchText:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_RADIUS_SECRET_SEARCH_TEXT"}),l.a.createElement(D.a,{column:!0},l.a.createElement(p.Field,{name:"x_secret",full:!0,type:"password",passwordToggle:!0,disabled:!e.enabled}))),l.a.createElement(N.a,null,l.a.createElement(O.a,{alignWith:"toggleSmall",htmlFor:"vlan_enabled",label:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_PROFILE_FORM_LABEL_ENABLE_WIRED"}),description:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_PROFILE_FORM_DESCRIPTION_ENABLE_WIRED"})}),l.a.createElement(D.a,null,l.a.createElement(p.Field,{name:"vlan_enabled",type:"checkbox"}))),l.a.createElement(N.a,null,l.a.createElement(O.a,{alignWith:"toggleSmall",htmlFor:"vlan_wlan_mode",label:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_PROFILE_FORM_LABEL_ENABLE_WIRELESS"}),description:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_PROFILE_FORM_DESCRIPTION_ENABLE_WIRELESS"})}),l.a.createElement(D.a,null,l.a.createElement(p.Field,{name:"vlan_wlan_mode",type:"checkbox"}))))};var C=()=>{const{values:e}=Object(I.e)();return l.a.createElement(b.a,{padding:"none"},l.a.createElement(N.a,{disabled:!e.enabled},l.a.createElement(R.SearchableGridLabel,{alignWith:"input",htmlFor:"auth_port",label:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_AUTHENTICATION_PORT"}),description:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_DESCRIPTIONS_AUTHENTICATION_PORT"}),searchText:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_AUTHENTICATION_PORT_SEARCH_TEXT"}),l.a.createElement(D.a,{column:!0},l.a.createElement(p.Field,{name:"auth_port",full:!0,type:"number",disabled:!e.enabled}))),l.a.createElement(N.a,{disabled:!e.enabled},l.a.createElement(R.SearchableGridLabel,{alignWith:"input",htmlFor:"acct_port",label:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_ACCOUNTING_PORT"}),description:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_DESCRIPTIONS_ACCOUNTING_PORT"}),searchText:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_ACCOUNTING_PORT_SEARCH_TEXT"}),l.a.createElement(D.a,{column:!0},l.a.createElement(p.Field,{name:"acct_port",full:!0,type:"number",disabled:!e.enabled}))),l.a.createElement(N.a,{disabled:!e.enabled},l.a.createElement(R.SearchableGridLabel,{alignWith:"input",htmlFor:"interim_update_interval",label:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_ACCOUNTING_INTERIM_INTERVAL"}),description:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_DESCRIPTIONS_ACCOUNTING_INTERIM_INTERVAL"}),searchText:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_ACCOUNTING_INTERIM_INTERVAL_SEARCH_TEXT"}),l.a.createElement(D.a,{column:!0},l.a.createElement(p.Field,{name:"interim_update_interval",full:!0,type:"number",disabled:!e.enabled}))),l.a.createElement(N.a,{disabled:!e.enabled},l.a.createElement(R.SearchableGridLabel,{alignWith:"toggleSmall",htmlFor:"tunneled_reply",label:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_TUNNELED_REPLY"}),description:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_DESCRIPTIONS_TUNNELED_REPLY"}),searchText:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_TUNNELED_REPLY_SEARCH_TEXT"}),l.a.createElement(D.a,null,l.a.createElement(p.Field,{name:"tunneled_reply",type:"checkbox",disabled:!e.enabled}))))},L=a(3),U=a(804),g=a(1895),M=a(10),f=a(14),v=a(2611);const V=Object(L.c)(U.a)`
  margin-top: 35px;
  margin-right: auto !important;
`,G=Object(L.c)(M.Db)`
  color: ${({theme:e})=>e.motifPalette.ui06};
`,j=Object(L.c)(f.c)`
  margin-left: ${({theme:e})=>e.spacing["spacing-s"]};
`;var x=()=>{const e=Object(m.k)(),t=Object(E.j)("advanced/radius/form/user"),a=Object(n.useCallback)(e=>`${t}/${e}`,[t]),c=Object(S.useSelector)(_.selectNonNetworkAccounts);return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{columns:v.b,idField:"_id",items:c,disableColumnFilters:!0,disableSelection:!0,disableTextPointer:!0,onRowClick:({_id:t})=>e.push(a(t))}),l.a.createElement(V,{variant:"comfy"},l.a.createElement(G,null),l.a.createElement(j,{legacy:!1,name:"new-radius-user",variant:"link",type:"button",onClick:()=>e.push(t)},l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_SECTION_BUTTON_ADD_RADIUS_USER"}))))},y=a(2652),P=a(2568),F=a(2566);var w=()=>{const{user:e}=Object(m.m)(),t=Object(n.useMemo)(()=>!!e,[e]),a=Object(S.useDispatch)(),_=Object(S.useSelector)(s.x),i=Object(S.useSelector)(c.selectDefaultRadiusProfile),I=Object(S.useSelector)(d.f),b=Object(S.useSelector)(r.selectRadiusSettings),N=Object(m.k)(),D=Object(n.useMemo)(()=>({...b,vlan_enabled:i.vlan_enabled||!1,vlan_wlan_mode:i.vlan_wlan_mode===c.RADIUS_VLAN_OPTIONS.ENABLED,configure_whole_network:!0===b.enabled||b.configure_whole_network}),[i.vlan_enabled,i.vlan_wlan_mode,b]),O=Object(E.i)(),p=Object(n.useMemo)(()=>({isSubmitted:!1}),[]),L=Object(E.j)("advanced/radius/form"),U=Object(n.useCallback)(()=>{N.push(L)},[L,N]),g=Object(n.useMemo)(()=>({component:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_PAGE_TITLE",values:{name:Object(F.b)(i,I)}}),message:"radius-server"}),[i,I]),M=Object(n.useMemo)(()=>[{id:"radius-settings",label:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_SECTION_LABEL_RADIUS_SETTINGS"}),renderContent:()=>l.a.createElement(C,null)},{id:"radius-users",label:l.a.createElement(o.c,{id:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_SECTION_LABEL_RADIUS_USERS"}),renderContent:()=>l.a.createElement(x,null),openByDefault:t}],[t]),f=Object(n.useCallback)((e,{setSubmitting:t})=>{const{vlan_enabled:n,vlan_wlan_mode:l,..._}=e,E={...i,vlan_enabled:n,vlan_wlan_mode:e.vlan_wlan_mode?c.RADIUS_VLAN_OPTIONS.ENABLED:c.RADIUS_VLAN_OPTIONS.DISABLED},o={..._,key:"radius"};o.enabled||delete o.x_secret,a(Object(r.saveSettings)(o)).then(a(Object(c.saveRadiusProfile)(E))).then(()=>{a(Object(u.c)({icon:T.a.success,message:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_TOAST_SAVE_SUCCESS"})),O()}).catch(e=>{a(Object(u.c)({errorMessage:e.msg,errorValues:e,icon:T.a.danger,message:"SETTINGS_ADVANCED_RADIUS_SERVER_FORM_TOAST_SAVE_FAILURE"})),t(!1)})},[i,a,O]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(A.b,{goBack:O,initialStatus:p,initialValues:D,isEdit:!0,isView:_,showBack:!0,title:g,validationSchema:P.b,onEscClicked:O,hideClose:!0,onSubmit:f,unsavedChangesModalIgnoredPaths:/\/radius\/form\/user(\/[\w_-]*\/?)?$/},l.a.createElement(h,null),l.a.createElement(R.SearchableAccordion,{items:M,multiOpen:!0})),t&&l.a.createElement(y.a,{onClose:U}))};t.default=()=>Object(E.g)([Object(c.fetchRadiusProfiles)(void 0,{crudCacheStrategy:{type:i.a.CACHE}}),Object(_.fetchAccounts)(void 0,{crudCacheStrategy:{type:i.a.CACHE}}),Object(r.fetchSettings)({type:i.a.CACHE})],l.a.createElement(w,null))},2429:function(e,t,a){"use strict";a.d(t,"b",(function(){return L})),a.d(t,"a",(function(){return b}));var n=a(0),l=a.n(n),_=a(3),c=a(2),r=a(36),E=a(2838),i=a(2760),o=a(1774),S=a(867),m=a(14),s=a(10),d=a(42);const A=Object(_.c)(m.g)`
  > * {
    /* Use margin on child rather than padding on self not to occupy space when no button is shown */
    margin-left: ${({theme:e})=>e.spacing["spacing-xxl"]};
    margin-right: ${({theme:e})=>e.spacing["spacing-xxl"]};
  }
`,u=Object(_.c)(m.g)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui03};
`,R=Object(_.c)("h1")`
  font-size: 16px;
  font-weight: normal;
`,T=Object(_.c)(m.c)`
  padding: ${({theme:e})=>e.spacing["spacing-s"]};
`,I=Object(_.c)(d.a)`
  color: ${({theme:e})=>e.motifPalette.text01} !important;
  font-size: 16px !important;
`;var b=({title:e,showBack:t,goBack:a,onEscClicked:n,hideClose:_,ignoredPaths:c})=>l.a.createElement(u,{flex:"none",height:"65px"},l.a.createElement(m.g,{alignItems:"center",flex:"1",justifyContent:"space-between"},l.a.createElement(A,{alignItems:"center",flex:"1",height:"100%"},t&&l.a.createElement(T,{legacy:!1,name:"backButton",type:"button",onClick:a},l.a.createElement(s.g,{size:"original"}))),l.a.createElement(R,null,l.a.createElement(I,{weight:"bold"},e.component)),l.a.createElement(A,{alignItems:"center",flex:"1",height:"100%",justifyContent:"flex-end"},!_&&l.a.createElement(T,{legacy:!1,name:"closeButton",type:"button",onClick:n},l.a.createElement(s.A,{size:"original"})))));const N=Object(_.c)(m.g)`
  width: 100%;
  max-width: ${S.a};
  margin: 0 auto;
  padding: ${({theme:e})=>e.spacing["spacing-xxxxl"]}
    ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px;
`,D=Object(_.c)("form")`
  display: flex;
  flex: 1;
  overflow: hidden;
  width: 100%;
  height: 100%;
`,O=Object(_.c)(m.g)`
  @media (max-width: 1010px) {
    flex-direction: column;
  }
`,p=Object(_.c)(E.a)`
  transition: height 100ms ease, transform 100ms ease; /* TODO: Remove with next ui-components update (v25.1.1 +)  */
  > :first-child {
    max-width: ${S.a};
    padding-left: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    padding-right: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    position: relative;
    margin: 0 auto;
  }
`,h=Object(_.c)(m.h)`
  background: transparent;
  overflow: scroll !important;
  margin-right: -${({theme:e})=>e.scrollBarWidth}px;
`,C=Object(_.c)(m.k)`
  height: 100%;
  width: 100%;
`;var L=({children:e,disableUnsavedChangesModal:t,goBack:a,hideClose:n,isEdit:_,isView:E,showBack:S,title:s,unsavedChangesModalIgnoredPaths:d,onEscClicked:A,submitText:u="COMMON_ACTION_APPLY_CHANGES",footerActiveOverride:R=!1,customFooterButtons:T,hidddenHeader:I,className:L,...U})=>l.a.createElement(r.c,Object.assign({enableReinitialize:!0},U),({dirty:_,handleReset:r,handleSubmit:U,isSubmitting:g})=>l.a.createElement(D,{autoComplete:"off",onSubmit:U,className:L},l.a.createElement(C,{vertical:!0},!I&&l.a.createElement(b,{goBack:a,hideClose:n,showBack:S,title:s,onEscClicked:A,ignoredPaths:d}),l.a.createElement(h,{flex:"1"},l.a.createElement(N,{flex:"none",flexDirection:"column"},e)),!t&&!E&&l.a.createElement(o.a,{ignoredPaths:d,when:_&&!g}),(!E||R)&&l.a.createElement(p,{active:_||R},l.a.createElement(m.g,{justifyContent:T?"space-between":"flex-end",width:"100%",alignItems:"center"},T&&l.a.createElement(O,null,T(g)),!E&&l.a.createElement(m.g,null,l.a.createElement(i.a,{disabled:!_||g,type:"button",variant:"default",onClick:r},l.a.createElement(c.c,{id:"COMMON_ACTION_CANCEL"})),l.a.createElement(i.a,{disabled:!_||g,type:"submit",variant:"primary"},l.a.createElement(c.c,{id:u}))))))))},2462:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a(0),l=a.n(n),_=a(3),c=a(861),r=a(42),E=a(491),i=a(14),o=a(2);const S=100,m=Object(_.c)(i.g)`
  max-width: ${S}px;
`,s=Object(_.c)(c.a,{shouldForwardProp:e=>"itemCount"!==e})`
  > div > div > div {
    height: ${({itemCount:e})=>`calc(24px + ${14*e}px)`};
    max-height: 98px;
    padding: 8px 0 8px 8px;
  }

  .tooltipClassName {
    &,
    &:before {
      background-color: ${({theme:e})=>e.motifPalette.ui07};
    }
  }
`,d=Object(_.c)("div")`
  height: 100%;
  overflow-y: scroll;
  overflow-x: hidden;
  &::-webkit-scrollbar-thumb {
    background-color: ${({theme:e})=>e.motifPalette.link02};
  }
`,A=Object(_.c)(r.a)`
  display: block;
  width: 100%;
  line-height: 1.33333;
`;t.b=({names:e,messageId:t,rootSelector:a})=>{const _=Object(n.useMemo)(()=>e.map(e=>l.a.createElement(A,{truncate:!0,color:"primary"},e)),[e]);return l.a.createElement(E.a,{rootSelector:a,openOnMouseEnter:!0,align:"topCenter",toggleOffset:-10,renderToggle:()=>l.a.createElement(m,null,l.a.createElement(r.a,{truncate:!0},t&&e.length>1?l.a.createElement(o.c,{id:t,values:{count:e.length}}):e.join(", "))),renderCard:({open:t})=>t&&e.length>1&&l.a.createElement(s,{itemCount:e.length,isInteractive:!0,width:132,tooltipProps:{tooltipClassName:"tooltipClassName"},message:l.a.createElement(d,null,_)})})}},2565:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n="radiusBubbleContainer"},2566:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return s}));var n=a(0),l=a.n(n),_=a(3),c=a(9);const r=Object(_.c)(c.a)`
  margin: ${({theme:e})=>e.space[3]}px 0;
`,E=Object(_.c)("div")`
  margin: ${({theme:e})=>e.space[2]}px 0;
`,i=e=>`${e.ip} : ${e.port}`,o=e=>l.a.createElement(E,{key:`${e.ip}${e.port}`},i(e)),S=({children:e})=>l.a.createElement(r,{flexDirection:"column"},e),m=({auth_servers:e,attr_no_delete:t},a)=>t?l.a.createElement("span",null,a):e&&e.length>0?l.a.createElement(S,null,e.map(o)):"-",s=({accounting_enabled:e,acct_servers:t,attr_no_delete:a})=>{if(a)return"-";return t&&t.length>0&&e?l.a.createElement(S,null,t.map(o)):"-"}},2568:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return S}));var n=a(0),l=a.n(n),_=a(2),c=a(101),r=a(252),E=a(19);const i=E.a.object().shape({enabled:E.a.bool().label("SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_RADIUS_SERVER"),x_secret:E.a.string().when("enabled",{is:!0,then:E.a.string().label("SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_RADIUS_SECRET").required()}),auth_port:E.a.number().when("enabled",{is:!0,then:E.a.number().label("SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_AUTHENTICATION_PORT").required().min(r.RADIUS_LIMITS.MIN_PORT).max(r.RADIUS_LIMITS.MAX_PORT)}),acct_port:E.a.number().when("enabled",{is:!0,then:E.a.number().label("SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_ACCOUNTING_PORT").required().min(r.RADIUS_LIMITS.MIN_PORT).max(r.RADIUS_LIMITS.MAX_PORT)}),interim_update_interval:E.a.number().when("enabled",{is:!0,then:E.a.number().label("SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_ACCOUNTING_INTERIM_INTERVAL").required().min(r.RADIUS_LIMITS.INTERIM_UPDATE_MIN).max(r.RADIUS_LIMITS.INTERIM_UPDATE_MAX)}),tunneled_reply:E.a.bool().label("SETTINGS_ADVANCED_RADIUS_SERVER_FORM_LABEL_TUNNELED_REPLY")}),o=E.a.object().shape({ip:E.a.string().label("SETTINGS_ADVANCED_RADIUS_PROFILE_FORM_LABEL_IP_ADDRESS").required().matches(c.i,{message:l.a.createElement(_.c,{id:"COMMON_VALIDATION_VALID_IPV4"})}),port:E.a.number().label("SETTINGS_ADVANCED_RADIUS_PROFILE_FORM_LABEL_PORT").min(r.RADIUS_LIMITS.MIN_PORT).max(r.RADIUS_LIMITS.MAX_PORT),x_secret:E.a.string().label("SETTINGS_ADVANCED_RADIUS_PROFILE_FORM_LABEL_PASSWORD").required()}),S=E.a.object().shape({name:E.a.string().label("SETTINGS_ADVANCED_RADIUS_PROFILE_FORM_LABEL_NAME").required(),auth_servers:E.a.array().of(o),accounting_enabled:E.a.bool(),interim_update_enabled:E.a.bool(),interim_update_interval:E.a.number().when("interim_update_enabled",{is:!0,then:E.a.number().label("SETTINGS_ADVANCED_RADIUS_PROFILE_FORM_LABEL_INTERIM_UPDATE_INTERVAL").required().min(r.RADIUS_LIMITS.INTERIM_UPDATE_MIN).max(r.RADIUS_LIMITS.INTERIM_UPDATE_MAX)}),acct_servers:E.a.array().when("accounting_enabled",{is:!0,then:E.a.array().of(o)})})},2611:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return S}));var n=a(0),l=a.n(n),_=a(2),c=a(823),r=a(2462),E=a(2565),i=a(2566);const o=e=>[{id:"name",label:l.a.createElement(_.c,{id:"SETTINGS_ADVANCED_RADIUS_TABLE_LABEL_NAME"}),sortable:!0,renderCell:({name:e})=>e,minWidth:100,maxWidth:150},{id:"auth_servers",label:l.a.createElement(_.c,{id:"SETTINGS_ADVANCED_RADIUS_TABLE_LABEL_AUTH_SERVERS"}),renderCell:t=>{const{auth_servers:a,attr_no_delete:n}=t;return n?e:l.a.createElement(r.b,{names:a.map(i.c),messageId:"SETTINGS_ADVANCED_RADIUS_TABLE_AUTH_SERVERS_COUNT",rootSelector:"#"+E.a})},minWidth:r.a,maxWidth:200},{id:"acct_servers",label:l.a.createElement(_.c,{id:"SETTINGS_ADVANCED_RADIUS_TABLE_LABEL_ACCT_SERVERS"}),renderCell:e=>Object(i.a)(e),minWidth:170}],S=[{id:"name",label:l.a.createElement(_.c,{id:"SETTINGS_ADVANCED_RADIUS_TABLE_LABEL_NAME"}),sortable:!0,renderCell:({name:e})=>e},{id:"vlan",label:l.a.createElement(_.c,{id:"SETTINGS_ADVANCED_RADIUS_USERS_TABLE_LABEL_VLAN"}),sortable:!0,renderCell:({vlan:e})=>e},{id:"tunnel_type",label:l.a.createElement(_.c,{id:"SETTINGS_ADVANCED_RADIUS_USERS_TABLE_LABEL_TUNNEL_TYPE"}),sortable:!0,renderCell:({tunnel_type:e})=>{const t=c.tunnelTypeOptions[e||0];return l.a.createElement(_.c,{id:t.label,values:t.values})}},{id:"tunnel_medium_type",label:l.a.createElement(_.c,{id:"SETTINGS_ADVANCED_RADIUS_USERS_TABLE_LABEL_TUNNEL_MEDIUM_TYPE"}),sortable:!0,renderCell:({tunnel_medium_type:e})=>{const t=c.tunnelMediumTypeOptions[e||0];return l.a.createElement(_.c,{id:t.label,values:t.values})}}]},2652:function(e,t,a){"use strict";var n=a(0),l=a.n(n),_=a(3),c=a(2),r=a(5),E=a(23),i=a(36),o=a(1188),S=a(10),m=a(168),s=a(87),d=a(823),A=a(72),u=a(40),R=a(251),T=a(14),I=a(38),b=a(101),N=a(74),D=a(19);const O=(e,t)=>e.map(e=>({value:e.value,label:t.formatMessage({id:e.label},{id:e.values?e.values.id:void 0})})),p=e=>{if(e)return{...e,tunnel_type:""!==e.tunnel_type?e.tunnel_type:0,tunnel_medium_type:""!==e.tunnel_medium_type?e.tunnel_medium_type:0}},h=Object(_.c)(s.a,{shouldForwardProp:e=>"showRemove"!==e})`
  > div {
    overflow: visible !important;
  }

  ${({showRemove:e})=>e&&"& > footer > div {\n      width: 100%;\n\n      & > div:first-child {\n        margin-right: auto;\n      }\n    }"}
`,C=Object(_.c)(I.Field,{shouldForwardProp:e=>"hasHelperMessage"!==e})`
  margin-top: 28px;
  ${({hasHelperMessage:e})=>e&&"margin-bottom: 40px;"}
`,L=Object(_.c)("div")`
  margin: 60px 0 30px;
`,U=Object(_.c)(S.gb)`
  margin-right: 8px;
`,g=Object(o.a)(e=>N.a.object().shape({name:N.a.string().label("SETTINGS_RADIUS_USERS_CREATE_USER_FORM_NAME_LABEL").required().matches(b.y,{message:l.a.createElement(c.c,{id:"SETTINGS_RADIUS_USERS_NAME_VALIDATION_MESSAGE"})}),x_password:N.a.string().label("SETTINGS_RADIUS_USERS_CREATE_USER_FORM_PASSWORD_LABEL").required().min(4),vlan:Object(D.f)(e),tunnel_type:N.a.number().when("tunnel_medium_type",{is:e=>e!==d.NONE_VALUE,then:N.a.number().label("SETTINGS_RADIUS_USERS_TUNNEL_TYPE_LABEL").min(1).required()}),tunnel_medium_type:N.a.number().when("tunnel_type",{is:e=>e!==d.NONE_VALUE,then:N.a.number().label("SETTINGS_RADIUS_USERS_TUNNEL_MEDIUM_TYPE_LABEL").min(1).required()})},["tunnel_type","tunnel_medium_type"]));t.a=Object(c.f)(({simpleForm:e,onClose:t,intl:a,tunnel_type:_=0,handleOnSubmit:o,handleOnRemove:S,initialUser:s})=>{const{userId:I}=Object(E.m)(),b=Object(r.useDispatch)(),N=Object(r.useSelector)(d.selectAccountById)(I),D=s||N,M=Object(r.useSelector)(A.m),f=Object(u.j)("advanced/radius/form"),v=O(d.tunnelTypeOptions,a),V=O(d.tunnelMediumTypeOptions,a),G=Object(n.useMemo)(()=>({name:"",x_password:"",vlan:"",tunnel_type:_,tunnel_medium_type:e&&_?1:0,...p(D)}),[D,_,e]),j=g(M),x=Object(n.useCallback)((e,{setSubmitting:a})=>{const n={...e,tunnel_type:0!==e.tunnel_type?e.tunnel_type:"",tunnel_medium_type:0!==e.tunnel_medium_type?e.tunnel_medium_type:""};o?(o(n),t()):D?b(Object(d.updateAccount)(n)).then(()=>t()).catch(()=>a(!1)):b(Object(d.saveAccount)(n)).then(()=>t()).catch(()=>a(!1))},[t,b,D,o]),y=Object(n.useCallback)(e=>{e.preventDefault(),t()},[t]),P=Object(n.useCallback)(()=>{S?(S(G._id),t()):b(Object(R.b)({name:G.name,onConfirm:()=>b(Object(d.removeAccount)(G._id,G.name)).then(t())}))},[b,G._id,G.name]),F=!!G._id;return l.a.createElement(i.c,{initialValues:G,onSubmit:x,validationSchema:j},({handleSubmit:n})=>l.a.createElement(h,{size:"small",onRequestClose:t,title:a.formatMessage({id:D?"SETTINGS_ADVANCED_RADIUS_USERS_FROM_TITLE_EDIT":"SETTINGS_ADVANCED_RADIUS_USERS_FROM_TITLE_ADD"}),actions:[F&&{type:"button",text:l.a.createElement(c.c,{id:"COMMON_ACTION_REMOVE"}),onClick:P},{type:"button",text:l.a.createElement(c.c,{id:"COMMON_ACTION_CANCEL"}),onClick:y},{type:"button",text:l.a.createElement(c.c,{id:D?"COMMON_ACTION_APPLY_CHANGES":"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_BUTTON_CREATE_USER"}),onClick:()=>n(),variant:"primary"}],showRemove:F},l.a.createElement("form",{autoComplete:"off",onSubmit:n},l.a.createElement(C,{label:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_NAME",name:"name",type:"input",full:!0}),l.a.createElement(C,{hasHelperMessage:!0,label:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_PASSWORD",name:"x_password",type:"password",passwordToggle:!0,full:!0,helperMessage:l.a.createElement(c.c,{id:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_PASSWORD_DESCRIPTION"})}),!e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(C,{label:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_VLAN",name:"vlan",type:"input",full:!0}),l.a.createElement(C,{label:a.formatMessage({id:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_TUNNEL_TYPE"}),type:"dropdown",name:"tunnel_type",options:v,full:!0,validated:!0}),l.a.createElement(C,{label:a.formatMessage({id:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_TUNNEL_MEDIUM_TYPE"}),type:"dropdown",name:"tunnel_medium_type",options:V,full:!0,validated:!0})),e&&!o&&l.a.createElement(L,null,l.a.createElement(m.a,{variant:"inline",href:"/network"+f,target:"_blank"},l.a.createElement(T.g,{alignItems:"center"},l.a.createElement(U,null),l.a.createElement(c.c,{id:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_LINK_RADIUS_FORM"})))))))})},823:function(e,t,a){"use strict";a.r(t),a.d(t,"fetchAccounts",(function(){return S})),a.d(t,"saveAccount",(function(){return m})),a.d(t,"updateAccount",(function(){return s})),a.d(t,"removeAccount",(function(){return d})),a.d(t,"createAccountsBatch",(function(){return A})),a.d(t,"updateAccountsBatch",(function(){return u})),a.d(t,"removeAccountsBatch",(function(){return R})),a.d(t,"MODEL",(function(){return l})),a.d(t,"PATH",(function(){return _})),a.d(t,"TUNNEL_TYPES",(function(){return c})),a.d(t,"NONE_VALUE",(function(){return r})),a.d(t,"tunnelTypeOptions",(function(){return E})),a.d(t,"tunnelMediumTypeOptions",(function(){return i})),a.d(t,"selectAccount",(function(){return b})),a.d(t,"selectAccounts",(function(){return N})),a.d(t,"selectNetworkAccounts",(function(){return D})),a.d(t,"selectNonNetworkAccounts",(function(){return O})),a.d(t,"selectAccountById",(function(){return p}));var n=a(7);const l="users",_="/v2/api/site/{site}/radius/"+l;var c;!function(e){e[e.PTPP=1]="PTPP",e[e.L2TP=3]="L2TP"}(c||(c={}));const r=0,E=Array.from({length:14}).map((e,t)=>0===t?{value:r,label:"SETTINGS_RADIUS_HEADERS_TUNNEL_TYPE_NONE"}:{value:t,label:"SETTINGS_RADIUS_HEADERS_TUNNEL_TYPE_"+t,values:{id:t}}),i=Array.from({length:16}).map((e,t)=>0===t?{value:r,label:"SETTINGS_RADIUS_HEADERS_TUNNEL_MEDIUM_TYPE_NONE"}:{value:t,label:"SETTINGS_RADIUS_HEADERS_TUNNEL_MEDIUM_TYPE_"+t,values:{id:t}});var o=a(25);const S=(e,t)=>Object(n.q)(l,_,e,{idField:"_id",...t}),m=e=>Object(n.h)(l,_+"/batch_add",[e],{},Object(o.a)("SETTINGS_GATEWAY_RADIUS_CREATE_USER_FORM_ERROR_MESSAGE","SETTINGS_GATEWAY_RADIUS_CREATE_USER_FORM_SUCCESS_MESSAGE",{name:e.name})),s=e=>Object(n.C)(l,_+"/batch_update",[e],{},{...Object(o.a)("SETTINGS_GATEWAY_RADIUS_CREATE_USER_FORM_ERROR_MESSAGE","SETTINGS_GATEWAY_RADIUS_CREATE_USER_FORM_SUCCESS_MESSAGE",{name:e.name}),method:"post"}),d=(e,t)=>Object(n.m)(l,_+"/batch_delete",[e],{},{...Object(o.a)("SETTINGS_GATEWAY_RADIUS_REMOVE_USER_ERROR_MESSAGE","SETTINGS_GATEWAY_RADIUS_REMOVE_USER_SUCCESS_MESSAGE",{name:t}),method:"post"}),A=e=>Object(n.h)(l,_+"/batch_add",e,{}),u=e=>Object(n.C)(l,_+"/batch_update",e,{},{method:"post"}),R=e=>Object(n.m)(l,_+"/batch_delete",e,{},{method:"post"});var T=a(73),I=a(6);const b=Object(n.A)(S()),N=Object(I.a)(b,o.c),D=e=>Object(I.a)(N,t=>t.filter(({networkconf_id:t})=>t&&t===e)||[]),O=Object(I.a)(N,e=>e.filter(({networkconf_id:e})=>!e)||[]),p=Object(I.a)(N,e=>Object(T.a)(t=>e.find(({_id:e})=>t===e)))}}]);
//# sourceMappingURL=42.f400b1db6c26e1693504.js.map