(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[44],{1774:function(e,t,a){"use strict";var n=a(0),o=a.n(n),r=a(3),i=a(2),l=a(1780),c=a.n(l),s=a(1259),u=a(493),_=a(494);const d=Object(r.c)("span")`
  line-height: 1.5;
  margin-top: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`;t.a=({when:e,ignoredPaths:t=null,onLeave:a=null,onStay:r=null,leaveButtonText:l="SETTINGS_MODAL_UNSAVED_CHANGES_LEAVE",stayButtonText:m="SETTINGS_MODAL_UNSAVED_CHANGES_STAY",modalTitle:E="SETTINGS_MODAL_UNSAVED_CHANGES_TITLE",modalDescription:p="SETTINGS_MODAL_UNSAVED_CHANGES_CONTENT"})=>{const b=Object(n.useMemo)(()=>({overlay:{"--modal-z-index":2e3}}),[]),O=Object(_.a)(t),T=Object(n.useCallback)((e,t)=>t.pathname!==e.pathname,[]),A=Object(n.useCallback)(e=>(e={},t={})=>O(e,t)&&T(e,t),[O,T]);return!!e&&o.a.createElement(c.a,{when:A(t)},({onCancel:e,onConfirm:t})=>o.a.createElement(s.a,{actions:[{type:"button",text:o.a.createElement(i.c,{id:m}),onClick:()=>r?r(e):e()},{type:"button",text:o.a.createElement(i.c,{id:l}),onClick:()=>a?a(t):t(),variant:"primary"}],isOpen:!0,size:"small",style:b,parentSelector:u.b,title:o.a.createElement(i.c,{id:E}),onRequestClose:()=>r?r(e):e()},o.a.createElement(d,null,o.a.createElement(i.c,{id:p}))))}},2299:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(23),i=a(5),l=a(269),c=a(40),s=a(7),u=a(2507),_=a(2),d=a(54),m=a(168),E=a(1763),p=a(1761),b=a(2379),O=a(1762),T=a(18),A=a(2429),g=a(251),f=a(28),h=a(38),D=a(2442),x=a(2586),N=a(26),I=a(3),S=a(9),w=a(575),C=a(720),v=a(2474);const M=Object(I.c)(S.a)`
  margin-left: ${N.a["spacing-xxxxl"]};
`,L=w.a.slice(0,2).map(({label:e,value:t,values:a})=>({label:e,value:v.a[t===C.a.K?"Kbps":"Mbps"],values:a})),B=({download:e})=>{const t=e?"qos_rate_max_down":"qos_rate_max_up",a=e?"SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_FORM_LABEL_LIMIT_DOWNLOAD_BANDWIDTH":"SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_FORM_LABEL_LIMIT_UPLOAD_BANDWIDTH";return o.a.createElement(p.a,null,o.a.createElement(b.a,{htmlFor:t+"_value",alignWith:"input",label:o.a.createElement(_.c,{id:a}),description:o.a.createElement(_.c,{id:"SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_FORM_DESCRIPTION_LIMIT_BANDWIDTH",values:{minKbps:u.c,maxKbps:u.b,minMbps:u.c/1e3,maxMbps:u.b/1e3}})}),o.a.createElement(O.a,null,o.a.createElement(S.a,{justifyContent:"space-between",width:"100%"},o.a.createElement(S.a,{width:"100%",flexFlow:"column"},o.a.createElement(h.Field,{full:!0,name:t+"_value",placeholder:"COMMON_WORD_UNLIMITED",type:"number"})),o.a.createElement(M,{width:"100%"},o.a.createElement(h.Field,{full:!0,name:t+"_unit",type:"dropdown",options:L,translateOptions:!0})))))};var j=e=>{const{initialValues:t,onBack:a}=e,r=Object(i.useDispatch)(),s=Object(i.useSelector)(T.x),N=!!Object(d.a)(t,"_id",!1),I=Object(c.o)({component:o.a.createElement(_.c,{id:"SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_FORM_TITLE_CREATE"}),message:"bandwidth-profiles-create"},"bandwidth-profiles-edit-view",t._id?t.name:void 0),S=Object(n.useCallback)((...e)=>r(Object(f.c)(...e)),[]),w=Object(n.useCallback)(Object(D.c)({...e,createToast:S})(async e=>{const a={name:e.name,qos_rate_max_down:Object(x.e)(e,{download:!0}),qos_rate_max_up:Object(x.e)(e,{upload:!0})};return t._id?r(Object(l.updateUserGroup)(t._id,a)):r(Object(l.createUserGroup)(a))},({_id:e,name:t})=>({successMessage:e?"SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_UPDATE_SUCCESS_TOAST":"SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_CREATE_SUCCESS_TOAST",failureMessage:e?"SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_UPDATE_FAILURE_TOAST":"SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_CREATE_FAILURE_TOAST",msgValues:{name:t}})),[r,t,l.createUserGroup,l.updateUserGroup]),C=Object(n.useCallback)(()=>r(Object(g.b)({name:t.name,onConfirm:()=>r(Object(l.removeUserGroup)(t)).then(a())})),[r,t,a]);return o.a.createElement(A.b,{goBack:a,initialValues:t,isEdit:N,isView:s,showBack:!0,title:I,validationSchema:u.d,onEscClicked:a,onSubmit:w,footerActiveOverride:!!(null==t?void 0:t._id)&&!t.attr_no_delete,customFooterButtons:e=>(null==t?void 0:t._id)&&!t.attr_no_delete&&o.a.createElement(m.a,{disabled:e,type:"button",variant:"tertiary",color:"danger",onClick:C},o.a.createElement(_.c,{id:"COMMON_ACTION_REMOVE"}))},o.a.createElement(E.a,null,o.a.createElement(p.a,null,o.a.createElement(b.a,{htmlFor:"name",alignWith:"input",label:o.a.createElement(_.c,{id:"SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_TABLE_LABEL_NAME"})}),o.a.createElement(O.a,{column:!0},o.a.createElement(h.Field,{full:!0,name:"name"}))),o.a.createElement(B,{download:!0}),o.a.createElement(B,{upload:!0})))};t.default=()=>{const{groupId:e}=Object(r.m)(),t=Object(i.useSelector)(l.selectUserGroupsData).find(({_id:t})=>t===e),a=Object(c.i)(),_=Object(n.useMemo)(()=>(null==t?void 0:t._id)?{...u.a,...t,qos_rate_max_down_toggle:Object(x.b)(t,{download:!0}),qos_rate_max_down_unit:Object(x.c)(t,{download:!0}),qos_rate_max_down_value:Object(x.d)(t,{download:!0}),qos_rate_max_up_toggle:Object(x.b)(t,{upload:!0}),qos_rate_max_up_unit:Object(x.c)(t,{upload:!0}),qos_rate_max_up_value:Object(x.d)(t,{upload:!0})}:{...u.a},[t]);return Object(c.g)([Object(l.fetchUserGroups)(void 0,{crudCacheStrategy:{type:s.a.CACHE}})],o.a.createElement(j,{initialValues:_,onBack:a}))}},2429:function(e,t,a){"use strict";a.d(t,"b",(function(){return S})),a.d(t,"a",(function(){return g}));var n=a(0),o=a.n(n),r=a(3),i=a(2),l=a(36),c=a(2838),s=a(2760),u=a(1774),_=a(867),d=a(14),m=a(10),E=a(42);const p=Object(r.c)(d.g)`
  > * {
    /* Use margin on child rather than padding on self not to occupy space when no button is shown */
    margin-left: ${({theme:e})=>e.spacing["spacing-xxl"]};
    margin-right: ${({theme:e})=>e.spacing["spacing-xxl"]};
  }
`,b=Object(r.c)(d.g)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui03};
`,O=Object(r.c)("h1")`
  font-size: 16px;
  font-weight: normal;
`,T=Object(r.c)(d.c)`
  padding: ${({theme:e})=>e.spacing["spacing-s"]};
`,A=Object(r.c)(E.a)`
  color: ${({theme:e})=>e.motifPalette.text01} !important;
  font-size: 16px !important;
`;var g=({title:e,showBack:t,goBack:a,onEscClicked:n,hideClose:r,ignoredPaths:i})=>o.a.createElement(b,{flex:"none",height:"65px"},o.a.createElement(d.g,{alignItems:"center",flex:"1",justifyContent:"space-between"},o.a.createElement(p,{alignItems:"center",flex:"1",height:"100%"},t&&o.a.createElement(T,{legacy:!1,name:"backButton",type:"button",onClick:a},o.a.createElement(m.g,{size:"original"}))),o.a.createElement(O,null,o.a.createElement(A,{weight:"bold"},e.component)),o.a.createElement(p,{alignItems:"center",flex:"1",height:"100%",justifyContent:"flex-end"},!r&&o.a.createElement(T,{legacy:!1,name:"closeButton",type:"button",onClick:n},o.a.createElement(m.A,{size:"original"})))));const f=Object(r.c)(d.g)`
  width: 100%;
  max-width: ${_.a};
  margin: 0 auto;
  padding: ${({theme:e})=>e.spacing["spacing-xxxxl"]}
    ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px;
`,h=Object(r.c)("form")`
  display: flex;
  flex: 1;
  overflow: hidden;
  width: 100%;
  height: 100%;
`,D=Object(r.c)(d.g)`
  @media (max-width: 1010px) {
    flex-direction: column;
  }
`,x=Object(r.c)(c.a)`
  transition: height 100ms ease, transform 100ms ease; /* TODO: Remove with next ui-components update (v25.1.1 +)  */
  > :first-child {
    max-width: ${_.a};
    padding-left: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    padding-right: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    position: relative;
    margin: 0 auto;
  }
`,N=Object(r.c)(d.h)`
  background: transparent;
  overflow: scroll !important;
  margin-right: -${({theme:e})=>e.scrollBarWidth}px;
`,I=Object(r.c)(d.k)`
  height: 100%;
  width: 100%;
`;var S=({children:e,disableUnsavedChangesModal:t,goBack:a,hideClose:n,isEdit:r,isView:c,showBack:_,title:m,unsavedChangesModalIgnoredPaths:E,onEscClicked:p,submitText:b="COMMON_ACTION_APPLY_CHANGES",footerActiveOverride:O=!1,customFooterButtons:T,hidddenHeader:A,className:S,...w})=>o.a.createElement(l.c,Object.assign({enableReinitialize:!0},w),({dirty:r,handleReset:l,handleSubmit:w,isSubmitting:C})=>o.a.createElement(h,{autoComplete:"off",onSubmit:w,className:S},o.a.createElement(I,{vertical:!0},!A&&o.a.createElement(g,{goBack:a,hideClose:n,showBack:_,title:m,onEscClicked:p,ignoredPaths:E}),o.a.createElement(N,{flex:"1"},o.a.createElement(f,{flex:"none",flexDirection:"column"},e)),!t&&!c&&o.a.createElement(u.a,{ignoredPaths:E,when:r&&!C}),(!c||O)&&o.a.createElement(x,{active:r||O},o.a.createElement(d.g,{justifyContent:T?"space-between":"flex-end",width:"100%",alignItems:"center"},T&&o.a.createElement(D,null,T(C)),!c&&o.a.createElement(d.g,null,o.a.createElement(s.a,{disabled:!r||C,type:"button",variant:"default",onClick:l},o.a.createElement(i.c,{id:"COMMON_ACTION_CANCEL"})),o.a.createElement(s.a,{disabled:!r||C,type:"submit",variant:"primary"},o.a.createElement(i.c,{id:b}))))))))},2442:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return c}));var n=a(16),o=function(e,t){var a=t.successMessage,n=t.failureMessage;if((a||n)&&!e.createToast)throw new Error("formSubmit util requires createToast action as a prop. Please add it to mapDispatchToProps")},r=function(e){return function(t){return function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(i,l){var c=l.props||t;o(c,r);var s=c.createToast,u="function"==typeof r?r(i):r,_=u.msgValues,d=u.successMessage,m=u.failureMessage;a(i,c,l).then((function(){return d&&s({icon:n.a.success,message:d,values:_}),e(l,t)})).catch((function(e){m&&s({icon:n.a.danger,message:m,values:_,errorMessage:e.msg,errorValues:e}),l.setSubmitting(!1)}))}}}},i=r((function(e){return e.setStatus({isSubmitted:!0})}))(),l=r((function(e){return e.setStatus({isSubmitted:!0})})),c=(r((function(e){return e.props.onClose()}))(),r((function(e,t){return t.onBack()})))},2474:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.Kbps="1",e.Mbps="1000"}(n||(n={}))},2507:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return l}));var n=a(2474),o={name:"",qos_rate_max_down_toggle:!1,qos_rate_max_down_unit:n.a.Kbps,qos_rate_max_down_value:"",qos_rate_max_up_toggle:!1,qos_rate_max_up_unit:n.a.Kbps,qos_rate_max_up_value:""},r=a(19);const i=1e5,l=2,c=({download:e,upload:t})=>{const a=e?"qos_rate_max_down":"qos_rate_max_up",o=e?"SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_FORM_LABEL_BANDWIDTH_LIMIT_DOWNLOAD":"SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_FORM_LABEL_BANDWIDTH_LIMIT_UPLOAD";return r.a.number().label(o).when(a+"_unit",{is:e=>e===n.a.Kbps,then:r.a.number().max(i).min(l)}).when(a+"_unit",{is:e=>e===n.a.Mbps,then:r.a.number().max(i/1e3).min(l/1e3)})};var s=r.a.object().shape({name:r.a.string().label("SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_TABLE_LABEL_NAME").required(),qos_rate_max_down_toggle:r.a.boolean().required(),qos_rate_max_down_unit:r.a.string().label("SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_FORM_LABEL_BANDWIDTH_LIMIT_DOWNLOAD").oneOf(Object.values(n.a)).required(),qos_rate_max_down_value:c({download:!0}),qos_rate_max_up_toggle:r.a.boolean().required(),qos_rate_max_up_unit:r.a.string().label("SETTINGS_ADVANCED_FEATURES_BANDWIDTH_PROFILE_FORM_LABEL_BANDWIDTH_LIMIT_UPLOAD").oneOf(Object.values(n.a)).required(),qos_rate_max_up_value:c({upload:!0})})},2586:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return E}));var n=a(1208),o=a(2507),r=a(2474);const i=({download:e,upload:t})=>{if(e)return"qos_rate_max_down";if(t)return"qos_rate_max_up";throw new Error("No limit bandwidth field specified (download/upload) in Bandwidth Profile form getter")},l=(e,{download:t,upload:a})=>e[i({download:t,upload:a})]>-1,c=(e,{download:t,upload:a})=>e[i({download:t,upload:a})]%1e3?r.a.Kbps:r.a.Mbps,s=(e,{download:t,upload:a})=>{const n=i({download:t,upload:a});return e[n]>-1?e[n]%1e3?e[n]:e[n]/1e3:o.a[n+"_value"]},u=(e,{download:t,upload:a})=>{const o=i({download:t,upload:a});return Object(n.a)(e[o+"_value"])?e[o+"_value"]*Number(e[o+"_unit"]):-1};var _=a(0),d=a.n(_),m=a(2);const E=({userGroup:e,download:t,upload:a})=>{const n=i({download:t,upload:a});return e[n]<0?d.a.createElement(m.c,{id:"COMMON_WORD_UNLIMITED"}):d.a.createElement(m.c,{id:"COMMON_UNIT_BPS",values:{prefix:`${e[n]%1e3?e[n]:e[n]/1e3} ${e[n]%1e3?"K":"M"}`}})}},575:function(e,t,a){"use strict";var n=a(720);const o=[{value:n.a.K,label:"COMMON_UNIT_BPS",values:{prefix:n.a.K}},{value:n.a.M,label:"COMMON_UNIT_BPS",values:{prefix:n.a.M}},{value:n.a.G,label:"COMMON_UNIT_BPS",values:{prefix:n.a.G}}];t.a=o},720:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.K="k",e.M="M",e.G="G"}(n||(n={}))}}]);
//# sourceMappingURL=44.f400b1db6c26e1693504.js.map