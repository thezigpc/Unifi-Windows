(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[25],{117:function(e,t,a){"use strict";a.d(t,"g",(function(){return I})),a.d(t,"f",(function(){return D})),a.d(t,"h",(function(){return v})),a.d(t,"c",(function(){return R})),a.d(t,"d",(function(){return M})),a.d(t,"b",(function(){return j})),a.d(t,"a",(function(){return L})),a.d(t,"e",(function(){return P}));var n=a(0),c=a.n(n),r=a(3),i=a(2),l=a(10),o=a(5),s=a(23),E=a(42),d=a(168),u=a(14),m=a(569),_=a(1778),b=a(92);const O=Object(r.c)("div")`
  display: inline-block;
  margin-left: 8px;
`,T=({device:e})=>{const{model_in_eol:t}=e;return t?c.a.createElement(O,null,c.a.createElement(l.gc,null)):null};var S=a(41),A=a(39),N=a(57),p=a(40),h=a(4);const C=Object(r.c)(u.g)`
  margin-left: ${({theme:e})=>e.space[2]}px;
`,g=Object(r.c)(m.a)`
  margin-left: ${({theme:e})=>e.space[3]}px;
`,f=Object(r.c)("div")`
  margin-left: ${({theme:e})=>e.space[3]}px;
  width: 14px;
`,I=Object(r.c)("div")`
  width: 100%;
  height: 100%;
  > div > div > div > div {
    /* This is Tile */
    border: 1px solid ${({theme:e})=>e.motifPalette.ui04};
    border-radius: 8px;
    > div {
      width: 100% !important; // first container is image container
    }
  }
`,D=Object(r.c)(l.zc)`
  margin-left: ${({theme:e})=>e.spacing["spacing-xs"]};
`,v=e=>"deviceState"in e&&[h.DeviceState.PENDING,h.DeviceState.MANAGED_BY_OTHER,h.DeviceState.ADOPTION_FAILED].includes(e.deviceState),R=({device:e,children:t})=>c.a.createElement(u.g,{width:v(e)?"auto":"100%"},t),M=({device:e,showUnifiCareBadge:t,isNotNetworkController:a=!1})=>{const{status:n,statusPulse:r,...i}=e,l=Object(h.hasActiveUnifiCare)(i);return c.a.createElement(u.g,{alignItems:"center"},c.a.createElement(_.a,{status:n,statusPulse:r,marginLeft:5,marginRight:12}),c.a.createElement(C,{width:25,height:25,alignItems:"center",justifyContent:"center"},a?c.a.createElement(u.d,{client:e}):c.a.createElement(b.c,{device:e})),t&&(l?c.a.createElement(g,{width:14,height:14}):c.a.createElement(f,null)))},j=Object(i.f)(({device:e,intl:t})=>{const a=Object(h.getDeviceState)(e);return[h.DeviceState.CONNECTED,h.DeviceState.PROVISIONING,h.DeviceState.UPGRADING,h.DeviceState.RESTARTING,h.DeviceState.RFSCANNING,h.DeviceState.ISOLATED,h.DeviceState.DELETING,h.DeviceState.UNKNOWN,h.DeviceState.FIRMWARE_MISMATCH,h.DeviceState.PENDING,h.DeviceState.ADOPTING,h.DeviceState.ADOPTION_FAILED,h.DeviceState.MANAGED_BY_OTHER,h.DeviceState.HEARTBEAT_MISSED,h.DeviceState.DISCONNECTED].includes(a)?c.a.createElement(E.a,{truncate:!0,size:"body",color:"secondary"},Object(h.getDeviceStateString)(e,a,t)):c.a.createElement(i.c,{id:"COMMON_HYPHEN"})}),L=({device:e})=>c.a.createElement(E.a,{size:"body",truncate:!0},Object(S.d)(e),c.a.createElement(T,{device:e})),y=Object(r.c)(d.a)`
  padding: 0;
  font-size: ${({theme:e})=>e.fontSize["font-size-m"]};
  border: 0;
  line-height: 1.6;
`,w=Object(r.c)(E.a)`
  max-width: 220px;
`,P=({device:e})=>{var t,a;const r=Object(s.k)(),l=Object(o.useDispatch)(),E=Object(p.a)("/devices/properties/:mac/overview"),d=Object(n.useCallback)(t=>{var a,n,c;(null===(a=null==e?void 0:e.uplink)||void 0===a?void 0:a.uplink_mac)&&(null===(n=null==t?void 0:t.preventDefault)||void 0===n||n.call(t),null===(c=null==t?void 0:t.stopPropagation)||void 0===c||c.call(t),r.push(E.replace(":mac",e.uplink.uplink_mac)),l(Object(A.g)({type:N.b.DEVICE,mac:e.uplink.uplink_mac})))},[l,r,E,null===(t=null==e?void 0:e.uplink)||void 0===t?void 0:t.uplink_mac]);return(null===(a=null==e?void 0:e.uplink)||void 0===a?void 0:a.uplink_device_name)?c.a.createElement(y,{size:"small",variant:"link",onClick:d},c.a.createElement(w,{size:"body",color:"info",truncate:!0,weight:"bold"},Object(h.getDeviceUplinkPortName)(e))):c.a.createElement(i.c,{id:"COMMON_HYPHEN"})}},1222:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return o}));var n=a(7),c=a(267);const r=(e,t)=>Object(n.q)(c.b,c.c,e,{idField:c.a,...t}),i=(e,t,a)=>Object(n.i)(c.b,c.c,e,t,{idField:c.a,...a,fetchConfig:{getAllPostData:!0}}),l=(e,t,a)=>Object(n.D)(c.b,e[c.a],`${c.c}/${e[c.a]}`,e,t,{idField:c.a,...a}),o=(e,t,a)=>Object(n.n)(c.b,e,`${c.c}/${e}`,t,{idField:c.a,...a})},1228:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(7),c=a(831);const r=(e={},t={})=>Object(n.t)(c.a,c.b,c.a,e,t)},1261:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return E})),a.d(t,"c",(function(){return d}));var n,c=a(0),r=a.n(c),i=a(3),l=a(393),o=a(42),s=a(14);!function(e){e.BASIC="basic",e.CONFIGURED="configured",e.STATUS="status",e.UNCONFIGURED="unconfigured"}(n||(n={}));const E=Object(i.c)(s.g)`
  margin-right: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`,d=Object(i.c)(s.g)`
  * {
    line-height: 1.4 !important;
  }
`,u=Object(i.c)(l.a)`
  &:not(:last-child) {
    margin-right: ${({theme:e})=>e.spacing["spacing-m"]};
  }
`;t.d=({label:e,type:t,description:a,status:c})=>r.a.createElement(r.a.Fragment,null,(()=>{switch(t){default:case n.BASIC:return e;case n.CONFIGURED:return r.a.createElement(d,{alignItems:"center"},e);case n.STATUS:return r.a.createElement(d,{alignItems:"center"},r.a.createElement(u,{variant:c}),r.a.createElement(E,{flex:"1",flexDirection:"column"},e,a&&r.a.createElement(o.a,null,a)));case n.UNCONFIGURED:return r.a.createElement(d,{alignItems:"center"},r.a.createElement(s.g,{flex:"0 1 128px",flexDirection:"column"},e,r.a.createElement(o.a,null,a)))}})())},148:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r})),a.d(t,"t",(function(){return T})),a.d(t,"k",(function(){return A})),a.d(t,"o",(function(){return p})),a.d(t,"l",(function(){return h})),a.d(t,"d",(function(){return C})),a.d(t,"j",(function(){return f})),a.d(t,"w",(function(){return I})),a.d(t,"n",(function(){return D})),a.d(t,"i",(function(){return v})),a.d(t,"m",(function(){return R})),a.d(t,"p",(function(){return M})),a.d(t,"q",(function(){return j})),a.d(t,"r",(function(){return L})),a.d(t,"s",(function(){return y})),a.d(t,"g",(function(){return P})),a.d(t,"h",(function(){return U})),a.d(t,"u",(function(){return x})),a.d(t,"v",(function(){return F})),a.d(t,"f",(function(){return B})),a.d(t,"x",(function(){return H})),a.d(t,"y",(function(){return Y})),a.d(t,"e",(function(){return W})),a.d(t,"c",(function(){return $}));var n=a(84);const c=e=>(t,a,c,r,i)=>Object(n.d)(e(c,t,i),e(r,a,i)),r=e=>t=>{const a=(e=>t=>e.formatMessage({id:t}))(e);return(e,n,c,r)=>{const[i,l]=[t(e,c),t(n,r)].map(a);return i.localeCompare(l)}};var i=a(2378),l=a(68),o=a(4),s=a(133),E=a(41),d=a(558),u=a(427),m=a(88),_=a(117),b=a(69);const O={udm:1,ugw:2,usw:3,uap:4},T=(e,t,a,c)=>{const r=o.DEVICE_STATE_IMPORTANCE[Object(o.getDeviceState)(a)],i=o.DEVICE_STATE_IMPORTANCE[Object(o.getDeviceState)(c)];if(a.type===c.type){if(r===i){if(a.adopted===c.adopted){const e=a.name,t=c.name;return e&&t?Object(n.d)(e,t):e?-1:t?1:Object(n.d)(a.modelName,c.modelName)}return Object(n.d)(a.adopted?1:2,c.adopted?1:2)}return Object(n.d)(r,i)}return((e,t)=>{const a=e.type,c=t.type;return a===c?Object(n.d)(Object(E.a)(e),Object(E.a)(t)):Object(n.d)(O[a],O[c])})(a,c)},S=(e,t)=>Object(_.h)(e)?Object(b.b)(t):(null==e?void 0:e.upgradable)||(null==e?void 0:e.displayable_version)?!(null==e?void 0:e.upgradable)&&(null==e?void 0:e.displayable_version)?0:1:-1,A=(e,t,a,c,r)=>{const i=null==a?void 0:a.displayable_version,l=null==c?void 0:c.displayable_version,o=S(a,r),s=S(c,r);return i&&l?Object(u.compare)(i,l):o!==s?o<s?-1:1:Object(n.d)(o,s)},N=(e,t)=>Object(_.h)(e)?Object(b.c)(t):Object(E.a)(e),p=(e,t,a,c,r)=>Object(n.d)(N(a,r),N(c,r)),h=(e,t,a,c,r)=>{const i=Object(_.h)(a)?Object(b.b)(r):Object(s.d)(Object(o.getDeviceIp)(a))||Object(b.e)(r),l=Object(_.h)(c)?Object(b.b)(r):Object(s.d)(Object(o.getDeviceIp)(c))||Object(b.e)(r);return Object(n.d)(i,l)},C=(e,t)=>{const{satisfactionByRadio:a}=e;if(Object(_.h)(e))return Object(b.b)(t);if(!m.deviceModels[e.model])return Object(b.a)(b.f,t);const{deviceCapabilities:n}=m.deviceModels[e.model];switch(!0){case n.includes(m.DeviceCapability.ACCESS_POINT):case n.includes(m.DeviceCapability.BUILDING_BRIDGE):{const{averageSatisfaction:e,naNumSta:n,ngNumSta:c}=a;return 0!==n+c&&e?e*b.i:Object(b.a)(b.g,t)}case n.includes(m.DeviceCapability.GATEWAY):case n.includes(m.DeviceCapability.SWITCH):{const{speed:a=0}=Object(o.getUplinkAttrs)(e)||{};return a>0?Object(i.a)(a,1)*b.h:Object(b.a)(b.f,t)}default:return Object(b.a)(b.f,t)}},g=(e,t)=>{if("device_type"in e&&(null==e?void 0:e.device_type)===d.a.MANAGED)return C(e,t);if("is_wired"in e&&(null==e?void 0:e.is_wired)){const{wired_speed_megabits_per_second:t}=e;return t*b.h}const{satisfaction:a}=e;return a?Math.max(1,a)*b.i:b.f},f=(e,t,a,c,r)=>{const i=g(a,r),l=g(c,r);return Object(n.d)(i,l)},I=(e,t,a,c,r)=>Object(n.d)((()=>{const e=Object(o.getDeviceUplinkPortName)(a);return Object(_.h)(a)?Object(b.c)(r):"-"===e?Object(b.d)(r):e})(),(()=>{const e=Object(o.getDeviceUplinkPortName)(c);return Object(_.h)(c)?Object(b.c)(r):"-"===e?Object(b.d)(r):e})()),D=(e,t,a,c,r)=>{const i=Object(_.h)(a)?Object(b.b)(r):Object(o.getDeviceMemoryUsage)(a)||Object(b.e)(r),l=Object(_.h)(c)?Object(b.b)(r):Object(o.getDeviceMemoryUsage)(c)||Object(b.e)(r);return Object(n.d)(i,l)},v=(e,t,a,c,r)=>{var i,l;const o=Object(_.h)(a)?Object(b.b)(r):(null===(i=null==a?void 0:a["system-stats"])||void 0===i?void 0:i.cpu)||Object(b.e)(r),s=Object(_.h)(c)?Object(b.b)(r):(null===(l=null==c?void 0:c["system-stats"])||void 0===l?void 0:l.cpu)||Object(b.e)(r);return Object(n.d)(o,s)},R=(e,t,a,c,r)=>{var i,l,o,s;const E=Object(_.h)(a)?Object(b.b)(r):null!==(l=null===(i=null==a?void 0:a.sys_stats)||void 0===i?void 0:i.loadavg_1)&&void 0!==l?l:Object(b.e)(r),d=Object(_.h)(c)?Object(b.b)(r):null!==(s=null===(o=null==c?void 0:c.sys_stats)||void 0===o?void 0:o.loadavg_1)&&void 0!==s?s:Object(b.e)(r);return Object(n.d)(E,d)},M=(e,t,a)=>{const c=Object(o.getRadioByType)(e,a),r=Object(o.getRadioByType)(t,a),i=c?Object(o.getRadioStatsByName)(e,c.name):null,l=r?Object(o.getRadioStatsByName)(t,r.name):null;if(c&&r&&i&&l){let a,s;const E=(e,t)=>e&&t?Object(n.d)(e,t):(e?-1:t&&1)||0;return a=("auto"===c.channel?0:c.channel)||0,s=("auto"===r.channel?0:r.channel)||0,E(a,s)?E(a,s):(a=Object(o.getRadioStatsBindedChannel)(e,i)||c.channel||0,s=Object(o.getRadioStatsBindedChannel)(t,l)||r.channel||0,E(a,s)?E(a,s):(a=parseInt(Object(o.getRadioHt)(c),10),s=parseInt(Object(o.getRadioHt)(r),10),E(a,s)?E(a,s):(a=Object(o.getRadioStatsPrimaryChannel)(i)||c.channel||0,s=Object(o.getRadioStatsPrimaryChannel)(l)||c.channel||0,E(a,s)?E(a,s):(a=Object(o.getRadioStatsTransmitPower)(i),s=Object(o.getRadioStatsTransmitPower)(l),E(a,s)?E(a,s):0))))}if(c&&r){if(i)return 1;if(l)return-1}return c?1:r?-1:0},j=(e,t,a,n)=>M(a,n,l.b.RADIO_NG),L=(e,t,a,n)=>M(a,n,l.b.RADIO_NA),y=(e,t,a,n)=>M(a,n,l.b.RADIO_6E),w=(e,t,a)=>{var n;if(!(null===(n=e.radio_table_stats)||void 0===n?void 0:n.length))return Object(b.e)(a);return Object(o.getRadioStatsByType)(e,t).reduce((e,t)=>e+t.num_sta||0,0)},P=(e,t,a,c,r)=>{const i=Object(_.h)(a)?Object(b.b)(r):w(a,l.b.RADIO_NG,r),o=Object(_.h)(c)?Object(b.b)(r):w(c,l.b.RADIO_NG,r);return Object(n.d)(i,o)},U=(e,t,a,c,r)=>{const i=Object(_.h)(a)?Object(b.b)(r):w(a,l.b.RADIO_NA,r),o=Object(_.h)(c)?Object(b.b)(r):w(c,l.b.RADIO_NA,r);return Object(n.d)(i,o)},G=(e,t,a)=>{if(Object(_.h)(e))return Object(b.b)(a);const n=Object(o.getRadioStatsByType)(e,t);return n.length?n.reduce((e,t)=>e+(t.ast_be_xmit||0)+(t.tx_packets||0),0):Object(b.e)(a)},x=(e,t,a,c,r)=>{const i=G(a,l.b.RADIO_NG,r),o=G(c,l.b.RADIO_NG,r);return Object(n.d)(i,o)},F=(e,t,a,c,r)=>{const i=G(a,l.b.RADIO_NA,r),o=G(c,l.b.RADIO_NA,r);return Object(n.d)(i,o)},B=(e,t,a,c,r)=>{const i=Object(_.h)(a)?Object(b.b)(r):Object(o.getChannelValue)(a,r),l=Object(_.h)(c)?Object(b.b)(r):Object(o.getChannelValue)(c,r);return Object(n.d)(i,l)},k=(e,t,a)=>{const n=Object(o.getRadioStatsByType)(e,t);return 0===n.length?Object(b.e)(a):n.reduce((e,t)=>e+t.cu_total||0,0)},H=(e,t,a,c,r)=>{const i=Object(_.h)(a)?Object(b.b)(r):k(a,l.b.RADIO_NG,r),o=Object(_.h)(c)?Object(b.b)(r):k(c,l.b.RADIO_NG,r);return Object(n.d)(i,o)},Y=(e,t,a,c,r)=>{const i=Object(_.h)(a)?Object(b.b)(r):k(a,l.b.RADIO_NA,r),o=Object(_.h)(c)?Object(b.b)(r):k(c,l.b.RADIO_NA,r);return Object(n.d)(i,o)},W=e=>{const{total:t,totalActivePorts:a}=null==e?void 0:e.portsUtilization;return t&&0!==t&&a?a/t:0},$=e=>{const t=Object(o.getRadioStats)(e),a=t.reduce((e,t)=>e+t.cu_total||0,0);return 0!==a&&t.length>0?a/t.length/100:0}},160:function(e,t,a){"use strict";a.r(t),a.d(t,"fetchAPGroups",(function(){return n.b})),a.d(t,"createAPGroup",(function(){return n.a})),a.d(t,"updateAPGroup",(function(){return n.d})),a.d(t,"removeAPGroup",(function(){return n.c})),a.d(t,"ID_FIELD",(function(){return c.a})),a.d(t,"MODEL",(function(){return c.b})),a.d(t,"PATH",(function(){return c.c})),a.d(t,"selectAPGroups",(function(){return r.b})),a.d(t,"selectAPGroupsData",(function(){return r.d})),a.d(t,"selectDefaultAPGroup",(function(){return r.e})),a.d(t,"selectAPGroupsByDeviceMac",(function(){return r.c})),a.d(t,"selectAPGroupIdsWith6GhzSupport",(function(){return r.a})),a.d(t,"getDeviceWlanStats",(function(){return s})),a.d(t,"isDeviceWlanLimitsReached",(function(){return E})),a.d(t,"apGroupContainsDeviceWithWlanLimitReached",(function(){return d})),a.d(t,"apGroupLimitReached",(function(){return u})),a.d(t,"canSelectDefaultApGroup",(function(){return m})),a.d(t,"getInvalidApGroups",(function(){return _}));var n=a(1222),c=a(267),r=a(1782),i=a(56),l=a(416);function o(e,t){return e.reduce((e,a)=>({...e,[a[t]]:a}),{})}const s=({mac:e},t,a,n)=>{const c=o(a.filter(({device_macs:t})=>t.includes(e)),"_id"),r=t.filter(({ap_group_ids:e})=>null==e?void 0:e.some(e=>c[e])),l={[i.WlanBand.NA]:[],[i.WlanBand.NG]:[],[i.WlanBand.AX]:[]},s={[i.WlanBand.NA]:0,[i.WlanBand.NG]:0,[i.WlanBand.AX]:0};return r.forEach(({wlan_bands:e=[],name:t})=>{e.forEach(e=>{var a;null===(a=l[e])||void 0===a||a.push(t),s[e]+=1})}),n||(delete l[i.WlanBand.AX],delete s[i.WlanBand.AX]),{wlans:o(r,"_id"),wlanNames:l,apGroups:c,...s}},E=(e,t,a,n,c,r,l)=>{const{_id:o,wlan_bands:E=[]}=c,d=s(e,t,a,r);let u=n?4:8;return(!1===l||!l&&o&&d.wlans[o])&&(u+=1),E.some(e=>!r&&e===i.WlanBand.AX||d[e]>=u)},d=(e,t,a,n,c,r,i)=>e.device_macs.some(e=>E({mac:e},t,a,n,c,r,i)),u=(e,t,a,n,c,r)=>{const{_id:l,wlan_bands:o=[],ap_group_ids:s=[]}=n,E=t.reduce((t,{wlan_bands:a=[],ap_group_ids:n=[]})=>n.includes(e._id)?(a.forEach(e=>{t[e]+=1}),t):t,{[i.WlanBand.NA]:0,[i.WlanBand.NG]:0,[i.WlanBand.AX]:0});let d=a?4:8;return(!1===r||!r&&l&&t.some(({_id:e})=>e===l))&&s.includes(e._id)&&(d+=1),o.some(e=>!c&&e===i.WlanBand.AX||E[e]>=d)},m=(e,t,a,n,c,r,i)=>(null==e?void 0:e._id)&&((null==e?void 0:e.device_macs.length)?!d(e,n,t,c,Object(l.a)(a,"_id","wlan_bands"),r):!u(e,n,c,Object(l.a)(a,"_id","wlan_bands","ap_group_ids"),r,i)),_=(e,t,a,n,c,r)=>e.filter(i=>{var o,s;return(null===(o=null==t?void 0:t.ap_group_ids)||void 0===o?void 0:o.includes(i._id))&&((null===(s=i.device_macs)||void 0===s?void 0:s.length)?d(i,a,e,n,Object(l.a)(t,"_id","wlan_bands"),c,r):u(i,a,n,Object(l.a)(t,"_id","wlan_bands","ap_group_ids"),c,r))})},1774:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(3),i=a(2),l=a(1780),o=a.n(l),s=a(1259),E=a(493),d=a(494);const u=Object(r.c)("span")`
  line-height: 1.5;
  margin-top: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`;t.a=({when:e,ignoredPaths:t=null,onLeave:a=null,onStay:r=null,leaveButtonText:l="SETTINGS_MODAL_UNSAVED_CHANGES_LEAVE",stayButtonText:m="SETTINGS_MODAL_UNSAVED_CHANGES_STAY",modalTitle:_="SETTINGS_MODAL_UNSAVED_CHANGES_TITLE",modalDescription:b="SETTINGS_MODAL_UNSAVED_CHANGES_CONTENT"})=>{const O=Object(n.useMemo)(()=>({overlay:{"--modal-z-index":2e3}}),[]),T=Object(d.a)(t),S=Object(n.useCallback)((e,t)=>t.pathname!==e.pathname,[]),A=Object(n.useCallback)(e=>(e={},t={})=>T(e,t)&&S(e,t),[T,S]);return!!e&&c.a.createElement(o.a,{when:A(t)},({onCancel:e,onConfirm:t})=>c.a.createElement(s.a,{actions:[{type:"button",text:c.a.createElement(i.c,{id:m}),onClick:()=>r?r(e):e()},{type:"button",text:c.a.createElement(i.c,{id:l}),onClick:()=>a?a(t):t(),variant:"primary"}],isOpen:!0,size:"small",style:O,parentSelector:E.b,title:c.a.createElement(i.c,{id:_}),onRequestClose:()=>r?r(e):e()},c.a.createElement(u,null,c.a.createElement(i.c,{id:b}))))}},1775:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={HEADER_HEIGHT:49,ROW_HEIGHT:32,getHeight(e,t,a,n){return Math.min((n||this.ROW_HEIGHT)*e+(null!=a?a:this.HEADER_HEIGHT),(n||this.ROW_HEIGHT)*t+(null!=a?a:this.HEADER_HEIGHT))}}},1776:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return E.d})),a.d(t,"c",(function(){return E.a}));var n=a(0),c=a.n(n),r=a(3),i=a(10),l=a(14);const o=Object(r.c)(l.g)`
  > * {
    color: ${({theme:e})=>e.motifPalette.interactiveText02} !important;
    font-size: ${({theme:e})=>e.fontSize["font-size-m"]} !important;

    &:not(:first-child) {
      margin-left: ${({theme:e})=>e.spacing["spacing-s"]} !important;
    }
  }
`;var s=({children:e,...t})=>c.a.createElement(o,Object.assign({alignItems:"center"},t),e,c.a.createElement(i.h,null)),E=a(1261)},1777:function(e,t,a){"use strict";a.d(t,"a",(function(){return n.a})),a.d(t,"b",(function(){return n.b})),a.d(t,"c",(function(){return n.c})),a.d(t,"e",(function(){return Q})),a.d(t,"d",(function(){return X.a})),a.d(t,"f",(function(){return X.c})),a.d(t,"h",(function(){return X.e})),a.d(t,"g",(function(){return X.d})),a.d(t,"i",(function(){return te}));var n=a(1776);var c=a(0),r=a.n(c),i=a(3);var l=({children:e="",className:t=null,full:a=!1,offset:n=1,size:c=6,...l})=>{const o=a?12:c,s=a?0:n;return r.a.createElement("div",Object.assign({className:Object(i.b)("col-"+o,"offset-"+s,t)},l),e)};var o,s=({children:e="",offset:t=0,size:a=2})=>r.a.createElement("div",{className:Object(i.b)("col-"+a,"offset-"+t)},e),E=a(2),d=a(559),u=a.n(d),m=a(14),_=a(1783),b=a.n(_),O=a(126),T=a.n(O),S=a(106);!function(e){e.DANGER="danger",e.NEUTRAL="neutral",e.NONE="none",e.PRIMARY="primary",e.SUCCESS="success",e.WARNING="warning"}(o||(o={}));const A=T.a.bind(b.a);var N=({className:e=null,status:t=o.NEUTRAL,...a})=>r.a.createElement(S.a,Object.assign({},a,{className:A("ubntStatusText","ubntStatusText--"+t,e)})),p=a(256),h=a(1779);const C=Object(i.c)(m.g)`
  border: 1px solid ${p.b.colors.yellow};
  border-radius: 4px;
  cursor: initial;
  margin-left: 8px;
  user-select: none;
`,g=Object(i.c)(N)`
  font-size: 8px !important;
  letter-spacing: 0.2px;
  padding: 3px 3px;
  white-space: nowrap;
`;var f=({state:e,className:t=null,...a})=>r.a.createElement(C,Object.assign({alignItems:"center",className:t,height:14,inline:!0,justifyContent:"center"},a),r.a.createElement(g,{message:h.b[e],status:o.WARNING})),I=a(136),D=a(75),v=a(5),R=a(26),M=a(40),j=a(54);const L={BORDER_WIDTH:2},y={LEFT:-17,PADDING_BOTTOM:15,PADDING_TOP:15,PADDING_X:15,TOP:-17},w=({type:e,size:t,width:a,height:n})=>{switch(e){case I.SearchHighlightType.FIELD:default:{const{LEFT:e,PADDING_BOTTOM:a,PADDING_TOP:n,PADDING_X:c,TOP:r}=y;return{top:r,left:e,padding:`${n}px ${c}px ${a}px`,width:100+100*(12-t)/t+"%",height:"100%"}}}};function P({type:e,forId:t,highlightStyle:a,highlightDelay:n,size:r,width:l,height:o}){const s=Object(v.useSelector)(I.selectHighlight),[E,d]=Object(M.c)(0),[u,m]=Object(M.c)(!1),_=Object(c.useRef)(null),b=Object(c.useMemo)(()=>(({color:e,show:t,style:a})=>Object(i.a)({"&::before":{border:`${L.BORDER_WIDTH}px solid ${t?e:"rgba(255, 255, 255, 0)"}`,borderRadius:7.5,boxShadow:t?"0 0 10px 0 "+e:"none",boxSizing:"content-box",content:"''",display:"block",pointerEvents:"none",position:"absolute",transition:"border-color 200ms ease, box-shadow 200ms ease",...a}}))({color:R.a["blue-light-3"],show:u,style:{...w({type:e,size:r,width:l,height:o}),...a}}),[u,e,a,r,l,o]);return Object(c.useEffect)(()=>{if(Number.isFinite(n)&&n>E)d(E+1);else if(_.current&&t===s.id&&s.type===e){window.getComputedStyle(_.current).border,window.getComputedStyle(_.current).boxShadow;let t=_.current.parentElement,n=null;for(;null!==t;){if("auto"===window.getComputedStyle(t).overflow){n=t;break}t=t.parentElement}if(n){const{bottom:t,height:c,top:r}=(({height:e,highlightRef:t,type:a,highlightStyle:n})=>{if(!t||!t.current)return{bottom:0,height:0,top:0};const{height:c,top:r}=t.current.getBoundingClientRect();switch(a){case I.SearchHighlightType.FIELD:default:{const{PADDING_BOTTOM:e,PADDING_TOP:t,TOP:a}=y,i=r+Object(j.a)(n,"top",a),l=i+c+Object(j.a)(n,"paddingBottom",e)+Object(j.a)(n,"paddingTop",t)+2*L.BORDER_WIDTH;return{bottom:l,height:l-i,top:i}}}})({height:o,highlightRef:_,type:e,highlightStyle:a}),{bottom:i,height:l,top:s}=n.getBoundingClientRect(),E=t>i,d=c>l,u=15;r<s||d?n.scrollTo({behavior:"smooth",top:n.scrollTop-s+r-u}):E&&n.scrollTo({behavior:"smooth",top:n.scrollTop+t-i+u})}m(!0)}},[o,E]),Object(c.useEffect)(()=>{u||s.id!==t||d(e=>e+1),u&&s.id!==t&&m(!1)},[s.id,u]),{highlightClassName:b,highlightRef:_}}const U=Object(i.c)(u.a)`
  color: ${D.a} !important;
  cursor: pointer;
  font-size: 12px;
  line-height: 1.6 !important;
  opacity: 0.7;
  transition: opacity 200ms ease;
`,G=Object(i.c)(u.a)`
  color: white;
  cursor: pointer;
  font-size: 13px;
  letter-spacing: 0.2px;
  line-height: 1.6 !important;
  opacity: 0.7;
  transition: opacity 200ms ease;
`,x=i.a`
  cursor: pointer;
  user-select: none;

  &:hover {
    // Made the class plain text instead of \${StyledDescription} because TypeScript compiler breaks the interpolation
    .settingsGridDescription {
      opacity: 1;
    }

    // Same here
    .settingsGridLabel {
      color: white;
      opacity: 1;
    }
  }
`;var F=({text:e,badge:t=null,children:a=null,description:n="",descriptionValues:c={},dontTranslateText:l=!1,highlightDelay:o=null,highlightStyle:s=null,htmlFor:d=null,offset:u=0,size:m=5,useHtml:_=!1})=>{const{highlightClassName:b,highlightRef:O}=P({type:I.SearchHighlightType.FIELD,forId:d,highlightStyle:s,highlightDelay:o,size:m}),T=!(!n&&!a),S={["col-"+m]:!0,["offset-"+u]:u>0},A=_?E.b:E.c;return r.a.createElement("div",{className:Object(i.b)(S,x,b),ref:O},r.a.createElement("div",{className:"mb-1"},r.a.createElement(G,{className:"settingsGridLabel",htmlFor:d,primary:!0},l?e:r.a.createElement(E.c,{id:e})),t&&r.a.createElement(f,{state:t})),T&&r.a.createElement("div",null,r.a.createElement(U,{className:"settingsGridDescription",htmlFor:d,secondary:!0},n?r.a.createElement(A,{id:n,values:c}):a)))};const B=i.a`
  max-width: 960px;
`,k=({children:e="",className:t="",forwardedRef:a,leaveSpaceForValidationMessage:n=!1,marginTop:c=8,noWidthLimit:l=!1})=>{const o=n?4:c;return r.a.createElement("div",{className:Object(i.b)("row","mt-"+o,l?null:B,t),ref:a},e)};var H=r.a.forwardRef((e,t)=>r.a.createElement(k,Object.assign({forwardedRef:t},e)));var Y=e=>r.a.createElement("div",{className:"mt-2 mb-6"},r.a.createElement(S.a,Object.assign({color:"white",weight:"400",size:"large"},e)));const W=Object(i.c)("div")`
  flex: 0 1 480px;
`,$=Object(i.c)("h2")`
  font-weight: normal;
  letter-spacing: 2px;
  text-transform: uppercase;
`;var V=({text:e,className:t="",description:a="",highlightDelay:n=null,highlightStyle:c=null,section:l=null})=>{const o=p.b.sectionColors.common;return r.a.createElement(H,{className:t,marginTop:0},r.a.createElement(W,null,r.a.createElement($,{className:Object(i.b)("mt-8","type-larger"),style:{color:o}},r.a.createElement(E.c,{id:e})),a&&r.a.createElement(S.a,{message:a,className:"mt-3",lineHeight:2,display:"block",size:"small"})))};const z=Object(i.c)("div")`
  > * {
    border-bottom: ${({noDivider:e})=>e?0:"1px solid var(--ubnt-color-border-primary)"};
  }

  &:last-child > * {
    border-bottom: 0;
  }
`,K=({children:e,className:t="",noBottomMargin:a=!1,noDivider:n=!1})=>r.a.createElement(z,{className:Object(i.b)("container","px-8",t),noDivider:n},r.a.createElement("div",{className:Object(i.b)({"pb-8":!a})},e));K.Content=l,K.Icon=s,K.Label=F,K.Row=H,K.SectionHeader=Y,K.Subheader=V;var q=a(268);const Z=Object(i.c)(q.c,{shouldForwardProp:e=>"withStickyButton"!==e&&"noPadding"!==e})`
  padding: ${({noPadding:e=!1,theme:t,withStickyButton:a=!1})=>e?"0":`0 ${2*parseInt(t.spacing["spacing-xxxxl"],10)}px ${a?2*parseInt(t.spacing["spacing-xxxl"],10)+"px":"0"}`};
`;var Q=e=>r.a.createElement(Z,Object.assign({},e)),X=a(719),J=a(188),ee=a(9);const te=({lastQuery:e=0})=>{const t=Object(v.useSelector)(J.B);return e>0?r.a.createElement(ee.a,{alignItems:"center"},r.a.createElement(E.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_QUERY_STATUS_LABEL"})," ",r.a.createElement(E.a,{value:new Date(1e3*e),year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!t})):r.a.createElement(E.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_STATUS_QUERY_NONE"})};a(1774)},1778:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(3),i=a(187),l=a.n(i),o=a(393),s=a(75);const E=Object(r.c)(o.a,{shouldForwardProp:e=>!["marginLeft","marginRight","statusSize"].includes(e)})`
  ${({statusSize:e=6})=>`\n    width: ${e}px;\n    height: ${e}px;\n  `}
  ${({marginLeft:e})=>e&&`margin-left: ${e}px;`}
  ${({marginRight:e})=>e&&`margin-right: ${e}px;`}
`,d=e=>r.a`
  animation: ${(e=>{const t=l()(s.n[e]).alpha(0).css(),a=l()(s.n[e]).alpha(.3).css();return r.e`
      0% {
        box-shadow: 0 0 0 4px ${t};
      }
      50% {
        box-shadow: 0 0 0 4px ${a};
      }
      100% {
        box-shadow: 0 0 0 4px ${t};
      }
    `})(e)} 1.2s ease-in-out 0s infinite;
`;t.a=({status:e,statusPulse:t,marginLeft:a,marginRight:n,statusSize:r})=>c.a.createElement(E,{variant:e,className:t?d(e):"",marginLeft:a,marginRight:n,statusSize:r})},1779:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return c})),function(e){e.alpha="ALPHA",e.beta="UNIFI_LABS",e.comingSoon="COMING_SOON"}(n||(n={}));const c={[n.alpha]:"COMMON_BADGE_ALPHA",[n.beta]:"COMMON_BADGE_UNIFI_LABS",[n.comingSoon]:"COMMON_BADGE_COMING_SOON"};t.a=n},1782:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return E})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return u}));var n=a(6),c=a(25),r=a(7),i=a(4),l=a(1222);const o=Object(r.A)(Object(l.b)()),s=Object(n.a)(o,c.c),E=Object(n.a)(s,e=>e.find(({attr_no_delete:e})=>e)),d=e=>Object(n.a)(s,t=>t.filter(t=>t.device_macs.includes(e))),u=Object(n.a)(s,i.select6GhzSupportedApDevicesMac,(e,t)=>e.reduce((e,{device_macs:a,_id:n})=>(a.some(e=>t.includes(e))&&e.push(n),e),[]))},1802:function(e,t){},1803:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return E})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return _})),a.d(t,"g",(function(){return b})),a.d(t,"a",(function(){return O}));var n=a(6),c=a(73),r=a(25),i=a(7),l=a(1228);const o=Object(n.a)(e=>Object(i.w)(Object(l.a)(),e.models),r.c),s=Object(n.a)(o,e=>null==e?void 0:e.last_controller_update_query),E=(Object(n.a)(o,e=>null==e?void 0:e.last_controller_update_query_status),Object(n.a)(o,e=>null==e?void 0:e.last_firmware_update_query)),d=(Object(n.a)(o,e=>null==e?void 0:e.last_firmware_update_query_status),Object(n.a)(o,e=>{var t;return null!==(t=null==e?void 0:e.lte_subscription_past_due_for)&&void 0!==t?t:[]})),u=Object(n.a)(o,e=>{var t;return null!==(t=null==e?void 0:e.lte_subscription_canceled_for)&&void 0!==t?t:[]}),m=Object(n.a)(o,e=>{var t;return null!==(t=null==e?void 0:e.lte_subscription_check_required_for)&&void 0!==t?t:[]}),_=Object(c.a)(e=>Object(n.a)(m,t=>t.reduce((t,{user_uuid:a,mac:n})=>a===e?[...t,n]:t,[]))),b=Object(n.a)(o,e=>{var t;return null!==(t=null==e?void 0:e.unifi_care_eligible_devices)&&void 0!==t?t:[]}),O=Object(n.a)(o,e=>null==e?void 0:e.has_wlan_overrides)},2271:function(e,t,a){"use strict";a.r(t);var n,c=a(0),r=a.n(c),i=a(40),l=a(2),o=a(5),s=a(577),E=a(700),d=a(18),u=a(30),m=a(169),_=a(2429),b=a(28),O=a(16),T=a(7),S=a(36),A=a(291),N=a(234),p=a(2613),h=a(81),C=a(72),g=a(2504),f=a(136),I=a(1763),D=a(1761),v=a(1762),R=a(2311),M=a(3),j=a(10),L=a(121),y=a(2615),w=a(883),P=a.n(w),U=a(426),G=a.n(U),x=a(46),F="/api/s/{site}/cmd/productinfo",B=function(){return Object(T.p)(x.a.CHECK_FIRMWARE_UPDATE,F,{})},k=function(e){var t=e.username,a=e.password,n=e.token;return function(){var e=P()(G.a.mark((function e(c){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(Object(T.p)(x.a.REFRESH_SSO,"".concat(F,"/refresh-sso"),{sso_username:t,sso_password:a,sso_2fa_token:n}));case 2:return e.next=4,c(Object(u.fetchSettings)());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H="".concat("/api/s/{site}/stat","/fwupdate/latest-version"),Y=function(){return Object(T.t)("stat/firmware",H)},W=a(54),$=a(25),V=a(1777);!function(e){e[e.GRID_TABLE=7]="GRID_TABLE"}(n||(n={}));var z=a(14),K=a(162),q=a(61),Z=a(144),Q=a(37);const X=(e,t)=>e.replace(/\/network\/?/,t);var J=a(227),ee=a.n(J),te=a(23),ae=a(1895),ne=a(251),ce=a(2766),re=a.n(ce);var ie=a(2493),le=a(2475),oe=a(2316),se=a(804),Ee=a(168),de=a(42),ue=a(2379),me=a(2399),_e=a(896),be=a(38),Oe=a(87),Te=a(1775),Se=a(41);const Ae=Object(M.c)(Oe.a,{shouldForwardProp:e=>"showBorder"!==e})`
  width: 385px !important;

  ${({showBorder:e,theme:t})=>e&&`\n    > div {\n      border-bottom: 1px solid ${t.motifPalette.ui04};\n      padding-bottom: 32px !important;\n    }\n  `}
`,Ne=Object(M.c)(D.a,{shouldForwardProp:e=>"itemCount"!==e})`
  margin-top: ${({theme:e})=>e.spacing["spacing-l"]};
  height: ${({itemCount:e})=>Te.a.getHeight(e,6)}px;

  > div {
    height: inherit;
  }

  table {
    background: none !important;

    tr {
      border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui04} !important;
    }
  }
`,pe=Object(M.c)(oe.a)`
  width: 100%;
  margin-top: ${({theme:e})=>e.spacing["spacing-m"]};

  > div {
    margin-right: 0 !important;
    > div {
      /* removed top margin for serach icon */
      margin-top: 0 !important;

      button {
        padding: 0 !important;
      }
    }
  }
`,he=Object(M.c)(z.g,{shouldForwardProp:e=>"width"!==e})`
  ${({width:e})=>e>0&&`\n    width: ${e}px;\n    max-width: ${e}px;\n    min-width: ${e}px;\n  `}
`,Ce=Object(M.c)(se.a,{shouldForwardProp:e=>"narrow"!==e})`
  > div:not(:first-child) {
    margin-left: ${({narrow:e,theme:t})=>t.spacing[e?"spacing-xxs":"spacing-s"]};
  }
`,ge=Object(M.c)(Ee.a,{shouldForwardProp:e=>"isActive"!==e})`
  width: 28px !important;
  height: 28px !important;
  margin-top: ${({theme:e})=>e.spacing["spacing-xs"]} !important;
  padding: 0 !important;
  ${({isActive:e,theme:t})=>!e&&`background: ${t.motifPalette.ui12} !important;`}
`,fe=Object(M.c)(v.a,{shouldForwardProp:e=>"prop"!==e})`
  flex: 2 1 ${({width:e})=>e}px;
`;var Ie=Object(l.f)(({closeModal:e,intl:t})=>{const a=Object(o.useSelector)(N.selectDevicesBasicAdopted),n=Object(o.useSelector)(d.x),i=Object(o.useSelector)(d.N),{errors:s,handleSubmit:E,initialValues:u,isSubmitting:m,isValid:_,touched:b,values:O,setFieldValue:T,setTouched:A}=Object(S.e)(),{weekDays:p=[],repeat:h,repeatEveryCount:C,repeatEveryPeriod:g}=O,[f,R]=Object(c.useState)(!1),[M,L]=Object(c.useState)(""),y=!!(null==u?void 0:u._id),w=(b||y)&&(_||!Object.keys(null!=s?s:{}).filter(e=>"upgrade_targets"!==e).length),P=Object(c.useMemo)(()=>Object(ie.b)(i),[i]),U=Object(c.useCallback)(()=>{O.name?R(!0):A({name:!0})},[R,A,O.name]),G=Object(c.useCallback)(()=>R(!1),[R]),x=Object(c.useCallback)(e=>T("upgrade_targets",e),[T]),F=Object(c.useCallback)(e=>{(null==p?void 0:p.includes(e))?T("weekDays",null==p?void 0:p.filter(t=>t!==e)):T("weekDays",[...p,e])},[p,T]),B=Object(c.useMemo)(()=>{const e=M.toLowerCase();return a.filter(({name:t,model:a,mac:n})=>[t,a,n,Object(Se.a)({model:a})].some((t="")=>t.toLowerCase().indexOf(e)>=0))},[a,M]),k=Object(c.useMemo)(()=>{switch(h){case le.c.WEEKLY:return r.a.createElement(D.a,{disabled:n},r.a.createElement(v.a,{column:!0},r.a.createElement(de.a,{size:"label",color:"tertiary"},r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_ON_EVERY"})),r.a.createElement(Ce,null,_e.a.map(({label:e,value:a})=>{const n=t.formatMessage({id:e})[0],c=null==p?void 0:p.includes(a);return r.a.createElement(ge,{isActive:c,variant:c?"primary":"default",onClick:()=>F(a),key:e},r.a.createElement(de.a,{size:"caption"},n))})),!!s.weekDays&&r.a.createElement(be.ValidationMessage,{visible:!0,translation:s.weekDays})));case le.c.MONTHLY:return r.a.createElement(D.a,{disabled:n},r.a.createElement(ue.a,{alignWith:"dropdown",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_ON_DAY_OF_MONTH"}),htmlFor:"dayInMonth"}),r.a.createElement(fe,{width:180,column:!0},r.a.createElement(be.Field,{full:!0,max:"31",min:"1",name:"dayInMonth",type:"number"})));case le.c.ADVANCED:{const e=ie.d.map(({label:e,value:a})=>({label:t.formatMessage({id:e},{count:C}),value:a})),a=le.a.YEAR!==g;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{disabled:n},r.a.createElement(ue.a,{alignWith:"dropdown",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_EVERY"})}),r.a.createElement(fe,{width:180,column:!0},r.a.createElement(z.g,{justifyContent:a?"space-between":"flex-end",width:"180px"},a&&r.a.createElement(he,{width:56,flexDirection:"column"},r.a.createElement(be.Field,{full:!0,min:"1",name:"repeatEveryCount",type:"number"})),r.a.createElement(he,{width:a?108:void 0},r.a.createElement(be.Field,{full:!0,name:"repeatEveryPeriod",options:e,type:"dropdown"}))))),le.a.WEEK===g&&r.a.createElement(D.a,{disabled:n},r.a.createElement(ue.a,{alignWith:"dropdown",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_ON_EVERY"})}),r.a.createElement(fe,{width:208,column:!0},r.a.createElement(Ce,{narrow:!0},_e.a.map(({label:e,value:a})=>{const n=t.formatMessage({id:e})[0],c=null==p?void 0:p.includes(a);return r.a.createElement(ge,{isActive:c,variant:c?"primary":"default",onClick:()=>F(a),key:e},r.a.createElement(de.a,{size:"caption"},n))})),!!s.weekDays&&r.a.createElement(be.ValidationMessage,{visible:!0,translation:s.weekDays}))),le.a.MONTH===g&&r.a.createElement(D.a,{disabled:n},r.a.createElement(ue.a,{alignWith:"dropdown",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_ON_DAY_OF_MONTH"}),htmlFor:"dayInMonth"}),r.a.createElement(fe,{width:180,column:!0},r.a.createElement(be.Field,{full:!0,max:"31",min:"1",name:"dayInMonth",type:"number"}))))}default:return null}},[n,F,t,h,C,g,p,s.weekDays]);return r.a.createElement(Ae,{size:"small",isOpen:!0,title:r.a.createElement(l.c,{id:y?"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_UPGRADE_EDIT_HEADER":"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_UPGRADE_NEW_HEADER",values:{name:null==u?void 0:u.name}}),actions:f?[{type:"button",text:r.a.createElement(l.c,{id:"COMMON_ACTION_BACK"}),onClick:G,disabled:m},{type:"button",text:r.a.createElement(l.c,{id:y?"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_SAVE_SCHEDULE":"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_CREATE_SCHEDULE"}),onClick:()=>E(),disabled:m||!_}]:[{type:"button",text:r.a.createElement(l.c,{id:"COMMON_ACTION_CANCEL"}),onClick:e},{type:"button",disabled:!w,text:r.a.createElement(l.c,{id:"COMMON_ACTION_NEXT"}),onClick:U,variant:"primary"}],onRequestClose:e,showBorder:!f&&[le.c.WEEKLY,le.c.MONTHLY,le.c.ADVANCED].includes(h)},f?r.a.createElement(I.a,{padding:"none"},r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_TARGET_DEVICES_LABEL"}),r.a.createElement(pe,{iconBefore:r.a.createElement(j.Rb,{size:"small"}),onChange:(e,t)=>L(t),onClear:e=>L(""),placeholder:"",value:M,full:!0}),r.a.createElement(Ne,{itemCount:a.length},r.a.createElement(me.a,{columns:ie.f,items:B,idField:"mac",disableColumnFilters:!0,multiSelectMode:!0,disableSelection:n,initialSelectedIds:O.upgrade_targets,onChangeSelection:x}))):r.a.createElement(I.a,{padding:"none"},r.a.createElement(D.a,{disabled:n},r.a.createElement(v.a,{column:!0},r.a.createElement(be.Field,{name:"name",full:!0,disabled:n,label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_NAME"}))),r.a.createElement(D.a,{disabled:n},r.a.createElement(v.a,{column:!0},r.a.createElement(be.Field,{disabled:n,full:!0,label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_START_TIME",name:"startTime",options:P,translateLabel:!0,type:"dropdown"}))),r.a.createElement(D.a,{disabled:n},r.a.createElement(v.a,{column:!0},r.a.createElement(be.Field,{disabled:n,full:!0,label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEATS",name:"repeat",options:ie.c,translateLabel:!0,translateOptions:!0,type:"dropdown"}))),k))}),De=a(2567);var ve=({closeModal:e})=>{const{formName:t,formId:a}=Object(te.m)(),n=Object(o.useDispatch)(),i=Object(o.useSelector)(p.selectScheduledUpgrades),l=t===ie.e,s=Object(c.useMemo)(()=>l&&a&&i.find(({_id:e})=>e===a),[l,a,i]),E=Object(c.useMemo)(()=>{var e,t;return(null==s?void 0:s._id)?{...ie.a,...s,...Object(De.a)(s.cron_expr,s.execute_only_once),upgrade_targets:null!==(t=null===(e=s.upgrade_targets)||void 0===e?void 0:e.map(({mac:e})=>e))&&void 0!==t?t:[]}:ie.a},[s]),d=Object(c.useCallback)((t,{setSubmitting:a})=>{var c;const{dayInMonth:r,weekDays:i,repeat:l,repeatEveryCount:o,repeatEveryPeriod:s,startTime:E,upgrade_targets:d,...u}=t,m={...u,upgrade_targets:null!==(c=null==d?void 0:d.map(e=>({mac:e})))&&void 0!==c?c:[],cron_expr:Object(De.b)(t),execute_only_once:l===le.c.NEVER};n(Object(p.saveScheduledUpgrade)(m)).then(()=>{n(Object(b.c)({icon:O.a.success,message:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_SAVE_SUCCESS"})),e()}).catch(e=>{n(Object(b.c)({errorMessage:e.msg,errorValues:e,icon:O.a.danger,message:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_SAVE_ERROR"})),a(!1)})},[n,e]);return r.a.createElement(S.c,{enableReinitialize:!0,initialValues:E,validationSchema:ie.g,onSubmit:d},r.a.createElement(Ie,{closeModal:e}))};const Re=Object(M.c)("div")`
  width: 100%;
`,Me=Object(M.c)("div")`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-s"]};

  table {
    th {
      height: 30px !important;
      font-weight: 400 !important;
    }
  }
`,je=Object(M.c)(K.c)`
  border-radius: 0;
  margin-top: 6px;
`,Le=Object(M.c)("div")`
  margin-left: ${({theme:e})=>e.spacing["spacing-s"]};
  padding-top: ${({theme:e})=>e.spacing["spacing-xxs"]};
`;var ye=()=>{const{formName:e}=Object(te.m)(),t=Object(te.k)(),a=Object(o.useDispatch)(),n=Object(o.useSelector)(p.selectScheduledUpgrades),s=Object(o.useSelector)(d.x),E=Object(o.useSelector)(N.selectAdoptedDevicesBasic),u=Object(o.useSelector)(d.N),m=e===ie.e,_=Object(i.j)("system/maintenance"),O=`${_}/${ie.e}`,T=Object(c.useCallback)((e=ee()())=>t.push(`${O}/${e}`),[O,t]),S=Object(c.useCallback)(()=>t.push(_),[t,_]),A=Object(c.useCallback)(({_id:e,name:t})=>{const{successToast:n,failureToast:c}=Object($.a)("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_REMOVE_ERROR","SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_REMOVE_SUCCESS",{upgrade:t});a(Object(p.removeScheduledUpgrade)(e)).then(()=>a(Object(b.c)(n))).catch(e=>a(Object(b.c)(c(void 0,e))))},[a]),h=Object(c.useCallback)(e=>{a(Object(ne.b)({name:e.name,onConfirm:()=>A(e)}))},[a,A]),C=Object(c.useMemo)(()=>[{id:"name",renderLabel:()=>r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_HEADER_NAME"}),minWidth:110},{id:"repeats",renderLabel:()=>r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_HEADER_REPEATS"}),renderCell:({cron_expr:e,execute_only_once:t})=>{const{repeat:a,repeatEveryPeriod:n}=Object(De.a)(e,t),c=a===le.c.ADVANCED?le.b[n]:a;return t?"-":r.a.createElement(l.c,{id:"COMMON_INTERVAL_"+c.toUpperCase()})},minWidth:80},{id:"nextUpdate",renderLabel:()=>r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_HEADER_NEXT_UPDATE"}),renderCell:({cron_expr:e,execute_only_once:t})=>{const a=(e=>{var t;if(!e||e.split(" ").length<5)return null;try{const a=re.a.parseExpression(e),n=null===(t=null==a?void 0:a.next())||void 0===t?void 0:t.getTime();return n?new Date(n):null}catch(a){return null}})(e),{repeat:n,repeatEveryPeriod:c}=Object(De.a)(e,t);let i=n===le.c.ADVANCED?le.b[c]:n;return i===le.c.NEVER&&(i=le.b.Hour),r.a.createElement(l.a,{value:a,format:i.toLowerCase(),hour12:!u})},minWidth:150}],[]);return E.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(Re,null,n.length>0&&r.a.createElement(Me,null,r.a.createElement(ae.a,{columns:C,disableColumnFilters:!0,disableSelection:!0,disableTextPointer:!0,items:n,idField:"_id",renderRowPopoverContent:e=>s?r.a.createElement(V.h,null,r.a.createElement(V.f,{onClick:()=>T(e._id),name:"view"},r.a.createElement(l.c,{id:"COMMON_ACTION_VIEW"}))):r.a.createElement(V.h,null,r.a.createElement(V.f,{onClick:()=>T(e._id),name:"upgrade"},r.a.createElement(l.c,{id:"COMMON_ACTION_EDIT"})),r.a.createElement(V.f,{onClick:()=>h(e),name:"remove"},r.a.createElement(l.c,{id:"COMMON_ACTION_REMOVE"}))),rowHeight:30,width:"100%"})),!s&&r.a.createElement(je,{name:"check-controller-package-update",type:"button",variant:"inline",onClick:()=>T(),legacy:!1},r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_BUTTON_ADD"}))),!!m&&r.a.createElement(ve,{closeModal:S})):r.a.createElement(z.g,null,r.a.createElement(j.ab,{isActive:!0}),r.a.createElement(Le,null,r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_NO_DEVCICES"})))},we=a(2411),Pe=a(2604),Ue=a(21);var Ge=a(90),xe=a(148);const Fe=M.e`
    from: {
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
`,Be=Object(M.c)(j.I)`
  opacity: 0;
  animation: ${Fe} 2s ease-in-out 0s infinite;
`,ke=[{compare:Object(xe.a)(e=>Object(Se.a)({model:e.device})),id:"deviceColumn",minWidth:150,label:r.a.createElement(l.c,{id:"SETTINGS_FIRMWARE_CACHE_HEADER_DEVICE"}),renderCell:e=>r.a.createElement(de.a,{truncate:!0,color:"tertiary"},Object(Se.a)({model:e.device})),sortable:!0},{id:"version",minWidth:110,label:r.a.createElement(l.c,{id:"SETTINGS_FIRMWARE_CACHE_HEADER_VERSION"}),renderCell:({version:e})=>r.a.createElement(de.a,{truncate:!0,color:"tertiary"},e),sortable:!0},{id:"sizeColumn",minWidth:60,label:r.a.createElement(l.c,{id:"SETTINGS_FIRMWARE_CACHE_HEADER_SIZE"}),renderCell:e=>r.a.createElement("span",null,Object(Ge.c)(e.size)||"-")},{id:"cachedColumn",minWidth:60,label:r.a.createElement(l.c,{id:"SETTINGS_FIRMWARE_CACHE_HEADER_CACHED"}),renderCell:e=>{let t="-";return e.isDownloading?t=r.a.createElement(Be,null):e.cached&&(t=r.a.createElement(j.v,null)),r.a.createElement("span",null,t)}}],He=Object(M.c)("div")`
  width: 100%;
  margin-bottom: ${({theme:e})=>e.spacing["spacing-s"]};

  table {
    th {
      font-weight: 400 !important;
    }
  }
`,Ye=Object(M.c)("div")`
  margin-left: ${({theme:e})=>e.spacing["spacing-s"]};
  padding-top: ${({theme:e})=>e.spacing["spacing-xxs"]};
`,We=Object(M.c)(se.a)`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-l"]};
`,$e=Object(M.c)(Ee.a,{shouldForwardProp:e=>"isActive"!==e})`
  height: 24px !important;
  background: ${({theme:e,isActive:t})=>t?e.motifPalette.ui12:"none"};
  ${({theme:e,isActive:t})=>t&&"color: "+e.motifPalette.text01};

  &:hover {
    background: ${({theme:e})=>e.motifPalette.hoverUi01};
  }
`;var Ve=()=>{const[e,t]=Object(c.useState)({}),[a,n]=Object(c.useState)("all"),s=Object(o.useDispatch)(),E=Object(o.useSelector)(y.selectSiteFirmwares),d=Object(o.useSelector)(y.selectCachedSiteFirmwares),u=Object(c.useCallback)(({base_model:e,device:a,version:n})=>{t({base_model:e,version:n}),s(Object(y.downloadFirmwareAndRefresh)(a,n)).then(()=>t({}))},[s]),m=Object(c.useCallback)(e=>{s((({device:e,version:t})=>a=>{a(Object(ne.a)({title:"SETTINGS_FIRMWARE_DELETE_MODAL_TITLE",message:"SETTINGS_FIRMWARE_DELETE_MODAL_MESSAGE",messageValues:{deviceModel:Object(Se.a)({model:e})},onConfirm:()=>{a(Object(y.removeFirmwareAndRefresh)(e,t)),a(Object(Ue.e)())}}))})(e))},[s]),_=Object(c.useMemo)(()=>Object(we.a)("all"===a?E.map(t=>({...t,isDownloading:e.base_model===t.base_model&&e.version===t.version,isCacheDisabled:!!e.base_model})):d,"device"),[a,E,e,d]),b=Object(c.useCallback)(e=>{e.preventDefault(),n("all")},[n]),O=Object(c.useCallback)(e=>{e.preventDefault(),n("cached")},[n]);return Object(i.g)([Object(y.fetchAvailableFirmware)({type:T.a.CACHE}),Object(y.fetchCachedFirmware)({type:T.a.CACHE})],r.a.createElement(He,null,r.a.createElement(We,{variant:"cozy"},r.a.createElement($e,{pill:!0,onClick:b,isActive:"all"===a},r.a.createElement(l.c,{id:"SETTINGS_FIRMWARE_FILTER_AVAILABLE_FIRMWARE"})),r.a.createElement($e,{pill:!0,onClick:O,isActive:"cached"===a},r.a.createElement(l.c,{id:"SETTINGS_FIRMWARE_FILTER_CACHED_FIRMWARE"}))),_.length?r.a.createElement(z.i,{horizontal:!0,displayGrid:!0},r.a.createElement(Pe.a,{columns:ke,disableColumnFilters:!0,disableSelection:!0,disableTextPointer:!0,idField:"device",items:_,renderRowPopoverContent:e=>r.a.createElement(V.h,null,e.cached?r.a.createElement(V.f,{text:"SETTINGS_FIRMWARE_CACHE_ACTION_DELETE",disabled:e.isDownloading,onClick:()=>m(e),name:"delete-cache"},r.a.createElement(l.c,{id:"SETTINGS_FIRMWARE_CACHE_ACTION_DELETE"})):r.a.createElement(V.f,{disabled:e.isCacheDisabled,onClick:()=>u(e),name:"cache"},r.a.createElement(l.c,{id:"SETTINGS_FIRMWARE_CACHE_ACTION_CACHE"}))),rowHeight:30,maxRows:6,headerHeight:32})):r.a.createElement(z.g,null,r.a.createElement("div",null,r.a.createElement(j.ab,{isActive:!0})),r.a.createElement(Ye,null,r.a.createElement(l.c,{id:"all"===a?"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_HEADER_FIRMWARE_ALL_EMPTY":"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_HEADER_FIRMWARE_CACHE_EMPTY"})))))},ze=a(35),Ke=a(2893),qe=a(415),Ze=a(373),Qe=a(1179),Xe=a(4);const Je=Object(M.c)(Oe.a,{shouldForwardProp:e=>"extraSmall"!==e})`
  ${({extraSmall:e})=>e?"width: 340px;":""}
`,et=Object(M.c)(de.a)`
  line-height: 1.6em;
`,tt=Object(M.c)(Qe.a)`
  margin-top: ${({theme:e})=>e.spacing["spacing-xl"]};
`,at=Object(M.c)(j.ab)`
  margin-right: ${({theme:e})=>e.spacing["spacing-s"]};
  color: ${({theme:e})=>e.motifPalette.warning} !important;
`,nt=Object(M.c)(z.g)`
  margin-top: ${({theme:e})=>e.spacing["spacing-m"]};
`;var ct,rt=({backupInfo:e,closeModal:t,onRestore:a})=>{var n;const i=Object(c.useMemo)(()=>(null==e?void 0:e.sites.length)>1,[]),s=Object(c.useMemo)(()=>null==e?void 0:e.sites.map(({_id:e,name:t})=>({label:t,value:e})),[]),[E,d]=Object(c.useState)(i?"":null===(n=s[0])||void 0===n?void 0:n.value),u=Object(o.useSelector)(C.m),m=Object(o.useSelector)(Xe.selectSiteGateway),_=Object(c.useCallback)(({value:e})=>{d(e)},[d]),b=Object(c.useMemo)(()=>i?u?"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_MULTI_SITES_DETECTED":"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_RESTORE_SITES":"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_RESTORE_SITE",[u,i]),O=Object(c.useMemo)(()=>i?u?r.a.createElement(r.a.Fragment,null,r.a.createElement(et,null,r.a.createElement(l.b,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_SELECT_SITE_DESCRIPTION",values:{name:Object(Se.c)(m)}})),r.a.createElement(tt,{label:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_SELECT_SITE",onChange:_,options:s,value:E}),r.a.createElement(nt,{alignItems:"center"},r.a.createElement(at,{width:"12px",height:"12px"}),r.a.createElement(de.a,{size:"label",color:"tertiary"},r.a.createElement(l.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_RESTART_INFO"})))):r.a.createElement(et,null,r.a.createElement(l.b,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_MULTIPLE_SITES"})):r.a.createElement(et,null,r.a.createElement(l.b,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_SINGLE_SITE",values:{site:s[0].label}})),[i,u,m,_,s,E]);return r.a.createElement(Je,{size:"small",extraSmall:!u||!i,isOpen:!0,title:r.a.createElement(l.c,{id:b}),actions:[{type:"button",text:r.a.createElement(l.c,{id:"COMMON_ACTION_CANCEL"}),onClick:t},{type:"button",text:r.a.createElement(l.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_RESTART"}),onClick:()=>a(E||void 0),variant:"primary",disabled:u&&i&&!E}],onRequestClose:t},O)},it=a(489);!function(e){e.FINISHED="finished",e.IDLE="idle",e.RESTARTING="restarting",e.RESTORE="restore",e.SITE_CONFIRM="site-confirm"}(ct||(ct={}));const lt={update:qe.a,remove:qe.a};var ot=Object(ze.compose)(l.f,Ze.b)(({createNotification:e,removeNotification:t,intl:a})=>{const n=Object(o.useDispatch)(),i=Object(c.useRef)(null),[s,E]=Object(c.useState)(null),[u,m]=Object(c.useState)(ct.IDLE),_=Object(c.useCallback)(()=>{i.current&&(i.current.value="")},[]),S=Object(c.useCallback)(()=>{n(Object(A.c)(s.backup_id)),E(null),m(ct.IDLE)},[n,s,E,m]),N=Object(c.useCallback)(e=>{m(ct.RESTORE),n(Object(A.i)({backup_id:s.backup_id,site_id:e})).then(()=>(n(Object(b.c)({type:O.a.info,id:"restarting-after-backup",message:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_RESTARTING",duration:0},"restarting-after-backup")),m(ct.RESTARTING),n(Object(it.g)()))).then(()=>{n(Object(T.d)(d.a)),m(ct.FINISHED),n(Object(b.d)("restarting-after-backup")),n(Object(b.c)({type:O.a.success,message:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_RESTORED",values:{count:(null==s?void 0:s.sites.length)||0}})),n(Object(d.h)()).then(()=>window.location.reload())}).catch(e=>{E(null),m(ct.IDLE),n(Object(b.c)({errorMessage:e.msg,errorValues:e,icon:O.a.danger,message:"SETTINGS_CONTROLLER_MAINTENANCE_BACKUP_RESTORE_ERROR"}))})},[n,s,E,m]),p=Object(c.useCallback)((c,o)=>{var s;"current"in o&&(i.current=o.current);const d=null===(s=i.current)||void 0===s?void 0:s.files[0],u=null==d?void 0:d.name,T=e(r.a.createElement(Ke.a,{id:"upload-restore-backup-file",renderTitle:e=>r.a.createElement(l.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_UPLOADING_FILES",values:{count:e}}),downloads:[{id:"upload-backup-file",files:[{filename:u,progress:void 0,status:a.formatMessage({id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_UPLOADING"})}],onCancel:()=>{t("upload-restore-backup-file"),S()}}],duration:0}))||lt;n(Object(A.k)(d)).then(e=>{T.update({downloads:[{id:"upload-backup-file",files:[{filename:u,progress:100,status:a.formatMessage({id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_UPLOADED"})}]}],duration:2e3});const t=Object(W.a)(e,"data[0]");E(t),m(ct.SITE_CONFIRM)}).catch(e=>{_(),T.remove(),n(Object(b.c)({errorMessage:e.msg,errorValues:{...e,filename:u},icon:O.a.danger,message:"SETTINGS_CONTROLLER_MAINTENANCE_BACKUP_RESTORE_UPLOAD_ERROR"}))})},[n,b.c,E,_]);return r.a.createElement(r.a.Fragment,null,u===ct.SITE_CONFIRM&&r.a.createElement(rt,{closeModal:S,onRestore:N,backupInfo:s}),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"backup-restore",label:r.a.createElement(l.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP"}),description:r.a.createElement(l.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_DESCRIPTION"}),searchIsApplicable:"isUdm"}),r.a.createElement(v.a,{column:!0},r.a.createElement(K.b,{name:"backup-restore",onChange:p,size:"large",variant:"inline"},r.a.createElement(l.c,{id:"COMMON_ACTION_CHOOSE_FILE"})))))});const st=Object(M.c)(K.c)`
  font-weight: normal;
  font-size: ${({theme:e})=>e.fontSize["font-size-m"]};
  margin-top: ${({theme:e})=>e.spacing["spacing-s"]};
`,Et=Object(M.c)("div")`
  margin-left: ${({theme:e})=>e.spacing["spacing-s"]};
  padding-top: ${({theme:e})=>e.spacing["spacing-xxs"]};
`;var dt=()=>{const e=Object(o.useSelector)(E.selectLastControllerUpdateQuery),t=Object(o.useSelector)(E.selectLastFirmwareUpdateQuery),a=Object(o.useSelector)(Z.a),c=Object(o.useSelector)(N.selectDevicesBasicData),i=Object(o.useSelector)(C.m),s=Object(o.useSelector)(Q.b),d=Object(o.useSelector)(Q.c),u=Object(o.useSelector)(C.g),m=Object(o.useDispatch)(),_=e=>()=>{const t="controller"===e?Y:B;if(d&&"controller"===e&&a){a.get("updateController").checkControllerUpdate()}const{successToast:n,failureToast:c}=Object($.a)("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_FIRMWARE_UPDATES_ERROR_MESSAGE","SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_UPDATES_SUCCESS",{type:e});m(t()).then(()=>{m(Object(b.c)(n)),m(Object(E.fetchControllerWarnings)()),"firmware"===e&&m(Object(y.fetchAvailableFirmware)())}).catch(e=>{m(Object(b.c)(c(void 0,e)))})};return r.a.createElement(I.a,null,!u&&(i?r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"check-controller-package-update",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_CONTROLLER_UPDATES_LABEL"})}),r.a.createElement(v.a,{column:!0},r.a.createElement(l.b,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_CONTROLLER_UPDATES_UNIFI_OS",values:{link:X(s,L.a.ucoreSettings)}}))):r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"check-controller-package-update",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_CONTROLLER_UPDATES_LABEL"}),description:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_CONTROLLER_UPDATES_LABEL_DESCRIPTION"}),searchIgnore:!0}),r.a.createElement(v.a,{column:!0},r.a.createElement(V.i,{lastQuery:e}),r.a.createElement(st,{name:"check-controller-package-update",type:"button",variant:"inline",onClick:_("controller"),legacy:!1},r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_FIRMWARE_UPDATES_BUTTON"}))))),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"check-firmware-update",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_FIRMWARE_UPDATES_LABEL"})}),r.a.createElement(v.a,{column:!0},c.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(V.i,{lastQuery:t}),r.a.createElement(st,{name:"check-firmware-update",type:"button",variant:"inline",onClick:_("firmware"),legacy:!1},r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_FIRMWARE_UPDATES_BUTTON"}))):r.a.createElement(z.g,null,r.a.createElement("div",null,r.a.createElement(j.ab,{isActive:!0})),r.a.createElement(Et,null,r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_FIRMWARE_UPDATES_EMPTY"}))))),r.a.createElement(R.a,{marginBottom:"xxxxl"}),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"mgmt.auto_upgrade",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_AUTO_UPGRADE_LABEL"}),alignWith:"toggleSmall"}),r.a.createElement(v.a,{column:!0},r.a.createElement(q.a,{name:"mgmt.auto_upgrade",type:"checkbox"}))),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADE_LABEL"}),alignWith:(null==c?void 0:c.length)?n.GRID_TABLE:void 0,htmlFor:"schedule-firmware-upgrades"}),r.a.createElement(v.a,{column:!0,unlimitedWidth:!0},(null==c?void 0:c.length)?r.a.createElement(ye,null):r.a.createElement(z.g,null,r.a.createElement("div",null,r.a.createElement(j.ab,{isActive:!0})),r.a.createElement(Et,null,r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADE_EMPTY"}))))),i&&r.a.createElement(ot,null),r.a.createElement(R.a,{marginBottom:"xxxxl"}),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_HEADER_FIRMWARE_CACHE"}),description:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_HEADER_FIRMWARE_CACHE_DESCRIPTION"}),alignWith:n.GRID_TABLE,htmlFor:"device-firmware-cache"}),r.a.createElement(v.a,{column:!0,unlimitedWidth:!0},r.a.createElement(Ve,null))))},ut=a(204),mt=a(51);const _t=e=>Object(Ue.g)({modalType:mt.a.SSO_LOGIN,modalProps:{title:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_TITLE_MODAL_ENABLE_SSO",submitButtonText:"COMMON_LOGIN",...e}}),bt=e=>Object(Ue.g)({modalType:mt.a.SSO_LOGIN_2FA,modalProps:{title:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_TITLE_MODAL_ENABLE_SSO",submitButtonText:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_ACTION_MODAL_ENABLE_SSO",...e}});var Ot=a(6),Tt=a(276);const St=[{value:Tt.b.RELEASE,label:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_SELECT_CHANNEL_RELEASE"},{value:Tt.b.RELEASE_CANDIDATE,label:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_SELECT_CHANNEL_RELEASE_CANDIDATE"},{value:Tt.b.BETA,label:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_SELECT_CHANNEL_EARLY_ACCESS"},{value:Tt.b.ALPHA,label:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_SELECT_CHANNEL_ALPHA"},{value:Tt.b.INTERNAL,label:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_SELECT_CHANNEL_INTERNAL"}],At=e=>St.filter(t=>e.includes(t.value)),Nt=Object(Ot.a)(u.selectAvailableControllerChannels,e=>At(e)),pt=Object(Ot.a)(u.selectAvailableFirmwareChannels,e=>At(e)),ht=Object(M.c)(I.a)`
  margin-top: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`;var Ct=()=>{const{setFieldValue:e,values:t,resetForm:a,initialValues:n,values:{super_fwupdate:i}}=Object(S.e)(),s=Object(o.useDispatch)(),d=Object(o.useSelector)(Nt),m=Object(o.useSelector)(pt),_=Object(o.useSelector)(Q.f),A=Object(c.useCallback)(()=>{s(Object(Ue.e)()),s(Object(b.c)({icon:O.a.success,message:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_ENABLE_SSO_TOAST_SUCCESS"}))},[s,Ue.e,b.c]),N=Object(c.useCallback)(()=>{e("super_fwupdate.sso_enabled",!1),s(Object(Ue.e)())},[s,Ue.e,e]),p=Object(c.useCallback)(e=>{N(),s(Object(b.c)({icon:O.a.danger,message:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_ENABLE_SSO_TOAST_ERROR",errorMessage:ut.a[e],errorValues:e}))},[s,b.c,N]),h=Object(c.useCallback)((...e)=>k(...e)(s),[s,k]),C=Object(c.useCallback)(()=>{const e=A,t=N,a=p;s(_t({registerAction:h,onCancel:t,onError:a,onSuccess:e,on2FARequired:n=>{s(Object(Ue.e)()),s(bt({initialValues:n,registerAction:h,onCancel:t,onError:a,onSuccess:e}))}}))},[s,A,N,p,_t,k,Ue.e,bt]),g=Object(c.useCallback)(()=>{s(Object(ne.a)({title:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_DISABLE_SSO_MODAL_TITLE",message:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_DISABLE_SSO_MODAL_DESCR",onConfirm:async()=>{s(Object(Ue.e)());const e={...i,sso_enabled:!1,controller_channel:u.FW_UPDATE_CHANNELS.RELEASE,firmware_channel:u.FW_UPDATE_CHANNELS.RELEASE};await s(Object(u.saveSuperFwUpdateSettings)(e)),await s(Object(E.fetchControllerWarnings)(void 0,{crudCacheStrategy:{type:T.a.CACHE}})),a({values:{...t,super_fwupdate:e}})},onCancel:async()=>{s(Object(Ue.e)()),e("super_fwupdate.sso_enabled",!0),a({values:{...n}})}}))},[s,ne.a,Ue.e,u.saveSuperFwUpdateSettings,E.fetchControllerWarnings,e,a,t]),I=Object(c.useCallback)(e=>{e&&!i.sso_enabled?C():!e&&i.sso_enabled&&g()},[s,C,g,i]);return r.a.createElement(ht,{padding:"none"},r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_fwupdate.sso_enabled",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_ENABLE_SSO_LABEL"}),description:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_ENABLE_SSO_DESCRIPTION"}),alignWith:"toggle"}),r.a.createElement(v.a,null,r.a.createElement(be.Field,{type:"checkbox",name:"super_fwupdate.sso_enabled",afterChange:I}))),_&&r.a.createElement(D.a,{disabled:!i.sso_enabled},r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_fwupdate.controller_channel",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CONTROLLER_CHANNEL_LABEL"}),alignWith:"select",searchIsApplicable:"isNotUdm"}),r.a.createElement(v.a,null,r.a.createElement(be.Field,{type:"dropdown",name:"super_fwupdate.controller_channel",options:d,translateOptions:!0,full:!0}))),r.a.createElement(D.a,{disabled:!i.sso_enabled},r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_fwupdate.firmware_channel",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FIRMWARE_CHANNEL_LABEL"}),alignWith:"dropdown"}),r.a.createElement(v.a,null,r.a.createElement(be.Field,{type:"dropdown",name:"super_fwupdate.firmware_channel",options:m,translateOptions:!0,full:!0}))))};var gt=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(dt,null),r.a.createElement(I.a,null,r.a.createElement(f.SearchableAccordion,{items:[{id:"advanced",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_RESTORE_ADVANCED_SETTINGS"}),renderContent:()=>r.a.createElement(Ct,null)}],multiOpen:!0,omitExtraPadding:!0}))),ft=a(903),It=a(17);const Dt=[{value:A.b,label:"SETTINGS_CONTROLLER_MAINTENANCE_VALUES_SETTINGS_ONLY"},...(vt=[7,30,60,90,180,365],vt.map(e=>({value:e,label:"COMMON_DATETIME_VALUE_LAST_DAYS",values:{days:e}}))),{value:A.a,label:"SETTINGS_CONTROLLER_MAINTENANCE_VALUES_NO_LIMIT"}];var vt;const Rt=Dt[1].value;var Mt=a(1174);const jt=Object(M.c)(z.g)`
  + div {
    margin-left: ${({theme:e})=>e.spacing["spacing-m"]};
  }
`;var Lt=Object(l.f)(({intl:e,amOrPm:t,changeBase:a,disabled:n,parsedCron:{base:i,monthDay:s,month:E,hour:u,minute:m,twelveHourFormat:_,weekDay:b},useTwentyFourHourTime:O,onChangeAmPm:T,onChangeHandler:S,onChangeTwelveHour:A})=>{const N=Object(o.useSelector)(d.x),p=Object(c.useCallback)(t=>t.map(({value:t,label:a})=>({value:t,label:e.formatMessage({id:a})})),[e]),h=Object(c.useMemo)(()=>p(ft.d),[p]),C=Object(c.useMemo)(()=>p(ft.h),[p]),g=Object(c.useMemo)(()=>p(_e.a),[p]),f=Object(c.useMemo)(()=>p(ft.b),[p]),I=u||0===u,D=b||0===b;return r.a.createElement(z.g,{justifyContent:"space-between",alignItems:"flex-end"},r.a.createElement(jt,{flexDirection:"column"},r.a.createElement(de.a,{color:"secondary"},r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_EVERY"})),r.a.createElement(Qe.a,{onChange:({value:e})=>a(e),options:h,value:i,width:"74px",disabled:n||N})),s&&r.a.createElement(jt,{flexDirection:"column"},r.a.createElement(de.a,{color:"secondary"},r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_ON_THE"})),r.a.createElement(Qe.a,{onChange:({value:e})=>S(ft.a.MONTH_DAY)(e),options:ft.g,value:+s,width:"40px",disabled:n||N})),E&&r.a.createElement(jt,{flexDirection:"column"},r.a.createElement(de.a,{color:"secondary"},r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_OF"})),r.a.createElement(Qe.a,{onChange:({value:e})=>S(ft.a.MONTH)(e),options:C,value:+E,width:"80px",disabled:n||N})),D&&r.a.createElement(jt,{flexDirection:"column"},r.a.createElement(de.a,{color:"secondary"},r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_ON"})),r.a.createElement(Qe.a,{onChange:({value:e})=>S(ft.a.WEEK_DAY)(e),options:g,value:+b,width:"90px",disabled:n||N})),I&&(O?r.a.createElement(jt,{flexDirection:"column"},r.a.createElement(de.a,{color:"secondary"},r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_AT"})),r.a.createElement(Qe.a,{onChange:({value:e})=>S(ft.a.HOUR)(e),options:ft.j,value:+u,width:"40px",disabled:n||N})):r.a.createElement(jt,{flexDirection:"column"},r.a.createElement(de.a,{color:"secondary"},r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_AT"})),r.a.createElement(Qe.a,{onChange:({value:e})=>A(e),options:ft.i,value:+_,width:"40px",disabled:n||N}))),i>=0&&r.a.createElement(jt,{flexDirection:"column"},ft.c.HOUR.id===i&&r.a.createElement(de.a,{color:"secondary"},r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_AT"})),r.a.createElement(Qe.a,{onChange:({value:e})=>S(ft.a.MINUTE)(e),options:ft.f,value:+m,width:"40px",disabled:n||N})),!O&&I&&r.a.createElement(jt,{flexDirection:"column"},r.a.createElement(Qe.a,{onChange:({value:e})=>T(e),options:f,value:t,width:"44px",disabled:n||N})))}),yt=a(417);const wt=Object(M.c)("div")`
  width: 100%;

  table th {
    height: 30px !important;
  }
`,Pt=Object(M.c)("div")`
  margin-left: ${({theme:e})=>e.spacing["spacing-s"]};
  padding-top: ${({theme:e})=>e.spacing["spacing-xxs"]};
`;var Ut=()=>{const e=Object(o.useDispatch)(),t=Object(o.useSelector)(A.j),a=Object(o.useSelector)(d.L),n=Object(o.useSelector)(d.N);let i=a;n?i=a.replace(/h{1,2}/,e=>e.toUpperCase()).replace(/ ?a$/,""):(i=a.replace(/H{1,2}/,e=>e.toLowerCase()),/ ?a$/i.test(i)||(i+=" a"));const s=Object(c.useMemo)(()=>(({dateFormat:e,timeFormat:t})=>[{compare:Object(xe.a)(({datetime:t})=>Object(It.format)(t,e)),id:"date",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_TABLE_HEADER_DATE"}),renderCell:({datetime:t})=>Object(It.format)(t,e),sortable:!0},{compare:Object(xe.a)(({datetime:e})=>Object(It.format)(e,t)),id:"time",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_TABLE_HEADER_TIME"}),renderCell:({datetime:e})=>Object(It.format)(e,t),sortable:!0}])({dateFormat:yt.a,timeFormat:i}),[i]),E=Object(c.useCallback)(t=>{e(Object(it.i)(t))},[e,it.i]),u=Object(c.useCallback)(t=>{e(Object(A.e)(t))},[e,A.e]),m=Object(c.useCallback)(t=>{e(Object(it.h)(t))},[e,it.h]);return t.length?r.a.createElement(wt,null,r.a.createElement(ae.a,{columns:s,disableColumnFilters:!0,disableTextPointer:!0,items:t,idField:"filename",renderRowPopoverContent:e=>r.a.createElement(V.h,null,r.a.createElement(V.f,{onClick:()=>E(e),name:"restore"},r.a.createElement(l.c,{id:"COMMON_ACTION_RESTORE"})),r.a.createElement(V.f,{onClick:()=>u(e),name:"download"},r.a.createElement(l.c,{id:"COMMON_ACTION_DOWNLOAD"})),r.a.createElement(V.f,{onClick:()=>m(e),name:"remove"},r.a.createElement(l.c,{id:"COMMON_ACTION_REMOVE"}))),rowHeight:32})):r.a.createElement(z.g,null,r.a.createElement("div",null,r.a.createElement(j.ab,{isActive:!0})),r.a.createElement(Pt,null,r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_AVAILABLE_EMPTY"})))};const Gt=Object(M.c)(Ee.a)`
  margin-top: ${({theme:e})=>e.spacing["spacing-s"]};
`;var xt=()=>{const[e,t]=Object(c.useState)(Rt),a=Object(o.useDispatch)(),n=Object(o.useSelector)(Mt.a),i=Object(o.useSelector)(Q.c),{values:{super_mgmt:{autobackup_enabled:s}}}=Object(S.e)(),E=Object(c.useCallback)(({value:e},a)=>{t(e)},[t]),d=Object(c.useCallback)(t=>{t.preventDefault(),a(i?Object(it.e)(e):Object(it.d)(e))},[a,e,i]);return r.a.createElement(I.a,{padding:"none"},r.a.createElement(ot,null),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"backupDataRetention",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_DOWNLOAD"}),description:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_DOWNLOAD_DESCRIOPTION"}),alignWith:"dropdown",searchIsApplicable:"isNotUdm"}),r.a.createElement(v.a,{column:!0},r.a.createElement(be.Field,{full:!0,name:"backupDataRetention",onChange:E,options:Dt,translateOptions:!0,type:"dropdown",value:e}),r.a.createElement(Gt,{name:"backupDownload",variant:"inline",onClick:d,disabled:n},r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_DOWNLOAD"})))),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_mgmt.autobackup_enabled",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_CREATE_AUTO"}),description:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_CREATE_AUTO_DESCRIPTION"}),alignWith:"toggleSmall",searchIsApplicable:"isNotUdm"}),r.a.createElement(v.a,{column:!0},r.a.createElement(be.Field,{name:"super_mgmt.autobackup_enabled",type:"checkbox"}))),r.a.createElement(D.a,{disabled:!s},r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_mgmt.autobackup_cron_expr",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_SCHEDULER"}),description:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_SCHEDULER_DESCRIPTION"}),searchIsApplicable:"isNotUdm"}),r.a.createElement(v.a,{column:!0},r.a.createElement(ft.e,{name:"super_mgmt.autobackup_cron_expr",render:e=>r.a.createElement(Lt,Object.assign({disabled:!s},e))}))),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_mgmt.autobackup_days",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_DATA_RETENTION"}),alignWith:"dropdown",searchIsApplicable:"isNotUdm"}),r.a.createElement(v.a,{column:!0},r.a.createElement(be.Field,{full:!0,name:"super_mgmt.autobackup_days",options:Dt,translateOptions:!0,type:"dropdown"}))),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_mgmt.autobackup_max_files",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_MAX_NUMBER_OF_FILES"}),alignWith:"input",searchIsApplicable:"isNotUdm"}),r.a.createElement(v.a,{column:!0},r.a.createElement(be.Field,{name:"super_mgmt.autobackup_max_files",type:"number",min:1,max:100}))),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"available-backups",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_AVAILABLE"}),description:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_AVAILABLE_DESCRIPTION"}),searchIsApplicable:"isNotUdm"}),r.a.createElement(v.a,{column:!0},r.a.createElement(Ut,null))))};var Ft=()=>r.a.createElement(z.p,null,r.a.createElement(xt,null)),Bt=a(661),kt=a(160),Ht=a(645),Yt=a(34),Wt=a(319),$t=a(2646),Vt=a(56);const zt=Object(M.c)(I.a)`
  margin-top: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`,Kt=Object(M.c)(z.c)`
  margin-top: 4px;
`,qt={update:qe.a,remove:qe.a};var Zt=Object(ze.compose)(l.f,Ze.b)(({intl:e,createNotification:t})=>{const[a,n]=Object(c.useState)(!1),[i,s]=Object(c.useState)(!1),[E,m]=Object(c.useState)(!1),[_,S]=Object(c.useState)(!1),[A,N]=Object(c.useState)(qt),p=Object(o.useDispatch)(),h=Object(o.useSelector)(C.n),g=Object(o.useSelector)(Wt.selectSites),I=Object(o.useSelector)(u.selectFormattedSettings),R=Object(o.useSelector)(Yt.selectNetworksData),M=Object(o.useSelector)(kt.selectAPGroups),j=Object(o.useSelector)(Vt.selectWifiNetworksData),L=Object(o.useSelector)(Xe.selectDevicesData),y=Object(o.useSelector)(d.y),w=Object(c.useRef)(null),P=Object(It.format)(new Date,"YYYYMMDD-HHmm"),U=Object(c.useMemo)(()=>`unifi-${P}.supp`,[]),G=Object(c.useMemo)(()=>`unifi-sys-config-${P}.json`,[]),x=Object(c.useCallback)(async()=>{n(!0);let a=!1;const c=()=>{a=!0,l.remove(),n(!1)},i=()=>a,l=t(r.a.createElement(Ke.a,{id:"download-support-information",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING_INFORMATION"}),downloads:[{id:"support-information-fetch",files:[{filename:U,progress:0,status:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING"})}],onCancel:c}],duration:0,notificationType:"DownloadsToast"}))||qt;try{if(await p(Object($t.a)()),a)return;const t=t=>{const{loaded:a=0,total:n=1}=t||{},r=a/n*100,i=Math.floor(r),{value:o,unit:s}=Object(Ge.d)(n,"bytes"),E=`${Math.round(o)} ${s}`,d=Math.round(r/100*o);let u=t?`${d} / ${E}`:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOADING"});100===i&&(u=e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOADED"})),l.update({id:"download-support-information",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING_INFORMATION"}),downloads:[{id:"support-information-fetch",files:[{filename:U,progress:i,status:u}],onCancel:c}],duration:100===i?2e3:0,notificationType:"DownloadsToast"})};t(),await p(Object(Ht.c)("/dl/support",U,{fetchConfig:{onDownloadProgress:t}},i))}catch(o){l.remove(),p(Object(b.c)({icon:O.a.danger,message:"COMMON_DOWNLOAD_SUPPORT_FILE_TOAST_FAILED"}))}n(!1)},[n,p]),F=Object(c.useCallback)(()=>s(!1),[s]),B=Object(c.useCallback)(()=>{s(!0);const a=t(r.a.createElement(Ke.a,{id:"download-system-configuration",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_SYSTEM_CONFIG_FETCHING_INFORMATION"}),downloads:[{id:"system-config-fetch",files:[{filename:G,progress:0,status:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING"})}],onCancel:F}],duration:0,notificationType:"DownloadsToast"}))||qt;N(a);const n={type:T.a.CACHE};let c=0;const i=[Object(u.fetchSettings)(n),Object(Yt.fetchNetworks)(void 0,{crudCacheStrategy:n}),Object(kt.fetchAPGroups)(void 0,{crudCacheStrategy:n}),Object(Vt.fetchWifiNetworks)(void 0,{crudCacheStrategy:n}),Object(Xe.fetchDevices)(void 0,{crudCacheStrategy:n})].map((t,n,r)=>p(t).then(()=>(c+=1,a.update({id:"download-system-configuration",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_SYSTEM_CONFIG_FETCHING_INFORMATION"}),downloads:[{id:"system-config-fetch",files:[{filename:G,progress:Math.round(c/r.length*100),status:`${c} / ${r.length}`}],onCancel:F}],duration:0,notificationType:"DownloadsToast"}),Promise.resolve())).catch(e=>(a.remove(),Promise.reject(e))));Promise.all(i).then(()=>{S(!0)}).catch(e=>{s(!1),a.remove(),p(Object(b.c)({icon:O.a.danger,message:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_SYSTEM_CONFIG_TOAST_FAILED",errorMessage:ut.a[e.apiMsg],errorValues:e}))})},[s,p,N]);Object(c.useEffect)(()=>{if(_){if(S(!1),i){A.update({id:"download-system-configuration",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_SYSTEM_CONFIG_FETCHING_INFORMATION"}),downloads:[{id:"system-config-fetch",files:[{filename:G,progress:100,status:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHED"})}],onCancel:F}],duration:2e3,notificationType:"DownloadsToast"});const t=e=>Object(Bt.a)(e,(e,a)=>a.toString().startsWith("x_")&&"boolean"!=typeof e?"--- secret ---":"object"==typeof e?t(e):e),a=window.URL.createObjectURL(new Blob([JSON.stringify(t({sysinfo:h,sites:g,setting:I,networkconf:R,apgroups:M,wlanconf:j,device:L}))],{type:"application/json"})),n=document.createElement("a");n.href=a,n.download=G,n.target="_blank",w.current.appendChild(n),n.click(),w.current.removeChild(n)}else A.remove();N({...qt}),s(!1)}},[_,i,A,N]);const k=Object(c.useCallback)(async()=>{m(!0);let a=!1;const n=()=>{a=!0,i.remove(),m(!1)},c=()=>a,i=t(r.a.createElement(Ke.a,{id:"download-server-log",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING_LOGS"}),downloads:[{id:"server-log-fetch",files:[{filename:Ht.a,progress:0,status:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING"})}],onCancel:n}],duration:0,notificationType:"DownloadsToast"}))||qt;try{if(await p(Object($t.a)()),a)return;const t=t=>{const{loaded:a=0,total:c=1}=t||{},r=a/c*100,l=Math.floor(r),{value:o,unit:s}=Object(Ge.d)(c,"bytes"),E=`${Math.round(o)} ${s}`,d=Math.round(r/100*o);let u=t?`${d} / ${E}`:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOADING"});100===l&&(u=e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOADED"})),i.update({id:"download-server-log",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING_LOGS"}),downloads:[{id:"server-log-fetch",files:[{filename:Ht.a,progress:l,status:u}],onCancel:n}],duration:100===l?2e3:0,notificationType:"DownloadsToast"})};t(),await p(Object(Ht.c)(Ht.b,Ht.a,{fetchConfig:{onDownloadProgress:t}},c))}catch(l){i.remove(),p(Object(b.c)({icon:O.a.danger,message:"COMMON_DOWNLOAD_LOGS_FILE_TOAST_FAILED"}))}m(!1)},[p,m,t,e]);return r.a.createElement(zt,{padding:"none"},r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{alignWith:"button",description:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOAD_DESCRIPTION"}),htmlFor:"download-support-information",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOAD"})}),r.a.createElement(v.a,null,r.a.createElement(Kt,{name:"download-support-information",type:"button",variant:"inline",onClick:x,legacy:!1,disabled:a},r.a.createElement(l.c,{id:"COMMON_ACTION_DOWNLOAD"})))),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{alignWith:"button",htmlFor:"system-configuration",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_SYSTEM_CONFIG"}),searchTags:["DOWNLOAD_SYSTEM_CONFIGURATION"]}),r.a.createElement(v.a,null,r.a.createElement(Kt,{name:"download-system-config",type:"button",variant:"inline",onClick:B,legacy:!1,disabled:i},r.a.createElement(l.c,{id:"COMMON_ACTION_DOWNLOAD"})),r.a.createElement("div",{ref:w}))),y&&r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{alignWith:"button",htmlFor:"download-server-log",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOAD_LOGS"}),searchTags:["SEARCH_TAG_DOWNLOAD_SERVER_LOGS"]}),r.a.createElement(v.a,null,r.a.createElement(Kt,{name:"download-server-logs",type:"button",variant:"inline",onClick:k,legacy:!1,disabled:E},r.a.createElement(l.c,{id:"COMMON_ACTION_DOWNLOAD"})))))}),Qt=a(479);const Xt=Object(M.c)(j.d)`
  margin-right: 6px;
  color: ${({theme:e})=>e.motifPalette.warning};
`,Jt=Object(M.c)(z.g)`
  margin-top: 25px;
`;var ea=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(l.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_FIVE_MIN_GRANULARITY"}),htmlFor:"super_mgmt.data_retention_time_in_hours_for_5minutes_scale",alignWith:"dropdown",searchTags:["SEARCH_BREADCRUMB_DATA_RETENTION"]}),r.a.createElement(v.a,null,r.a.createElement(be.Field,{type:"dropdown",translateOptions:!0,name:"super_mgmt.data_retention_time_in_hours_for_5minutes_scale",options:Qt.b,full:!0}))),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(l.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_HOURLY_GRANULARITY"}),htmlFor:"super_mgmt.data_retention_time_in_hours_for_hourly_scale",alignWith:"dropdown",searchTags:["SEARCH_BREADCRUMB_DATA_RETENTION"]}),r.a.createElement(v.a,null,r.a.createElement(be.Field,{type:"dropdown",translateOptions:!0,name:"super_mgmt.data_retention_time_in_hours_for_hourly_scale",options:Qt.c,full:!0}))),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(l.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_DAILY_GRANULARITY"}),htmlFor:"super_mgmt.data_retention_time_in_hours_for_daily_scale",alignWith:"dropdown",searchTags:["SEARCH_BREADCRUMB_DATA_RETENTION"]}),r.a.createElement(v.a,null,r.a.createElement(be.Field,{type:"dropdown",translateOptions:!0,name:"super_mgmt.data_retention_time_in_hours_for_daily_scale",options:Qt.a,full:!0}))),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(l.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_MONTHLY_GRANULARITY"}),htmlFor:"super_mgmt.data_retention_time_in_hours_for_monthly_scale",alignWith:"dropdown",searchTags:["SEARCH_BREADCRUMB_DATA_RETENTION"]}),r.a.createElement(v.a,null,r.a.createElement(be.Field,{type:"dropdown",translateOptions:!0,name:"super_mgmt.data_retention_time_in_hours_for_monthly_scale",options:Qt.d,full:!0}))),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(l.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_NON_TIME_SERIES"}),htmlFor:"super_mgmt.data_retention_time_in_hours_for_others",alignWith:"dropdown",searchTags:["SEARCH_BREADCRUMB_DATA_RETENTION"]}),r.a.createElement(v.a,null,r.a.createElement(be.Field,{type:"dropdown",translateOptions:!0,name:"super_mgmt.data_retention_time_in_hours_for_others",options:Qt.e,full:!0}))),r.a.createElement(D.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(l.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_CLIENTS_DATA"}),htmlFor:"super_mgmt.time_series_per_client_stats_enabled",alignWith:"toggleSmall",searchTags:["SEARCH_BREADCRUMB_DATA_RETENTION"]}),r.a.createElement(v.a,{column:!0},r.a.createElement(be.Field,{type:"checkbox",name:"super_mgmt.time_series_per_client_stats_enabled"}),r.a.createElement(Jt,null,r.a.createElement(Xt,null),r.a.createElement(de.a,{size:"caption",color:"tertiary"},r.a.createElement(l.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_CLIENTS_DATA_WARNING"}))))));var ta=({formValues:e})=>{const t=Object(c.useRef)(null),{errors:a,resetForm:n,status:s}=Object(S.e)(),m=Object(o.useSelector)(d.y),_=Object(o.useSelector)(C.m),b=Object(o.useSelector)(C.g),O=Object(c.useMemo)(()=>[m&&!b&&{id:"data-retention",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_DATA_RETENTION_NAME"}),renderContent:()=>r.a.createElement(ea,null)},!_&&m&&!b&&{id:"backup",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_RESTORE_NAME"}),renderContent:()=>r.a.createElement(Ft,null)},{id:"support-information",label:r.a.createElement(l.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_NAME"}),renderContent:()=>r.a.createElement(Zt,null)}].filter(e=>!!e),[_,m,b]);return Object(c.useEffect)(()=>{s.isSubmitted&&n({values:e})},[e,n,s.isSubmitted]),Object(i.h)(t,a),Object(i.g)([Object(A.f)({type:T.a.CACHE}),Object(E.fetchControllerWarnings)(void 0,{crudCacheStrategy:{type:T.a.CACHE}}),Object(N.fetchDevicesBasic)({},{type:T.a.CACHE}),Object(p.fetchScheduledUpgrades)({type:T.a.CACHE}),Object(h.fetchSdn)({type:T.a.CACHE}),Object(u.fetchSettings)({type:T.a.CACHE}),Object(g.a)(void 0,{crudCacheStrategy:{type:T.a.CACHE}})],r.a.createElement("div",{ref:t},r.a.createElement(gt,null),r.a.createElement(f.SearchableAccordion,{items:O,multiOpen:!0})))},aa=a(19);const na=aa.a.object().shape({super_mgmt:aa.a.object().shape({autobackup_max_files:aa.a.number().label("SETTINGS_SYSTEM_MAINTENANCE_BACKUP_MAX_NUMBER_OF_FILES").required().min(1).max(100)})});var ca=({onBack:e})=>{const t=Object(o.useDispatch)(),a=Object(o.useSelector)(d.x),n=Object(o.useSelector)(u.selectSuperFwUpdateSettings),i=Object(o.useSelector)(u.selectSuperManagementSettings),S=Object(o.useSelector)(u.selectMgmtSettings),A=Object(c.useMemo)(()=>({mgmt:{...m.mgmt,...S},super_mgmt:{...m.super_mgmt,...i},super_fwupdate:{...m.super_fwupdate,...n}}),[S,n,i]),N=Object(c.useMemo)(()=>({isSubmitted:!1}),[]),p=Object(c.useMemo)(()=>({component:r.a.createElement(l.c,{id:"SETTINGS_MAINTENANCE_FORM_TITLE"}),message:"maintenance"}),[]),h=Object(c.useCallback)((e,{setStatus:a,setSubmitting:n})=>{const{mgmt:c,super_mgmt:r,super_fwupdate:i}=e,l=[];Object(s.a)(r,A.super_mgmt)||l.push(t(Object(u.saveSettings)(r))),Object(s.a)(c,A.mgmt)||l.push(t(Object(u.saveSettings)(c))),Object(s.a)(i,A.super_fwupdate)||l.push(t(Object(u.saveSuperFwUpdateSettings)(i))),Promise.all(l).then(()=>{t(Object(b.c)({icon:O.a.success,message:"SETTINGS_CONTROLLER_MAINTENANCE_SAVE_SUCCESS"})),a({isSubmitted:!0}),t(Object(E.fetchControllerWarnings)(void 0,{crudCacheStrategy:{type:T.a.CACHE}}))}).catch(e=>{t(Object(b.c)({errorMessage:e.msg,errorValues:e,icon:O.a.danger,message:"SETTINGS_CONTROLLER_MAINTENANCE_SAVE_ERROR"})),n(!1)})},[t,A]);return r.a.createElement(_.b,{goBack:e,hideClose:!0,initialStatus:N,initialValues:A,isEdit:!a,isView:a,showBack:!0,title:p,validationSchema:na,onEscClicked:e,onSubmit:h,unsavedChangesModalIgnoredPaths:[/\/schedule-upgrades((\/)|(\/[a-zA-Z0-9_-]+\/?))?$/]},r.a.createElement(ta,{formValues:A}))};t.default=()=>{const e=Object(i.i)();return r.a.createElement(ca,{onBack:e})}},2429:function(e,t,a){"use strict";a.d(t,"b",(function(){return D})),a.d(t,"a",(function(){return N}));var n=a(0),c=a.n(n),r=a(3),i=a(2),l=a(36),o=a(2838),s=a(2760),E=a(1774),d=a(867),u=a(14),m=a(10),_=a(42);const b=Object(r.c)(u.g)`
  > * {
    /* Use margin on child rather than padding on self not to occupy space when no button is shown */
    margin-left: ${({theme:e})=>e.spacing["spacing-xxl"]};
    margin-right: ${({theme:e})=>e.spacing["spacing-xxl"]};
  }
`,O=Object(r.c)(u.g)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui03};
`,T=Object(r.c)("h1")`
  font-size: 16px;
  font-weight: normal;
`,S=Object(r.c)(u.c)`
  padding: ${({theme:e})=>e.spacing["spacing-s"]};
`,A=Object(r.c)(_.a)`
  color: ${({theme:e})=>e.motifPalette.text01} !important;
  font-size: 16px !important;
`;var N=({title:e,showBack:t,goBack:a,onEscClicked:n,hideClose:r,ignoredPaths:i})=>c.a.createElement(O,{flex:"none",height:"65px"},c.a.createElement(u.g,{alignItems:"center",flex:"1",justifyContent:"space-between"},c.a.createElement(b,{alignItems:"center",flex:"1",height:"100%"},t&&c.a.createElement(S,{legacy:!1,name:"backButton",type:"button",onClick:a},c.a.createElement(m.g,{size:"original"}))),c.a.createElement(T,null,c.a.createElement(A,{weight:"bold"},e.component)),c.a.createElement(b,{alignItems:"center",flex:"1",height:"100%",justifyContent:"flex-end"},!r&&c.a.createElement(S,{legacy:!1,name:"closeButton",type:"button",onClick:n},c.a.createElement(m.A,{size:"original"})))));const p=Object(r.c)(u.g)`
  width: 100%;
  max-width: ${d.a};
  margin: 0 auto;
  padding: ${({theme:e})=>e.spacing["spacing-xxxxl"]}
    ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px;
`,h=Object(r.c)("form")`
  display: flex;
  flex: 1;
  overflow: hidden;
  width: 100%;
  height: 100%;
`,C=Object(r.c)(u.g)`
  @media (max-width: 1010px) {
    flex-direction: column;
  }
`,g=Object(r.c)(o.a)`
  transition: height 100ms ease, transform 100ms ease; /* TODO: Remove with next ui-components update (v25.1.1 +)  */
  > :first-child {
    max-width: ${d.a};
    padding-left: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    padding-right: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    position: relative;
    margin: 0 auto;
  }
`,f=Object(r.c)(u.h)`
  background: transparent;
  overflow: scroll !important;
  margin-right: -${({theme:e})=>e.scrollBarWidth}px;
`,I=Object(r.c)(u.k)`
  height: 100%;
  width: 100%;
`;var D=({children:e,disableUnsavedChangesModal:t,goBack:a,hideClose:n,isEdit:r,isView:o,showBack:d,title:m,unsavedChangesModalIgnoredPaths:_,onEscClicked:b,submitText:O="COMMON_ACTION_APPLY_CHANGES",footerActiveOverride:T=!1,customFooterButtons:S,hidddenHeader:A,className:D,...v})=>c.a.createElement(l.c,Object.assign({enableReinitialize:!0},v),({dirty:r,handleReset:l,handleSubmit:v,isSubmitting:R})=>c.a.createElement(h,{autoComplete:"off",onSubmit:v,className:D},c.a.createElement(I,{vertical:!0},!A&&c.a.createElement(N,{goBack:a,hideClose:n,showBack:d,title:m,onEscClicked:b,ignoredPaths:_}),c.a.createElement(f,{flex:"1"},c.a.createElement(p,{flex:"none",flexDirection:"column"},e)),!t&&!o&&c.a.createElement(E.a,{ignoredPaths:_,when:r&&!R}),(!o||T)&&c.a.createElement(g,{active:r||T},c.a.createElement(u.g,{justifyContent:S?"space-between":"flex-end",width:"100%",alignItems:"center"},S&&c.a.createElement(C,null,S(R)),!o&&c.a.createElement(u.g,null,c.a.createElement(s.a,{disabled:!r||R,type:"button",variant:"default",onClick:l},c.a.createElement(i.c,{id:"COMMON_ACTION_CANCEL"})),c.a.createElement(s.a,{disabled:!r||R,type:"submit",variant:"primary"},c.a.createElement(i.c,{id:O}))))))))},2475:function(e,t,a){"use strict";var n,c,r,i,l;a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l})),function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=0]="MONDAY",e[e.TUESTDAY=0]="TUESTDAY",e[e.WEDNESDAY=0]="WEDNESDAY",e[e.THURSDAY=0]="THURSDAY",e[e.FRIDAY=0]="FRIDAY",e[e.SATURDAY=0]="SATURDAY"}(n||(n={})),function(e){e[e.JANUARY=1]="JANUARY",e[e.FEBRYARY=2]="FEBRYARY",e[e.MARCH=3]="MARCH",e[e.APRIL=4]="APRIL",e[e.MAY=5]="MAY",e[e.JUNE=6]="JUNE",e[e.JULY=7]="JULY",e[e.AUGUST=8]="AUGUST",e[e.SEPTEMBER=9]="SEPTEMBER",e[e.OCTOBER=10]="OCTOBER",e[e.NOVEMBER=11]="NOVEMBER",e[e.DECEMBER=12]="DECEMBER"}(c||(c={})),function(e){e.NEVER="Never",e.DAILY="Daily",e.WEEKLY="Weekly",e.MONTHLY="Monthly",e.ADVANCED="Advanced"}(r||(r={})),function(e){e.DAY="Day",e.WEEK="Week",e.MONTH="Month",e.YEAR="Year"}(i||(i={})),function(e){e.Hour="Hourly",e.Day="Daily",e.Week="Weekly",e.Month="Monthly",e.Year="Yearly"}(l||(l={}))},2493:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"e",(function(){return _})),a.d(t,"g",(function(){return b})),a.d(t,"f",(function(){return O})),a.d(t,"b",(function(){return T})),a.d(t,"c",(function(){return S})),a.d(t,"d",(function(){return A}));var n=a(0),c=a.n(n),r=a(2),i=a(42),l=a(864),o=a(19),s=a(92),E=a(148),d=a(41),u=a(2475);const m={name:"",execute_only_once:!1,cron_expr:"",upgrade_targets:[],dayInMonth:1,repeat:u.c.NEVER,repeatEveryCount:1,repeatEveryPeriod:u.a.DAY,startTime:0,weekDays:[]},_="schedule-upgrades",b=o.a.object().shape({name:o.a.string().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_NAME").required(),upgrade_targets:o.a.array().of(o.a.string()).label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_TARGET_DEVICES").min(1).required(),startTime:o.a.number().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_START_TIME").required(),repeat:o.a.string().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEATS").oneOf(Object.values(u.c)).required(),repeatEveryPeriod:o.a.string().when("repeat",{is:e=>e===u.c.ADVANCED,then:o.a.string().oneOf(Object.values(u.a)).required()}),repeatEveryCount:o.a.number().when(["repeat","repeatEveryPeriod"],(e,t)=>{if(e===u.c.ADVANCED)switch(t){case u.a.DAY:return o.a.number().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_EVERY").min(1).max(31).required();case u.a.WEEK:return o.a.number().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_EVERY").min(1).max(2).required();case u.a.MONTH:return o.a.number().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_EVERY").min(1).max(12).required()}return o.a.number()}),dayInMonth:o.a.number().when(["repeat","repeatEveryPeriod"],{is:(e,t)=>e===u.c.MONTHLY||e===u.c.ADVANCED&&t===u.a.MONTH,then:o.a.number().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_ON_DAY_OF_MONTH").min(1).max(31).required()}),weekDays:o.a.array().of(o.a.number()).when(["repeat","repeatEveryPeriod"],{is:(e,t)=>e===u.c.WEEKLY||e===u.c.ADVANCED&&t===u.a.WEEK,then:o.a.array().of(o.a.number()).min(1,"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_VALIDATION_WEEK_DAYS_MIN").required()})}),O=[{compare:Object(E.a)(e=>Object(d.c)(e)),id:"icon",minWidth:32,renderCell:e=>c.a.createElement(s.c,{device:e}),renderLabel:()=>null},{compare:Object(E.a)(e=>Object(d.c)(e)),id:"name",minWidth:100,label:c.a.createElement(r.c,{id:"SETTINGS_DEVICE_SELECTOR_HEADER_NAME"}),renderCell:e=>c.a.createElement(i.a,{color:"tertiary",truncate:!0},Object(d.c)(e)),sortable:!0},{compare:Object(E.a)(e=>Object(d.a)(e)),id:"model",minWidth:130,label:c.a.createElement(r.c,{id:"SETTINGS_DEVICE_SELECTOR_HEADER_MODEL"}),renderCell:e=>c.a.createElement(i.a,{color:"tertiary",truncate:!0},Object(d.a)(e)),sortable:!0}],T=e=>Object(l.a)(0,24).map(t=>Object(l.a)(4).map(a=>{const n=String(15*a).padStart(2,"0");return{label:`${String(e?t:t%12||12).padStart(2,"0")}:${n}${e?"":""+(t>=12?"pm":"am")}`,value:60*t+ +n}})).flat(),S=Object.entries(u.c).map(([e,t])=>({label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_"+e,value:t})),A=[{label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_DAY",value:u.a.DAY},{label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_WEEK",value:u.a.WEEK},{label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_MONTH",value:u.a.MONTH},{label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_YEAR",value:u.a.YEAR}]},2504:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return m}));var n=a(20),c=a.n(n),r=a(7),i="/v2/api/timezones";function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.q)("timezones",i,e,o({idField:"timezone"},t))},E=a(54),d=a(6),u=Object(r.A)(s()),m=Object(d.a)((function(e){return Object(E.a)(u(e),"data",[])}),(function(e){return e.map((function(e){return{label:"(UTC".concat(e.offset,") ").concat(e.timezone.replace(/_/g," ")),value:e.timezone}}))}))},2567:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return o}));var n=a(864),c=a(2493),r=a(2475);const i=(e,t)=>{let{dayInMonth:a,repeat:n,repeatEveryCount:i,repeatEveryPeriod:l,startTime:o,weekDays:s}=c.a;const[E,d,u,m,_]=null==e?void 0:e.split(" ");if(E&&d&&(o=60*(Number(d)||0)+(Number(E)||0)),!t)if(1==+u&&1==+m)n=r.c.ADVANCED,l=r.a.YEAR;else if("*"!==u)if("*"!==_)n=r.c.ADVANCED,i=2,l=r.a.WEEK,s=_.split(",").map(Number);else if("*"!==m){n=r.c.ADVANCED,l=r.a.MONTH;const e=m.split(",");i=+e[1]-+e[0]||1}else{const e=u.split(",");e.length>1?(n=r.c.ADVANCED,l=r.a.DAY,i=+e[1]-+e[0]||1):(n=r.c.MONTHLY,a=+u)}else"*"!==_?("*"!==u?(n=r.c.ADVANCED,i=2,l=r.a.WEEK):n=r.c.WEEKLY,s=_.split(",").map(Number)):n=r.c.DAILY;return{dayInMonth:a,repeat:n,repeatEveryCount:i,repeatEveryPeriod:l,startTime:o,weekDays:s}},l=(...e)=>e.map(e=>null!=e?e:"*").join(" "),o=({dayInMonth:e,repeat:t,repeatEveryCount:a,repeatEveryPeriod:c,startTime:i,weekDays:o})=>{const s=Math.floor(i/60),E=i%60;let d,u,m;switch(t){case r.c.NEVER:case r.c.DAILY:break;case r.c.WEEKLY:m=o.join(",");break;case r.c.MONTHLY:d=e;break;case r.c.ADVANCED:switch(c){case r.a.DAY:1!=+a&&(d=Object(n.a)(1,32,a).join(","));break;case r.a.WEEK:2==+a&&(d="1-7,15-21"),m=o.join(",");break;case r.a.MONTH:d=e,1!=+a&&(u=Object(n.a)(1,12,a).join(","));break;case r.a.YEAR:d=1,u=1}}return l(E,s,d,u,m)}},2604:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(2399),i=a(719),l=a(3);const o=Object(l.c)("div",{shouldForwardProp:e=>!["height","maxWidth","headerHeight"].includes(e)})`
  height: ${({height:e})=>e}px;
  ${({maxWidth:e})=>e?`max-width: ${e}px;`:""}
  ${({headerHeight:e})=>e?`table {\n    th {\n      height: ${e}px !important;\n    }\n  }`:""}
`;t.a=function({maxRows:e=6,headerHeight:t,maxWidth:a,forwardedRef:l,rowHeight:s,items:E,...d}){const u=Object(n.useMemo)(()=>i.b.getHeight(E.length,6,t,s)+1,[t,E.length,s]);return c.a.createElement(o,{height:u,maxWidth:a,headerHeight:t},c.a.createElement(r.a,Object.assign({ref:l,rowHeight:s,items:E},d)))}},2613:function(e,t,a){"use strict";var n=a(2614);a.d(t,"fetchScheduledUpgrades",(function(){return n.a})),a.d(t,"removeScheduledUpgrade",(function(){return n.b})),a.d(t,"saveScheduledUpgrade",(function(){return n.c}));a(2653);var c=a(2675);a.d(t,"selectScheduledUpgrades",(function(){return c.a}));a(2676)},2614:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return l}));var n=a(7),c=a(2653);const r=e=>Object(n.q)(c.a,c.b+"?action=upgrade",void 0,{crudCacheStrategy:e,idField:"_id"}),i=e=>t=>{const{_id:a}=e;return t(a?Object(n.D)(c.a,a,`${c.b}/${a}`,{action:"upgrade",...e}):Object(n.i)(c.a,c.b,{action:"upgrade",...e}))},l=e=>Object(n.n)(c.a,e,`${c.b}/${e}`)},2615:function(e,t,a){"use strict";var n=a(2650);a.d(t,"downloadFirmwareAndRefresh",(function(){return n.a})),a.d(t,"fetchAvailableFirmware",(function(){return n.b})),a.d(t,"fetchCachedFirmware",(function(){return n.c})),a.d(t,"removeFirmwareAndRefresh",(function(){return n.d}));var c=a(2677);a.d(t,"selectCachedSiteFirmwares",(function(){return c.a})),a.d(t,"selectSiteFirmwares",(function(){return c.b}));a(2678)},2646:function(e,t,a){"use strict";a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return u}));var n=a(883),c=a.n(n),r=a(426),i=a.n(r),l=a(46),o=a(7),s=(a(28),a(30),a(72)),E=function(){var e=window.navigator,t=e.userAgent,a=e.language;return Object(o.p)(l.a.SUPPORT,"/api/s/{site}/cmd/system",{userAgent:t,language:a})},d=function(e){return function(t){return t(function(e){return Object(o.p)(l.a.SET_PARAM,"/api/s/{site}/cmd/system",e)}(e))}},u=function(e){return function(){var t=c()(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map((function(e){return a(d(e))})));case 2:if(!e.length){t.next=5;break}return t.next=5,a(Object(s.b)());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},2650:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return s}));var n=a(7);var c=a(46);const r=({device:e,version:t})=>`${e}_${t}`,i=e=>Object(n.q)("availableFirmware","/api/s/{site}/cmd/firmware",{data:{cmd:c.a.LIST_AVAILABLE_FIRMWARE}},{method:"post",idField:r,crudCacheStrategy:e}),l=e=>Object(n.q)("cachedFirmware","/api/s/{site}/cmd/firmware",{data:{cmd:c.a.LIST_CACHED_FIRMWARE}},{method:"post",idField:r,crudCacheStrategy:e}),o=(e,t)=>async a=>{await a(((e,t)=>Object(n.p)(c.a.DOWNLOAD_FIRMWARE,"/api/s/{site}/cmd/firmware",{device:e,version:t}))(e,t)),await a(l()),await a(i())},s=(e,t)=>async a=>{await a(((e,t)=>Object(n.p)(c.a.REMOVE_FIRMWARE,"/api/s/{site}/cmd/firmware",{device:e,version:t}))(e,t)),await a(i()),await a(l())}},2653:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c}));const n="scheduledUpgrades",c="/api/s/{site}/rest/scheduletask"},2675:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(6),c=a(25),r=a(7),i=a(2614);const l=Object(r.A)(Object(i.a)()),o=Object(n.a)(l,c.c)},2676:function(e,t){var a,n;!function(e){e.STREAM="stream",e.BACKUP="backup",e.UPGRADE="upgrade",e.RADIOAI="radio-ai",e.ANALYTICS="analytics"}(a||(a={})),function(e){e.MEDIA="media",e.SAMPLE="sample"}(n||(n={}))},2677:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return _}));var n=a(6),c=a(2763),r=a(25),i=a(7),l=a(2650);const o=Object(i.A)(Object(l.b)()),s=Object(n.a)(o,r.c),E=Object(i.A)(Object(l.c)()),d=Object(n.a)(E,r.c),u=Object(n.a)(s,d,(e,t)=>Object(c.a)([...e.map(e=>({...e,id:`${e.device}_${e.version}`})),...t.map(e=>({...e,id:`${e.device}_${e.version}`}))],"id")),m=Object(n.a)(u,e=>e.filter(({siteDevice:e})=>e)),_=Object(n.a)(d,e=>e.filter(({siteDevice:e})=>e));Object(n.a)(u,e=>e.filter(({cached:e,knownDevice:t,siteDevice:a})=>e||t||a))},2678:function(e,t){},2771:function(e,t,a){var n={"./en-au":2679,"./en-au.js":2679,"./en-ca":2680,"./en-ca.js":2680,"./en-gb":2681,"./en-gb.js":2681,"./en-ie":2682,"./en-ie.js":2682,"./en-il":2683,"./en-il.js":2683,"./en-in":2684,"./en-in.js":2684,"./en-nz":2685,"./en-nz.js":2685,"./en-sg":2686,"./en-sg.js":2686};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=2771},2783:function(e,t){},558:function(e,t,a){"use strict";var n,c,r,i;a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return i})),function(e){e.MANAGED="MANAGED",e.CLIENT="CLIENT"}(n||(n={})),function(e){e.UP_TO_DATE="UP_TO_DATE",e.UPDATE_AVAILABLE="UPDATE_AVAILABLE",e.UNKNOWN="UNKNOWN"}(c||(c={})),function(e){e.NETWORK="NETWORK",e.TALK="TALK",e.PROTECT="PROTECT",e.ACCESS="ACCESS",e.CONNECT="CONNECT"}(r||(r={})),function(e){e.ACCESS_DEVICES="access_devices",e.NETWORK_DEVICES="network_devices",e.PROTECT_DEVICES="protect_devices",e.TALK_DEVICES="talk_devices",e.CONNECT_DEVICES="connect_devices"}(i||(i={}))},569:function(e,t,a){"use strict";var n=a(0),c=a.n(n);t.a=({width:e,height:t,...a})=>c.a.createElement("svg",Object.assign({viewBox:"0 0 14 15",width:e,height:t},a),c.a.createElement("defs",null,c.a.createElement("radialGradient",{cx:"100%",cy:"12.7067462%",fx:"100%",fy:"12.7067462%",r:"123.069205%",gradientTransform:"translate(1.000000,0.127067),scale(1.000000,0.880952),rotate(90.000000),translate(-1.000000,-0.127067)",id:"radialGradient-1"},c.a.createElement("stop",{stopColor:"#1D52FD",offset:"0%"}),c.a.createElement("stop",{stopColor:"#140E56",offset:"100%"})),c.a.createElement("linearGradient",{x1:"55.6991393%",y1:"31.7278611%",x2:"66.6494713%",y2:"50%",id:"linearGradient-2"},c.a.createElement("stop",{stopColor:"#DDDEE1",offset:"0%"}),c.a.createElement("stop",{stopColor:"#A5A8B7",offset:"100%"})),c.a.createElement("radialGradient",{cx:"50%",cy:"50%",fx:"50%",fy:"50%",r:"100%",gradientTransform:"translate(0.500000,0.500000),scale(0.945946,1.000000),rotate(90.000000),translate(-0.500000,-0.500000)",id:"radialGradient-3"},c.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),c.a.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:"0",offset:"100%"})),c.a.createElement("path",{d:"M8.69999985,6.04980458 L8.5694504,6.45058583 C8.50219769,6.65468741 8.41912077,6.83745106 8.32021964,6.99887683 C8.22131851,7.16030261 8.10461528,7.30039053 7.97010975,7.4191405 C7.83560423,7.53789047 7.68428555,7.63530258 7.51615372,7.71137682 C7.34802188,7.78745107 7.1630768,7.84218737 6.96131856,7.8755858 C6.97714277,7.79765612 6.9890109,7.71787099 6.99692296,7.63623034 C7.00483502,7.55458969 7.00879109,7.47480456 7.00879109,7.39687487 L7.00879109,4.37988274 C7.00879109,4.11640621 7.09978007,3.87148434 7.28175812,3.64511713 C7.46373617,3.41874991 7.93648335,3.30556635 8.69999985,3.30556635 L8.69999985,6.04980458 Z M4.3147252,3.61728509 L4.3147252,3.92900384 L4.65296695,3.92900384 L4.65296695,3.61728509 L4.3147252,3.61728509 Z M4.65296695,4.09042962 L4.99120871,4.09042962 L4.99120871,4.40214836 L4.65296695,4.40214836 L4.65296695,4.09042962 Z M4.3147252,4.48564445 L4.64703289,4.48564445 L4.64703289,4.7973632 L4.3147252,4.7973632 L4.3147252,4.48564445 Z M3.97648345,4.95322257 L4.30879114,4.95322257 L4.30879114,5.27050772 L3.97648345,5.27050772 L3.97648345,4.95322257 Z M3.29999994,3.29999994 L3.29999994,3.61728509 L3.6382417,3.61728509 L3.6382417,3.29999994 L3.29999994,3.29999994 Z M3.97648345,5.58222647 L4.3147252,5.58222647 L4.3147252,6.27802724 L4.65296695,6.27802724 L4.65296695,5.10908194 L4.99120871,5.10908194 L4.99120871,7.39130847 C4.99120871,7.66220693 5.04362626,7.89877919 5.14846145,8.10102525 C5.25329664,8.30327131 5.36901093,8.47119126 5.4956043,8.60478501 C5.62219768,8.73837876 5.73791196,8.83764631 5.84274715,8.90258774 L5.9999999,8.99999985 C5.57670323,8.99999985 5.19791197,8.94340802 4.86362629,8.83022446 C4.52934061,8.7170409 4.24648344,8.559326 4.01505488,8.35707994 C3.78362631,8.15483387 3.60659338,7.91640609 3.48395598,7.64179674 C3.36131859,7.3671874 3.29999994,7.07031235 3.29999994,6.75117176 L3.29999994,4.1683593 L3.6382417,4.1683593 L3.6382417,5.89394521 L3.97648345,5.89394521 L3.97648345,5.58222647 Z M6.23736253,8.04814439 C6.54989003,8.05927721 6.83670318,8.03701158 7.09780208,7.98134752 C7.35890097,7.92568346 7.59329657,7.83383776 7.80098888,7.70581042 C8.00868118,7.57778307 8.1876922,7.41264633 8.33802184,7.21040027 C8.48835147,7.00815421 8.60901087,6.76601554 8.69999985,6.48398426 L8.69999985,6.75117176 C8.69999985,7.05546866 8.64560422,7.33842761 8.53681304,7.6000487 C8.42802186,7.86166979 8.26879104,8.09174788 8.05912074,8.29028306 C7.84945045,8.48881824 7.59428562,8.64931626 7.29362625,8.77177719 C6.99296688,8.89423813 6.65076915,8.96660141 6.26703286,8.98886703 L6.06527462,8.88867172 C6.04945042,8.87753891 5.91890097,8.7801268 5.67362628,8.5964354 C5.42835159,8.412744 5.26021966,8.13535145 5.16923068,7.76425768 C5.3037362,7.84218737 5.45901087,7.90620104 5.63505485,7.95629869 C5.81109883,8.00639635 6.01186803,8.03701158 6.23736253,8.04814439 Z M3.97648345,3.93457025 L4.30879114,3.93457025 L4.30879114,4.24628899 L3.97648345,4.24628899 L3.97648345,3.93457025 Z",id:"path-4"}),c.a.createElement("filter",{x:"-18.5%",y:"-17.5%",width:"137.0%",height:"135.1%",filterUnits:"objectBoundingBox",id:"filter-5"},c.a.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"SourceAlpha",result:"shadowBlurInner1"}),c.a.createElement("feOffset",{dx:"0",dy:"1",in:"shadowBlurInner1",result:"shadowOffsetInner1"}),c.a.createElement("feComposite",{in:"shadowOffsetInner1",in2:"SourceAlpha",operator:"arithmetic",k2:"-1",k3:"1",result:"shadowInnerInner1"}),c.a.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0",type:"matrix",in:"shadowInnerInner1"}))),c.a.createElement("g",{id:"Archive",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{id:"04",transform:"translate(-88.000000, -411.000000)"},c.a.createElement("g",{id:"Group-10",transform:"translate(89.000000, 412.000000)"},c.a.createElement("path",{d:"M5.85092345,0.317412198 C6.1980451,0.221309165 8.04643021,0.55173872 11.3999998,1.30703061 C11.3999998,7.54829898 9.54787088,11.4117569 5.84361303,12.8974043 L5.85299999,12.893 L5.85347361,12.8999998 L5.84599999,12.896 L5.84361303,12.8974043 L5.84299999,12.895 L5.61464275,12.7996269 C2.07154758,11.2434847 0.299999995,7.41261924 0.299999995,1.30703061 C3.67284298,0.547397962 5.52315079,0.217525157 5.85092345,0.317412198 Z",id:"Combined-Shape-Copy",fill:"url(#radialGradient-1)",opacity:"0.29"}),c.a.createElement("path",{d:"M5.85092345,0.317412198 C6.1980451,0.221309165 8.04643021,0.55173872 11.3999998,1.30703061 C11.3999998,7.54829898 9.54787088,11.4117569 5.84361303,12.8974043 L5.85299999,12.893 L5.85347361,12.8999998 L5.84599999,12.896 L5.84361303,12.8974043 L5.84299999,12.895 L5.61464275,12.7996269 C2.07154758,11.2434847 0.299999995,7.41261924 0.299999995,1.30703061 C3.67284298,0.547397962 5.52315079,0.217525157 5.85092345,0.317412198 Z",id:"Combined-Shape-Copy-2",fill:"url(#radialGradient-1)"}),c.a.createElement("path",{d:"M6,0.00479241185 L5.94519876,0.00479241185 C5.30990938,-0.034415149 3.52023054,0.29826201 0.289002914,1.0237344 L0,1.08862108 L0,1.3796117 C0,7.75711246 1.90475569,11.7856095 5.7458791,13.3891512 L5.85061016,13.4319183 L5.85178208,13.4324547 C5.92981231,13.4557877 5.99741934,13.4783028 6.05460316,13.5 C6.14245335,13.4831115 6.22747069,13.4125393 6.27419823,13.3891512 C6.30534993,13.3735591 6.37291273,13.3400549 6.47688666,13.2886384 C10.1696649,11.6228494 12,7.62963141 12,1.3796117 L12,1.08862108 L10.9344861,0.850874262 C8.08839473,0.223243992 6.53633446,-0.0396173518 6,0.00479241185 Z M7.61270039,0.916959046 L7.95529914,0.979692923 C8.70778845,1.1206949 9.66778771,1.31993602 10.8346726,1.57733089 L11.2545846,1.67047648 L11.2539888,1.74367411 C11.1850999,7.58354714 9.44595352,11.2024752 6.06535572,12.6699064 L5.99553662,12.6995788 L5.92934527,12.6714149 C2.58685557,11.2181495 0.849791932,7.65583474 0.748576354,1.9182126 L0.745229202,1.67029395 L1.43092263,1.51896728 C2.58207027,1.26699659 3.52036992,1.07484818 4.24516184,0.94261207 L4.40863114,0.913159618 C5.26323394,0.761222049 5.80963133,0.70355947 5.89153866,0.728118784 C5.92536503,0.728423446 5.96151878,0.728423446 5.9999999,0.728118784 C6.03848102,0.727814121 6.07677091,0.727224737 6.11486957,0.726350631 C6.20217559,0.703701933 6.75009177,0.763040646 7.61270039,0.916959046 Z",id:"Combined-Shape-Copy-3",stroke:"url(#linearGradient-2)",strokeWidth:"0.5",fill:"#FFFFFF",fillRule:"nonzero"}),c.a.createElement("path",{d:"M11.3999998,1.53863173 C7.08761659,4.35505368 4.32159096,7.44217643 3.10192291,10.8 C2.11221232,9.50559552 1.37761714,8.13153309 0.89813737,6.67781269 L0.299999995,1.53863173 L5.36134786,0.299999995 L11.3999998,1.53863173 Z",id:"Path-3-Copy",fill:"url(#radialGradient-3)",opacity:"0.275320871"}),c.a.createElement("g",null,c.a.createElement("use",{fill:"#1D136A",fillRule:"evenodd",xlinkHref:"#path-4"}),c.a.createElement("use",{fill:"black",fillOpacity:"1",filter:"url(#filter-5)",xlinkHref:"#path-4"}))))))},700:function(e,t,a){"use strict";var n=a(1802);a.o(n,"fetchControllerWarnings")&&a.d(t,"fetchControllerWarnings",(function(){return n.fetchControllerWarnings})),a.o(n,"selectHasWlanOverrides")&&a.d(t,"selectHasWlanOverrides",(function(){return n.selectHasWlanOverrides})),a.o(n,"selectLastControllerUpdateQuery")&&a.d(t,"selectLastControllerUpdateQuery",(function(){return n.selectLastControllerUpdateQuery})),a.o(n,"selectLastFirmwareUpdateQuery")&&a.d(t,"selectLastFirmwareUpdateQuery",(function(){return n.selectLastFirmwareUpdateQuery})),a.o(n,"selectLtePaymentExpired")&&a.d(t,"selectLtePaymentExpired",(function(){return n.selectLtePaymentExpired})),a.o(n,"selectLteSubscriptionCancelled")&&a.d(t,"selectLteSubscriptionCancelled",(function(){return n.selectLteSubscriptionCancelled})),a.o(n,"selectLteSubscriptionCheckRequired")&&a.d(t,"selectLteSubscriptionCheckRequired",(function(){return n.selectLteSubscriptionCheckRequired})),a.o(n,"selectUnifiCareEligibleDevices")&&a.d(t,"selectUnifiCareEligibleDevices",(function(){return n.selectUnifiCareEligibleDevices}));var c=a(1228);a.d(t,"fetchControllerWarnings",(function(){return c.a}));a(831);var r=a(1803);a.d(t,"selectHasWlanOverrides",(function(){return r.a})),a.d(t,"selectLastControllerUpdateQuery",(function(){return r.b})),a.d(t,"selectLastFirmwareUpdateQuery",(function(){return r.c})),a.d(t,"selectLtePaymentExpired",(function(){return r.d})),a.d(t,"selectLteSubscriptionCancelled",(function(){return r.e})),a.d(t,"selectLteSubscriptionCheckRequired",(function(){return r.f})),a.d(t,"selectUnifiCareEligibleDevices",(function(){return r.g}))},719:function(e,t,a){"use strict";a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return S.a})),a.d(t,"a",(function(){return G}));var n=a(0),c=a.n(n),r=a(3),i=a(363),l=a(804),o=a(214);const s=Object(r.c)(o.a)`
  font-size: ${({theme:e})=>e.fontSizes[0]}px;
  :last-child {
    margin-left: ${({theme:e})=>e.space[2]}px;
  }
  span {
    white-space: nowrap;
  }
`,E=(Object(r.c)(i.Link)`
  font-size: ${({theme:e})=>e.fontSizes[0]}px;
  white-space: nowrap;
  margin-bottom: 1px;

  :last-child {
    margin-left: ${({theme:e})=>e.space[2]}px;
  }

  &:hover {
    color: ${({theme:e})=>e.motifPalette.hoverLink01};
  }
`,Object(r.c)(o.a,{shouldForwardProp:e=>"useMinWidth"!==e})`
  padding: 0 ${({theme:e})=>e.space[3]}px;
  ${({useMinWidth:e})=>e?"min-width: 214px":"width: 214px"}
`),d=Object(r.c)(l.a)`
  flex-direction: column;
  align-items: flex-start;

  > div {
    margin-left: 0px;
  }

  > div:not(:last-child) {
    margin-bottom: 10px;
  }
`,u=e=>c.a.createElement(E,Object.assign({legacy:!1,variant:"secondary",type:"button"},e)),m=e=>c.a.createElement(s,Object.assign({legacy:!1,type:"button",variant:"inline"},e));var _=a(1895),b=a(293);const O=Object(r.c)(_.a)`
  max-width: 445px;
  margin-bottom: ${({theme:e})=>e.space[3]}px;
`,T=e=>r.a`
  padding-top: 0;
  color: ${e.colors.white};
  > th {
    height: 30px !important;
  }
`;Object(b.b)(({theme:e,...t})=>c.a.createElement(O,Object.assign({headerRowClassName:T(e),disableColumnFilters:!0,disableSelection:!0,rowHeight:30},t)));var S=a(1775),A=a(577),N=a(1770),p=a(2),h=a(19),C=a(10),g=a(2399),f=a(36),I=a(14),D=a(38);const v=Object(r.c)("div")`
  display: flex;
  flex: ${({inline:e})=>e?"1 1 0":"0 0 100%"};
  margin-right: ${({inline:e,isLast:t,theme:a})=>e&&!t?""+a.spacing["spacing-l"]:0};
  position: relative;
`,R=Object(r.c)(I.c)`
  > * {
    vertical-align: middle;
  }
`,M=Object(r.c)("div",{shouldForwardProp:e=>"useInitialPositionAddButton"!==e})`
  position: absolute;
  right: -65px;
  top: 12px;
  ${({useInitialPositionAddButton:e})=>e&&"margin: 12px 0 0 16px; position: initial;"}
`,j=Object(r.c)("div")`
  position: absolute;
  right: 10px;
  top: 14px;
  z-index: 1;
`,L=Object(r.c)(I.g)`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xs"]};
`,y=Object(r.c)(I.g,{shouldForwardProp:e=>"isLast"!==e})`
  margin-right: ${({theme:e,isLast:t})=>t?0:e.spacing["spacing-l"]};
  margin-bottom: ${({theme:e})=>e.spacing["spacing-l"]};
`,w=Object(r.c)(I.g)`
  margin-top: ${({theme:e})=>e.spacing["spacing-l"]};
`,P=Object(r.c)(I.c)`
  margin-right: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`,U=Object(r.c)("div")`
  width: 100%;
  table {
    td {
      max-width: 170px;

      span {
        overflow: hidden;
        text-overflow: ellipsis;
      }
    }
  }
`;var G=function({fieldName:e,newFields:t,fieldLabels:a,onAddItem:r,onRemoveItem:i,validationSchema:l,initialValues:o,onEditSubmit:s,customEditFunction:E,useValuesInSchema:d=!1,max:u,useWindowTable:m=!1,addButtonText:b="COMMON_ACTION_ADD",invalid:O,useInitialPositionAddButton:T,children:S,...G}){const x=Object(n.useContext)(I.l),[F,B]=Object(n.useState)(!0),k=Object(n.useCallback)(t=>!t.disableRemove&&c.a.createElement(I.g,{alignItems:"center",marginRight:8,marginBottom:1},c.a.createElement(R,{name:`remove-${e}-${t.id}`,size:"small",type:"button",variant:"inline",legacy:!1,onClick:async()=>{B(!1),i(t),await Promise.resolve(),B(!0)}},c.a.createElement(p.c,{id:"COMMON_ACTION_REMOVE"}))),[e,B,i]),H=Object(n.useMemo)(()=>m?g.a:_.a,[m]);return c.a.createElement(f.c,{enableReinitialize:!0,onSubmit:t=>{s(t[e])},initialValues:o,validationSchema:()=>d?h.a.lazy(e=>l(e)):l},({values:n,errors:l,setFieldValue:s,handleSubmit:d,handleReset:m,setTouched:_,dirty:h,touched:g,submitCount:f})=>c.a.createElement(c.a.Fragment,null,t.map((a,i)=>c.a.createElement(v,{inline:a.inline,isLast:i===t.length-1,key:a.name},c.a.createElement(I.g,{flexDirection:"column",width:"100%",marginBottom:a.hasTwoLineError&&g[a.name]&&l[a.name]?48:16},c.a.createElement(D.Field,Object.assign({disabled:n.editActive||n[e].length>=u,full:!0,name:a.name,placeholder:a.placeholder,type:a.type,label:a.label,invalid:void 0!==n[a.name]?g[a.name]&&l[a.name]:O,fast:!0},"dropdown"!==a.type?{autoComplete:a.autoComplete}:{options:a.options,translateOptions:a.translateOptions,translatePlaceholder:!0,validated:a.validated}))),!x&&r&&i===t.length-1&&c.a.createElement(M,{useInitialPositionAddButton:T},c.a.createElement(R,{name:"add-"+e,size:"small",type:"button",variant:"inline",legacy:!1,onClick:async e=>{e.preventDefault(),B(!1);const a=t.reduce((e,t)=>(e[t.name]=!0,e),{}),c=await _(a,!0);t.find(e=>c[e.name])||r(n),B(!0)},Icon:C.Db,disabled:n.editActive||n[e].length>=u||!h},c.a.createElement(p.c,{id:b}))))),S,n.editActive?c.a.createElement(c.a.Fragment,null,n[e].map((n,r)=>c.a.createElement(L,{key:n.id,width:"100%"},G.columns.map((n,i)=>t[i]?c.a.createElement(y,{key:n.id,isLast:i===G.columns.length-1,flexDirection:"column",flex:"1 1 50%"},c.a.createElement(D.Field,Object.assign({full:!0,label:a[n.id],name:`${e}[${r}][${n.id}]`,type:t[i].type,fast:!0},"dropdown"!==t[i].type?{}:{options:t[i].options,translateLabel:!0,translateOptions:t[i].translateOptions,translatePlaceholder:!0,type:t[i].type,validated:t[i].validated}))):null))),c.a.createElement(w,{justifyContent:"flex-end",width:"100%"},c.a.createElement(P,{name:"edit-cancel-"+e,size:"large",type:"button",variant:"default",legacy:!1,onClick:()=>{m(),s("editActive",!1)}},c.a.createElement(p.c,{id:"COMMON_ACTION_CANCEL"})),c.a.createElement(I.c,{name:"edit-submit-"+e,type:"button",variant:"primary",legacy:!1,onClick:d,disabled:Object(A.a)(Object(N.a)(n,"editActive"),Object(N.a)(o,"editActive"))},c.a.createElement(p.c,{id:"COMMON_ACTION_SAVE_CHANGES"})))):n[e].length>0&&c.a.createElement(v,null,c.a.createElement(j,null,c.a.createElement(R,{name:"edit-"+e,size:"small",type:"button",variant:"inline",legacy:!1,onClick:()=>{m(),E?E():s("editActive",!0)},Icon:C.Cb},c.a.createElement(p.c,{id:"COMMON_ACTION_EDIT"}))),n[e].length&&F&&c.a.createElement(U,null,c.a.createElement(H,{columns:G.columns,disableColumnFilters:!0,disableSelection:!0,disableTextPointer:!0,items:n[e],renderHoverContent:i?k:void 0})))))}},831:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c}));const n="controllerWarnings",c="/api/s/{site}/stat/widget/warnings"}}]);
//# sourceMappingURL=25.f400b1db6c26e1693504.js.map