(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[48],{1774:function(e,t,a){"use strict";var n=a(0),r=a.n(n),E=a(3),i=a(2),l=a(1780),_=a.n(l),c=a(1259),o=a(493),T=a(494);const s=Object(E.c)("span")`
  line-height: 1.5;
  margin-top: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`;t.a=({when:e,ignoredPaths:t=null,onLeave:a=null,onStay:E=null,leaveButtonText:l="SETTINGS_MODAL_UNSAVED_CHANGES_LEAVE",stayButtonText:m="SETTINGS_MODAL_UNSAVED_CHANGES_STAY",modalTitle:u="SETTINGS_MODAL_UNSAVED_CHANGES_TITLE",modalDescription:R="SETTINGS_MODAL_UNSAVED_CHANGES_CONTENT"})=>{const A=Object(n.useMemo)(()=>({overlay:{"--modal-z-index":2e3}}),[]),O=Object(T.a)(t),p=Object(n.useCallback)((e,t)=>t.pathname!==e.pathname,[]),d=Object(n.useCallback)(e=>(e={},t={})=>O(e,t)&&p(e,t),[O,p]);return!!e&&r.a.createElement(_.a,{when:d(t)},({onCancel:e,onConfirm:t})=>r.a.createElement(c.a,{actions:[{type:"button",text:r.a.createElement(i.c,{id:m}),onClick:()=>E?E(e):e()},{type:"button",text:r.a.createElement(i.c,{id:l}),onClick:()=>a?a(t):t(),variant:"primary"}],isOpen:!0,size:"small",style:A,parentSelector:o.b,title:r.a.createElement(i.c,{id:u}),onRequestClose:()=>E?E(e):e()},r.a.createElement(s,null,r.a.createElement(i.c,{id:R}))))}},2301:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),E=a(2),i=a(5),l=a(23),_=a(168),c=a(821),o=a(18),T=a(2429),s=a(251),m=a(28),u=a(40),R=a(16),A=a(2541),O=a(2606);const p=e=>({name:"",group_type:c.FirewallGroupType.PORT_GROUP,group_members:[""],...e});t.default=()=>{const e=Object(u.i)({openFirewall:!0}),{groupId:t}=Object(l.m)(),a=Object(i.useDispatch)(),d=Object(i.useSelector)(c.selectFirewallGroup)(t),N=Object(i.useSelector)(o.x),S=Object(u.o)({component:r.a.createElement(E.c,{id:"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_TITLE_NEW"}),message:"firewall-group"},"firewall-group",(null==d?void 0:d._id)?d.name:void 0),I=Object(n.useCallback)((t,{setSubmitting:n})=>a(Object(c.saveFirewallGroup)({...t,group_members:(t.group_members||[]).filter(e=>!!e)})).then(()=>{a(Object(m.c)({icon:R.a.success,message:"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_TOAST_SAVE_SUCCESS",values:{name:t.name}})),e()}).catch(e=>{a(Object(m.c)({errorMessage:e.msg,errorValues:e,icon:R.a.danger,message:"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_TOAST_SAVE_FAILURE",values:{name:t.name}})),n(!1)}),[a,e]),g=Object(n.useCallback)(()=>a(Object(s.b)({name:d.name,onConfirm:()=>a(Object(c.removeFirewallGroup)({id:d._id,name:d.name})).then(()=>{e()})})),[a,d,e]);return r.a.createElement(T.b,{goBack:e,initialValues:p(d),isView:N,showBack:!0,title:S,validationSchema:A.b,onEscClicked:e,onSubmit:I,footerActiveOverride:!!(null==d?void 0:d._id),customFooterButtons:e=>(null==d?void 0:d._id)&&r.a.createElement(_.a,{disabled:e,type:"button",variant:"tertiary",color:"danger",onClick:g},r.a.createElement(E.c,{id:"COMMON_ACTION_REMOVE"}))},r.a.createElement(O.a,null))}},2429:function(e,t,a){"use strict";a.d(t,"b",(function(){return h})),a.d(t,"a",(function(){return N}));var n=a(0),r=a.n(n),E=a(3),i=a(2),l=a(36),_=a(2838),c=a(2760),o=a(1774),T=a(867),s=a(14),m=a(10),u=a(42);const R=Object(E.c)(s.g)`
  > * {
    /* Use margin on child rather than padding on self not to occupy space when no button is shown */
    margin-left: ${({theme:e})=>e.spacing["spacing-xxl"]};
    margin-right: ${({theme:e})=>e.spacing["spacing-xxl"]};
  }
`,A=Object(E.c)(s.g)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui03};
`,O=Object(E.c)("h1")`
  font-size: 16px;
  font-weight: normal;
`,p=Object(E.c)(s.c)`
  padding: ${({theme:e})=>e.spacing["spacing-s"]};
`,d=Object(E.c)(u.a)`
  color: ${({theme:e})=>e.motifPalette.text01} !important;
  font-size: 16px !important;
`;var N=({title:e,showBack:t,goBack:a,onEscClicked:n,hideClose:E,ignoredPaths:i})=>r.a.createElement(A,{flex:"none",height:"65px"},r.a.createElement(s.g,{alignItems:"center",flex:"1",justifyContent:"space-between"},r.a.createElement(R,{alignItems:"center",flex:"1",height:"100%"},t&&r.a.createElement(p,{legacy:!1,name:"backButton",type:"button",onClick:a},r.a.createElement(m.g,{size:"original"}))),r.a.createElement(O,null,r.a.createElement(d,{weight:"bold"},e.component)),r.a.createElement(R,{alignItems:"center",flex:"1",height:"100%",justifyContent:"flex-end"},!E&&r.a.createElement(p,{legacy:!1,name:"closeButton",type:"button",onClick:n},r.a.createElement(m.A,{size:"original"})))));const S=Object(E.c)(s.g)`
  width: 100%;
  max-width: ${T.a};
  margin: 0 auto;
  padding: ${({theme:e})=>e.spacing["spacing-xxxxl"]}
    ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px;
`,I=Object(E.c)("form")`
  display: flex;
  flex: 1;
  overflow: hidden;
  width: 100%;
  height: 100%;
`,g=Object(E.c)(s.g)`
  @media (max-width: 1010px) {
    flex-direction: column;
  }
`,G=Object(E.c)(_.a)`
  transition: height 100ms ease, transform 100ms ease; /* TODO: Remove with next ui-components update (v25.1.1 +)  */
  > :first-child {
    max-width: ${T.a};
    padding-left: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    padding-right: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    position: relative;
    margin: 0 auto;
  }
`,M=Object(E.c)(s.h)`
  background: transparent;
  overflow: scroll !important;
  margin-right: -${({theme:e})=>e.scrollBarWidth}px;
`,b=Object(E.c)(s.k)`
  height: 100%;
  width: 100%;
`;var h=({children:e,disableUnsavedChangesModal:t,goBack:a,hideClose:n,isEdit:E,isView:_,showBack:T,title:m,unsavedChangesModalIgnoredPaths:u,onEscClicked:R,submitText:A="COMMON_ACTION_APPLY_CHANGES",footerActiveOverride:O=!1,customFooterButtons:p,hidddenHeader:d,className:h,...L})=>r.a.createElement(l.c,Object.assign({enableReinitialize:!0},L),({dirty:E,handleReset:l,handleSubmit:L,isSubmitting:F})=>r.a.createElement(I,{autoComplete:"off",onSubmit:L,className:h},r.a.createElement(b,{vertical:!0},!d&&r.a.createElement(N,{goBack:a,hideClose:n,showBack:T,title:m,onEscClicked:R,ignoredPaths:u}),r.a.createElement(M,{flex:"1"},r.a.createElement(S,{flex:"none",flexDirection:"column"},e)),!t&&!_&&r.a.createElement(o.a,{ignoredPaths:u,when:E&&!F}),(!_||O)&&r.a.createElement(G,{active:E||O},r.a.createElement(s.g,{justifyContent:p?"space-between":"flex-end",width:"100%",alignItems:"center"},p&&r.a.createElement(g,null,p(F)),!_&&r.a.createElement(s.g,null,r.a.createElement(c.a,{disabled:!E||F,type:"button",variant:"default",onClick:l},r.a.createElement(i.c,{id:"COMMON_ACTION_CANCEL"})),r.a.createElement(c.a,{disabled:!E||F,type:"submit",variant:"primary"},r.a.createElement(i.c,{id:A}))))))))},2541:function(e,t,a){"use strict";a.d(t,"a",(function(){return _})),a.d(t,"b",(function(){return c}));var n=a(0),r=a.n(n),E=a(2),i=a(821),l=a(19);const _=[{label:"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_TYPE_PORT_GROUP",value:i.FirewallGroupType.PORT_GROUP},{label:"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_TYPE_ADDRESS_GROUP",value:i.FirewallGroupType.ADDRESS_GROUP},{label:"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_TYPE_IPV6_ADDRESS_GROUP",value:i.FirewallGroupType.IPV6_ADDRESS_GROUP}],c=l.a.object({name:l.a.string().label("SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_NAME_LABEL").required(),group_type:l.a.string(),group_members:l.a.array().when("group_type",{is:i.FirewallGroupType.PORT_GROUP,then:l.a.array().min(1,r.a.createElement(E.c,{id:"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_GROUP_MEMBERS_PORT_MIN"})).of(l.a.string().unifiPortRange(r.a.createElement(E.c,{id:"COMMON_VALIDATION_VALID_PORT"}),!0))}).when("group_type",{is:i.FirewallGroupType.ADDRESS_GROUP,then:l.a.array().min(1,r.a.createElement(E.c,{id:"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_GROUP_MEMBERS_ADDRESS_MIN"})).of(l.a.string().unifiIpv4Range(r.a.createElement(E.c,{id:"COMMON_VALIDATION_VALID_IP_SUBNET_RANGE",values:{name:r.a.createElement(E.c,{id:"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_GROUP_MEMBERS_ADDRESS_LABEL"})}})))}).when("group_type",{is:i.FirewallGroupType.IPV6_ADDRESS_GROUP,then:l.a.array().min(1,r.a.createElement(E.c,{id:"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_GROUP_MEMBERS_ADDRESS_MIN"})).of(l.a.string().unifiIpv6Range(r.a.createElement(E.c,{id:"COMMON_VALIDATION_VALID_IPV6"})))}).of(l.a.string().required(r.a.createElement(E.c,{id:"COMMON_VALIDATION_FIELD_REQUIRED"})))})},2606:function(e,t,a){"use strict";var n=a(0),r=a.n(n),E=a(3),i=a(2),l=a(36),_=a(1763),c=a(1761),o=a(2379),T=a(1762),s=a(821),m=a(38),u=a(2541);const R=Object(E.c)("div")`
  flex: none;
  padding-top: ${({hasItems:e})=>e?0:"12px"};
  width: 100%;
`;t.a=({modalForm:e=!1})=>{const{setFieldValue:t,setFieldTouched:a,values:n,errors:E,touched:A}=Object(l.e)();return r.a.createElement(_.a,{padding:e?"none":void 0},r.a.createElement(c.a,null,!e&&r.a.createElement(o.a,{alignWith:"input",htmlFor:"name",label:r.a.createElement(i.c,{id:"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_NAME_LABEL"})}),r.a.createElement(T.a,{column:!0},r.a.createElement(m.Field,{full:!0,name:"name",label:"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_NAME_LABEL"}))),r.a.createElement(c.a,null,!e&&r.a.createElement(o.a,{alignWith:"dropdown",htmlFor:"group_type",label:r.a.createElement(i.c,{id:"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_GROUP_TYPE_LABEL"})}),r.a.createElement(T.a,{column:!0},r.a.createElement(m.Field,{full:!0,name:"group_type",options:u.a,translateOptions:!0,type:"dropdown"}))),r.a.createElement(c.a,null,!e&&r.a.createElement(o.a,{alignWith:"input",htmlFor:"group_members[0]",label:r.a.createElement(i.c,{id:n.group_type===s.FirewallGroupType.PORT_GROUP?"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_GROUP_MEMBERS_PORT_LABEL":"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_GROUP_MEMBERS_ADDRESS_LABEL"})}),r.a.createElement(T.a,{column:!0},r.a.createElement(R,{hasItems:n.group_members.length>0},r.a.createElement(m.NewMultiInput,{addButtonLabel:n.group_type===s.FirewallGroupType.PORT_GROUP?"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_GROUP_MEMBERS_PORT_ADD":"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_GROUP_MEMBERS_ADDRESS_ADD",label:n.group_type===s.FirewallGroupType.PORT_GROUP?"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_GROUP_MEMBERS_PORT_LABEL":"SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_FORM_FIELD_GROUP_MEMBERS_ADDRESS_LABEL",min:1,max:1e3,name:"group_members",values:n.group_members,onChange:e=>t("group_members",e),errors:null==E?void 0:E.group_members,touched:null==A?void 0:A.group_members,onBlur:e=>a(`group_members[${e}]`,!0)})))))}},821:function(e,t,a){"use strict";a.r(t),a.d(t,"fetchFirewallGroups",(function(){return l})),a.d(t,"saveFirewallGroup",(function(){return _})),a.d(t,"removeFirewallGroup",(function(){return c})),a.d(t,"MODEL",(function(){return E})),a.d(t,"PATH",(function(){return i})),a.d(t,"firewallGroupsSelector",(function(){return m})),a.d(t,"selectFirewallGroups",(function(){return u})),a.d(t,"selectFirewallGroup",(function(){return R})),a.d(t,"FirewallGroupType",(function(){return A}));var n=a(25),r=a(7);const E="firewallgroup",i="/api/s/{site}/rest/"+E,l=(e,t)=>Object(r.q)(E,i,e,{...t,idField:"_id"}),_=e=>e._id?Object(r.D)(E,e._id,`${i}/${e._id}`,e):Object(r.i)(E,i,e),c=({id:e,name:t})=>Object(r.n)(E,e,`${i}/${e}`,{},Object(n.a)("SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_TOAST_REMOVE_FAILURE","SETTINGS_INTERNET_THREAT_MANAGEMENT_FIREWALL_GROUPS_TOAST_REMOVE_SUCCESS",{name:t}));var o=a(54),T=a(73),s=a(6);const m=Object(r.A)(l()),u=Object(s.a)(m,e=>Object(o.a)(e,"data",[])),R=Object(s.a)(u,e=>Object(T.a)(t=>e.find(({_id:e})=>e===t)));var A;!function(e){e.PORT_GROUP="port-group",e.ADDRESS_GROUP="address-group",e.IPV6_ADDRESS_GROUP="ipv6-address-group"}(A||(A={}))}}]);
//# sourceMappingURL=48.f400b1db6c26e1693504.js.map