!function(){return function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}}()({1:[function(t,e,n){},{}],2:[function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty;function i(t,e){return Array.isArray(t)?function(t,e){for(var n,o="",r="",a=Array.isArray(e),s=0;s<t.length;s++)(n=i(t[s]))&&(a&&e[s]&&(n=l(n)),o=o+r+n,r=" ");return o}(t,e):t&&"object"==typeof t?function(t){var e="",n="";for(var i in t)i&&t[i]&&o.call(t,i)&&(e=e+n+i,n=" ");return e}(t):t||""}function r(t){if(!t)return"";if("object"==typeof t){var e="";for(var n in t)o.call(t,n)&&(e=e+n+":"+t[n]+";");return e}return t+""}function a(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var i=typeof e;return"object"!==i&&"function"!==i||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=l(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}n.merge=function t(e,n){if(1===arguments.length){for(var o=e[0],i=1;i<e.length;i++)o=t(o,e[i]);return o}for(var a in n)if("class"===a){var s=e[a]||[];e[a]=(Array.isArray(s)?s:[s]).concat(n[a]||[])}else if("style"===a){var s=r(e[a]);s=s&&";"!==s[s.length-1]?s+";":s;var l=r(n[a]);l=l&&";"!==l[l.length-1]?l+";":l,e[a]=s+l}else e[a]=n[a];return e},n.classes=i,n.style=r,n.attr=a,n.attrs=function(t,e){var n="";for(var s in t)if(o.call(t,s)){var l=t[s];if("class"===s){l=i(l),n=a(s,l,!1,e)+n;continue}"style"===s&&(l=r(l)),n+=a(s,l,!1,e)}return n};var s=/["&<>]/;function l(t){var e=""+t,n=s.exec(e);if(!n)return t;var o,i,r,a="";for(o=n.index,i=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==o&&(a+=e.substring(i,o)),i=o+1,a+=r}return i!==o?a+e.substring(i,o):a}n.escape=l,n.rethrow=function e(n,o,i,r){if(!(n instanceof Error))throw n;if(!("undefined"==typeof window&&o||r))throw n.message+=" on line "+i,n;try{r=r||t("fs").readFileSync(o,"utf8")}catch(t){e(n,null,i)}var a=3,s=r.split("\n"),l=Math.max(i-a,0),p=Math.min(s.length,i+a);var a=s.slice(l,p).map(function(t,e){var n=e+l+1;return(n==i?"  > ":"    ")+n+"| "+t}).join("\n");n.path=o;n.message=(o||"Pug")+":"+i+"\n"+a+"\n\n"+n.message;throw n}},{fs:1}],3:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return a(t)}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("AdminsController",["admins","BaseListAndFormController","missingModelControllerMixin","panelViewControllerMixin",function(t,e,n,o){return new(function(s){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(p,e);var l=r(p);function p(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(e=l.call(this)).collection=t.repository.collection,n(a(e)),o(a(e),"admins","useSettingsPanelView"),e}return p}())}])},{}],4:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiAdmins",{controller:"AdminsController",controllerAs:"adminsCtrl",template:t("./admins.pug")()})},{"./admins.pug":5}],5:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div id="adminSettings" ng-switch="::adminsCtrl.usePanelView()"><div class="appView appView--settingsPanelLayout" ng-switch-when="true"><div class="appViewCenterPanel flexFlag flexFlag--vertical fullWidth"><div class="unifiSettingsContainer"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_ADMINS"></div></div></div><div class="appScrollable appScrollable--centerPanel unifiSettingsPanel flexFlag__body"><div class="unifiSettingsContainer"><unifi-admin-list unifi-admin-list-on-edit="adminsCtrl.edit(model, true)"></unifi-admin-list><div class="unifiSettingsFooter"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="adminsCtrl.add(true)"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_ADMIN_BUTTON_ADD"></span></button></div></div></div><div class="appScrollable appScrollable--centerPanel unifiSettingsPanel flexFlag__body {{\'unifiSettingsPanel--\' + (adminsCtrl.preferences.model.isSettingsDark() ? \'dark\' : \'light\')}}" ng-if="adminsCtrl.view === \'form\'" ng-class="{\'is-resizing\': resizablePanelCtrl.isDragging}"'+o("unifi-resizable-panel",!0,!0,!0)+' unifi-resizable-panel-direction="[\'top\']" unifi-resizable-panel-initial-height="adminsCtrl.getInitialPanelHeight(\'form\')" unifi-resizable-panel-on-resize-stop="adminsCtrl.onPanelResizeStop(\'form\', height)"><div class="unifiSettingsContainer verticalRhythmTop--comfy" unifi-admin-form="adminsCtrl.model" unifi-admin-form-on-save="adminsCtrl.list(true)" unifi-admin-form-on-cancel="adminsCtrl.list(true)" unifi-admin-form-is-read-only="!(adminsCtrl.isSuperAdmin() || adminsCtrl.isAdmin() &amp;&amp; adminsCtrl.$stateParams.action === \'add\')"></div></div></div></div><div class="unifiSettingsContainer" ng-switch-when="false"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_ADMINS"></div></div><div ng-switch="adminsCtrl.view"><div ng-switch-when="form" unifi-admin-form="adminsCtrl.model" unifi-admin-form-on-save="adminsCtrl.list()" unifi-admin-form-on-cancel="adminsCtrl.list()" unifi-admin-form-is-read-only="!(adminsCtrl.isSuperAdmin() || adminsCtrl.isAdmin() &amp;&amp; adminsCtrl.$stateParams.action === \'add\')"></div><div ng-switch-when="list"><unifi-admin-list unifi-admin-list-on-edit="adminsCtrl.edit(model)"></unifi-admin-list><div class="unifiSettingsFooter"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="adminsCtrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_ADMIN_BUTTON_ADD"></span></button></div></div></div></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],6:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return p(t)}(this,n)}}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("ApGroupListController",["$translate","apGroups","BaseListController","frame","heyToasts",function(t,e,n,o,r){return new(function(u){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(g,n);var d,m,f,_=l(g);function g(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return c(p(t=_.call.apply(_,[this].concat(n))),"defaultSortBy","name"),c(p(t),"selectedGroupIds",[]),c(p(t),"isRemoving",{}),t}return d=g,(m=[{key:"$onChanges",value:function(t){t._selectedGroupIds&&(this.selectedGroupIds=this._selectedGroupIds?i(this._selectedGroupIds):[])}},{key:"getCollection",value:function(){return e.repository.collection}},{key:"isApGroupSelected",value:function(t){return this.selectedGroupIds&&this.selectedGroupIds.includes(t.id)}},{key:"isApGroupDisabled",value:function(t){return this.disabledGroupIds&&this.disabledGroupIds.includes(t.id)}},{key:"onApGroupClick",value:function(t,e){this.isApGroupDisabled(t.id)||(this.selectedGroupIds=this.selectedGroupIds||[],e.target.checked?this.selectedGroupIds.push(t.id):this.selectedGroupIds=this.selectedGroupIds.filter(function(e){return e!==t.id}),this.onSelectionChange&&this.onSelectionChange({selectedGroupIds:this.selectedGroupIds}))}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}},{key:"remove",value:function(e){var n=this;return o.show("confirm",{title:function(){return t.instant("SETTINGS_AP_GROUP_DELETE_CONFIRM_TITLE",{name:e.get("name")})},message:function(){return t.instant("SETTINGS_AP_GROUP_DELETE_CONFIRM_MESSAGE",{name:e.get("name")})},options:angular.noop}).then(function(){return n.isRemoving[e.id]=!0,e.destroy({wait:!0}).then(function(){return r.pushSuccess(t.instant("SETTINGS_AP_GROUP_DELETE_SUCCESS",{name:e.get("name")})),!0}).catch(function(){return r.pushError(t.instant("SETTINGS_AP_GROUP_DELETE_ERROR",{name:e.get("name")})),!1}).finally(function(){n.isRemoving[e.id]=!1})})}}])&&a(d.prototype,m),f&&a(d,f),g}())}])},{}],7:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiApGroupList",["ListDirective",function(e){return new e("apGroup",t("./apGroupList.pug")(),{onEdit:"&unifiApGroupListOnEdit",onSelectionChange:"&?unifiApGroupListOnSelectionChange",disabledGroupIds:"<?unifiApGroupListDisabledGroupIds",_selectedGroupIds:"<unifiApGroupListSelectedGroupIds"})}])},{"./apGroupList.pug":8}],8:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div><table class="verticalRhythmTop--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="apGroupTable" collection-view-sort="apGroupListCtrl.view"><thead><tr><th class="apGroupCheckbox ubntTableCell--checkbox"'+o("unifi-if-role-admin",!0,!0,!0)+'>&nbsp;</th><th class="apGroupName" collection-view-sort-by="name"><span translate="SETTINGS_AP_GROUPS_TABLE_HEADER_NAME"></span></th><th class="apGroupMemberCount"><span translate="SETTINGS_AP_GROUPS_TABLE_HEADER_APS"></span></th><th class="apGroupActions"'+o("unifi-if-role-admin",!0,!0,!0)+'>&nbsp;</th></tr></thead><tbody><tr collection-view-repeat="model in apGroupListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="apGroupCheckbox ubntTableCell--checkbox"'+o("unifi-if-role-admin",!0,!0,!0)+'><form class="ubntForm"><input type="checkbox" ng-checked="apGroupListCtrl.isApGroupSelected(model)" ng-click="apGroupListCtrl.onApGroupClick(model, $event); $event.stopPropagation();" ng-disabled="!apGroupListCtrl.isApGroupSelected(model) &amp;&amp; apGroupListCtrl.isApGroupDisabled(model)"></form></td><td class="apGroupName" ng-class="{\'opacity-50\': !apGroupListCtrl.isApGroupSelected(model) &amp;&amp; apGroupListCtrl.isApGroupDisabled(model)}">{{::model.get(\'name\')}}</td><td class="apGroupMemberCount">{{::model.get(\'device_macs\') ? model.get(\'device_macs\').length : 0}}</td><td class="adminActions appTableCell--actions"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-if="!model.attr_hidden_id" ng-click="apGroupListCtrl.edit(model)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="{{::model.get(\'attr_no_delete\') ? \'COMMON_ACTIONS_VIEW\' : \'COMMON_ACTIONS_EDIT\'}}"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-if="!model.get(\'attr_no_delete\')" ng-click="apGroupListCtrl.remove(model)" ng-disabled="apGroupListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!apGroupListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_AP_GROUPS_TABLE_EMPTY"></p></div></div></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],9:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("ApGroupsDeviceListController",["apGroups","BasePaginatedListController","BatchDeviceModel","DeviceCollection","DeviceFilter","devices","devicesComparator","listBatchEditControllerMixin","settings","wirelessNetworks","AP_GROUP_SETTINGS","WLAN_BANDS",function(t,e,n,o,l,p,u,c,d,m,f,_){return new(function(g){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(T,e);var S,b,v,y=a(T);function T(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,T),(t=y.call(this)).comparator=u,t.filter=new l,t.rowsPerPage=30,t.defaultSortBy="name",t.isBatchEditable=!0,c(s(t)),t.initBatchEditModel("batch:apGroupDevices","batch:apGroupDevices",o,n),t.useBatchEditId("batch:apGroupDevices");var e=t.getBatchEditDestination();return e.on("add",function(e){t.model.get("device_macs").push(e.get("mac"))}),e.on("remove",function(e){t.model.set({device_macs:t.model.get("device_macs").filter(function(t){return t!==e.get("mac")})})}),e.on("reset",function(e){t.model.set({device_macs:e.pluck("mac")})}),t}return S=T,(b=[{key:"$onChanges",value:function(t){var e=this;t.searchQuery&&this.onSearchQueryChange(this.searchQuery),t.model&&this.model&&this.model.has("device_macs")&&this.model.get("device_macs").forEach(function(t){var n=e.getCollection().get(t);n&&e.addBatchEdit(n)})}},{key:"$onDestroy",value:function(){this.destroyBatchEditModel()}},{key:"initFilters",value:function(){this.filter.setDeviceTypeFilter("uap"),this.filter.setDeviceAvailableForApGroupFilter(!0),this.filter.setApGroupValidDevicesFilter(!0)}},{key:"getCollection",value:function(){return p.repository.collection}},{key:"onPageSizeChange",value:function(){}},{key:"getPotentialWirelessNetworksByDeviceAndBand",value:function(e,n,o){var i=t.getApGroupsByDevice(e).map(function(t){return t.id});return i.push(o),m.getWlansByApGroupIdsAndWifiBand(i,n)}},{key:"isConnectivityMonitorEnabled",value:function(){var t=d.getSiteSettingFromKey("connectivity");return!(!t||!t.get("enabled"))}},{key:"isDeviceDisabled",value:function(t){if(!this.model.id)return!1;var e=this.isConnectivityMonitorEnabled()?f.MAX_WLANCONF_WITH_WIRELESS_UPLINK:f.MAX_WLANCONF,n=this.getPotentialWirelessNetworksByDeviceAndBand(t,_["2G"],this.model.id),o=this.getPotentialWirelessNetworksByDeviceAndBand(t,_["5G"],this.model.id);return n.length>e||o.length>e}},{key:"isBatchEditAllowed",value:function(t){return!this.isDeviceDisabled(t.get("mac"))}}])&&i(S.prototype,b),v&&i(S,v),T}())}])},{}],10:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiApGroupsDeviceList",["PaginatedListDirective","listBatchEditDirectiveMixin",function(e,n){var o=new e("apGroupsDevice",t("./apGroupsDeviceList.pug")(),{model:"<unifiApGroupsDeviceListModel",searchQuery:"<?unifiApGroupsDeviceListSearchQuery",isReadOnly:"<?unifiApGroupsDeviceListIsReadOnly"});return o.addMixin(n),o}])},{"./apGroupsDeviceList.pug":11}],11:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div><table class="ubntTable ubntTable--secondary ubntTable--flush" collection-view-sort="apGroupsDeviceListCtrl.view"><thead><tr><th class="deviceCheckbox ubntTableCell--checkbox"><form class="ubntForm"><input type="checkbox" name="apGroupsDeviceListSelectAllBatchEdit" ng-checked="apGroupsDeviceListCtrl.selectAllBatchEdit" ng-click="apGroupsDeviceListCtrl.toggleSelectAllBatchEdit()" ng-disabled="apGroupsDeviceListCtrl.isReadOnly" unifi-indeterminate-checkbox="apGroupsDeviceListCtrl.isSelectAllBatchEditIndeterminate"></form></th><th class="deviceName" collection-view-sort-by="name"><span translate="SETTINGS_AP_GROUPS_DEVICES_TABLE_HEADER_NAME"></span></th><th class="deviceModel" collection-view-sort-by="modelName"><span translate="SETTINGS_AP_GROUPS_DEVICES_TABLE_HEADER_MODEL"></span></th><th class="deviceIp" collection-view-sort-by="ip"><span translate="SETTINGS_AP_GROUPS_DEVICES_TABLE_HEADER_IP"></span></th><th class="deviceExperience" collection-view-sort-by="experience"><span translate="SETTINGS_AP_GROUPS_DEVICES_TABLE_HEADER_WIFI_EXPERIENCE"></span></th></tr></thead><tfoot ng-if="apGroupsDeviceListCtrl.view.getModels().length"><tr><td colspan="2"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="apGroupsDeviceListCtrl.currentPage" unifi-micro-pagination-rows-per-page="apGroupsDeviceListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="apGroupsDeviceListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="model in apGroupsDeviceListCtrl.view.getModels(),            startFrom (apGroupsDeviceListCtrl.currentPage - 1) * apGroupsDeviceListCtrl.rowsPerPage,            limitTo apGroupsDeviceListCtrl.rowsPerPage" data-id="{{::model.id}}"><td class="deviceCheckbox ubntTableCell--checkbox"><form class="ubntForm"><input type="checkbox" ng-checked="apGroupsDeviceListCtrl.isBatchEditSelected(model)" ng-click="apGroupsDeviceListCtrl.toggleBatchEdit(model, $event); $event.stopPropagation();" ng-disabled="apGroupsDeviceListCtrl.isReadOnly || apGroupsDeviceListCtrl.isDeviceDisabled(model.get(\'mac\'))"></form></td><td class="deviceName">{{::model.getDisplayName()}}</td><td class="deviceModel">{{::model | deviceModelName}}</td><td class="deviceIp">{{::model.get(\'ip\')}}</td><td class="deviceExperience">{{::(model.get(\'satisfaction\') > 0 ? model.get(\'satisfaction\') : \'\') | orEmptyPlaceholder}}</td></tr></tbody></table><div class="ubntIconText ubntIconText--withTextRight ubntIconText--multiline ubntIconText--currentColor mt-2" ng-if="!apGroupsDeviceListCtrl.view.getModels().length"><unifi-aura-icon unifi-aura-icon="\'info\'" unifi-aura-icon-class="[\'ubntIconText__icon\', \'color-primary\']"></unifi-aura-icon><div class="ubntIconText__text" translate="SETTINGS_AP_GROUPS_DEVICES_TABLE_EMPTY"></div></div></div>'}},{"pug-runtime":2}],12:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("BackupSettingsController",["$filter","$q","$translate","BaseSettingsController","backup","backupUtils","devices","frame","heyToasts","sdn","system","systemBackupUtils","timezones","BACKUP_DEFAULTS",function(t,e,n,o,l,u,c,d,m,f,_,g,S,b){return new(function(v){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(I,o);var y,T,E,C=a(I);function I(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,I);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return p(s(t=C.call.apply(C,[this].concat(n))),"settingsSection","backup"),p(s(t),"settingsSectionTranslationKeys",{backup:"SETTINGS_NAV_BACKUP"}),p(s(t),"cronConfig",{options:{allowMinute:!1}}),p(s(t),"timezones",S.getTimezones()),p(s(t),"MONTHLY_OCCURANCE",b.MONTHLY_OCCURANCE),p(s(t),"getControllerTimezone",_.getControllerTimezone.bind(_)),p(s(t),"isUnifiGo",_.isUnifiGo()),p(s(t),"dataRetentionOptions",[{value:0,translationKey:"SETTINGS_MAINTENANCE_VALUES_DOWNLOAD_SETTINGS_ONLY"}].concat([7,30,60,90,180,365].map(function(t){return{value:t,translationKey:"DATETIME_DAYS_FULL_PARAMETERIZED",translationParams:{days:t}}})).concat({value:-1,translationKey:"SETTINGS_MAINTENANCE_VALUES_DOWNLOAD_NO_LIMIT"})),p(s(t),"downloadBackupOptions",[{days:0,translationKey:"SETTINGS_MAINTENANCE_VALUES_DOWNLOAD_SETTINGS_ONLY"}].concat([7,30,60,90,180,365].map(function(t){return{days:t,translationKey:"DATETIME_DAYS_FULL_LAST_PARAMETERIZED",translationParams:{days:t}}})).concat({days:-1,translationKey:"SETTINGS_MAINTENANCE_VALUES_DOWNLOAD_NO_LIMIT"})),t}return y=I,(T=[{key:"getCollection",value:function(){return l.repository.collection}},{key:"save",value:function(){var t=this,e=[];return this.isSubmitting=!0,angular.forEach(["super_mgmt"],function(n){e.push(t.saveSection(t.getSettingFromKey(n),t.forms[n].modelCopy.attributes,t.settingsSection))}),this.afterSave(e)}},{key:"isCloudKeySdCardCheckAvailable",value:function(){return _.isCloudKeyModelWithStorageLimitations()&&!_.isCloudKeySdCardMounted()}},{key:"isCloudConnected",value:function(){return f.isConnected()}},{key:"downloadBackup",value:function(){var t=this;return this.isDownloadingBackup=!0,m.handlePromise(g.generateBackupFile(this.downloadBackupDays,!0)).finally(function(){t.isDownloadingBackup=!1})}},{key:"restoreSettings",value:function(o){var i=this;return o&&o[0]?(this.isRestoringFromBackup=!0,this.restoreProgress={},e.all([g.uploadBackupFile(o[0],this.restoreProgress),c.repository.collection.fetch()]).then(function(e){i.isRestoringFromBackup=!1;var o=e[0][0],r=o.sites;return(1!=r.length&&_.isUdm()?d.show("restoreBackupSitePicker",{sites:function(){return r},options:angular.noop}):d.show("confirm",{title:function(){return n.instant("SETTINGS_MAINTENANCE_RESTORE_FROM_BACKUP_CONFIRM_TITLE")},message:function(){return n.instant("SETTINGS_MAINTENANCE_RESTORE_FROM_BACKUP_CONFIRM_MESSAGE",{file:o.filename,version:o.version,date:t("moment")(parseInt(o.timestamp),"format","datetime")})},options:function(){return{allowHtml:!0}}}).then(function(){return r[0]._id})).then(function(t){return i.isRestoringFromBackup=!0,u.restoreAndRestart(o.backup_id,t)}).catch(function(){g.cancelRestoreFromBackup(o.backup_id)})}).catch(function(t){return m.pushError(t),!1}).finally(function(){i.isRestoringFromBackup=!1,i.restoreProgress=void 0})):e.reject()}}])&&i(y.prototype,T),E&&i(y,E),I}())}])},{}],13:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiBackupSettings",{controller:"BackupSettingsController",controllerAs:"backupSettingsCtrl",template:t("./backupSettings.pug")()})},{"./backupSettings.pug":14}],14:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="backupSettings"><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="backupSettingsCtrl.form" ng-class="{      \'is-form-validation-visible\': backupSettingsCtrl.showValidation,      \'is-validation-hidden\': !backupSettingsCtrl.showValidation    }" ng-submit="backupSettingsCtrl.form.$valid &amp;&amp; backupSettingsCtrl.save()"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_BACKUP"></div></div><unifi-config-changed unifi-config-changed-on-reset="backupSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="backupSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="backupSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!backupSettingsCtrl.isAdmin()"><ng-form name="backupSettingsCtrl.forms.super_mgmt" unifi-model-form="backupSettingsCtrl.getSettingFromKey(\'super_mgmt\', null, true)"><div class="unifiSettingsSection" ng-if="::!backupSettingsCtrl.isUnifiGo"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_BACKUP_SECTION_AUTO_BACKUP"></div><div class="appRow"><div class="col--sm3 flex-centered-vertically"><label class="appLabel appLabel--primary mb-0" for="autoBackupEnable" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_ENABLE"></label><div class="ubntTooltipContainer ubntTooltipContainer--hoverable ml-2" ng-if="backupSettingsCtrl.isCloudKeySdCardCheckAvailable()"><unifi-aura-icon unifi-aura-icon="\'info\'" unifi-aura-icon-class="[\'ubntIcon\', \'color-primary\']"></unifi-aura-icon><div class="ubntTooltip ubntTooltip--topCenter" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_DISABLED_TOOLTIP"></div></div></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="autoBackupEnable" id="autoBackupEnable" ng-model="modelFormCtrl.modelCopy.attributes.autobackup_enabled" ng-model-master="modelFormCtrl.model.attributes.autobackup_enabled" ng-disabled="backupSettingsCtrl.isCloudKeySdCardCheckAvailable()"><label for="autoBackupEnable"></label></div></div></div></div><div class="appRow" ng-if="modelFormCtrl.setVisibility(\'autobackup-enabled\', modelFormCtrl.modelCopy.attributes.autobackup_enabled)"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_OCCURRENCE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><cron-selection class="appInputGroup" ng-model="modelFormCtrl.modelCopy.attributes.autobackup_cron_expr" ng-init="modelFormCtrl.modelCopy.attributes.autobackup_cron_expr = modelFormCtrl.model.attributes.autobackup_cron_expr = (modelFormCtrl.modelCopy.attributes.autobackup_cron_expr || backupSettingsCtrl.MONTHLY_OCCURANCE)" template="partials/cronSelection.html" config="backupSettingsCtrl.cronConfig"></cron-selection></div></div><div class="appRow" ng-if="modelFormCtrl.setVisibility(\'autobackup-enabled\', modelFormCtrl.modelCopy.attributes.autobackup_enabled)"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_OCCURRENCE_TIMEZONE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><select name="backupTimezone" ng-init="modelFormCtrl.modelCopy.attributes.autobackup_timezone = modelFormCtrl.model.attributes.autobackup_timezone = (modelFormCtrl.modelCopy.attributes.autobackup_timezone || backupSettingsCtrl.getControllerTimezone())" ng-model="modelFormCtrl.modelCopy.attributes.autobackup_timezone" ng-model-master="modelFormCtrl.model.attributes.autobackup_timezone" ng-options="timezone.timezone as timezone.name for timezone in backupSettingsCtrl.timezones | orderBy:[\'offsetMinutes\', \'name\']"'+o("required",!0,!0,!0)+'><option unifi-option-placeholder="SETTINGS_SITE_VALUES_SELECT_TIMEZONE"></option></select></div></div><div class="appRow" ng-if="modelFormCtrl.getVisibility(\'autobackup-enabled\')"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_MAX_FILES"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input class="input--smallNumber" type="number" min="1" name="autoBackupMaxFiles" ng-init="modelFormCtrl.modelCopy.attributes.autobackup_max_files = modelFormCtrl.model.attributes.autobackup_max_files = (modelFormCtrl.modelCopy.attributes.autobackup_max_files || 7)" id="autoBackupMaxFiles" ng-model="modelFormCtrl.modelCopy.attributes.autobackup_max_files" ng-model-master="modelFormCtrl.model.attributes.autobackup_max_files"'+o("required",!0,!0,!0)+'></div></div></div><div class="appRow" ng-if="modelFormCtrl.getVisibility(\'autobackup-enabled\')"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_DAYS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup inlineBlock"><select name="autoBackupDays" id="autoBackupDays" ng-init="modelFormCtrl.modelCopy.attributes.autobackup_days = (modelFormCtrl.modelCopy.attributes.autobackup_days | parseInt) || 0" ng-model="modelFormCtrl.modelCopy.attributes.autobackup_days" ng-options="option.value as option.translationKey | translate:option.translationParams:\'messageformat\' for option in backupSettingsCtrl.dataRetentionOptions"></select></div></div></div></div><div class="unifiSettingsSection" ng-if="backupSettingsCtrl.isCloudConnected() &amp;&amp; !backupSettingsCtrl.isUnifiGo &amp;&amp; (\'enableCloudBackups\' | featureFlagEnable)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_BACKUP_SECTION_BACKUP_TO_CLOUD"></div><div class="appRow"><div class="col--sm3 flex-centered-vertically"><label class="appLabel appLabel--primary mb-0" for="backupToCloudEnable" translate="SETTINGS_BACKUP_LABEL_BACKUP_TO_CLOUD_ENABLE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="backupToCloudEnable" id="backupToCloudEnable" ng-model="modelFormCtrl.modelCopy.attributes.backup_to_cloud_enabled" ng-model-master="modelFormCtrl.model.attributes.backup_to_cloud_enabled" ng-disabled="backupSettingsCtrl.isCloudKeySdCardCheckAvailable()"><label for="backupToCloudEnable"></label></div></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_BACKUP_SECTION_BACKUP_RESTORE"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_BACKUP_LABEL_DOWNLOAD_BACKUP"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><select name="maintenanceBackupDays" id="maintenanceBackupDays" ng-model="backupSettingsCtrl.downloadBackupDays" ng-init="backupSettingsCtrl.downloadBackupDays = 7" ng-options="dayOption.days as dayOption.translationKey | translate:dayOption.translationParams:\'messageformat\' for dayOption in backupSettingsCtrl.downloadBackupOptions"></select></div><button class="appMainButton appMainButton--primary appMainButton--cozy downloadBackup" type="button" ng-click="backupSettingsCtrl.downloadBackup()" busy-toggle="backupSettingsCtrl.isDownloadingBackup" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_BACKUP_ACTIONS_DOWNLOAD_FILE\' | translate}}</button></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_BACKUP_LABEL_RESTORE_BACKUP"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="shelfCenter appInputGroup appInputGroup--cozy"><div class="inflexible"><div class="appInputGroup inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy restoreFile" type="file"'+o("ngf-select",!0,!0,!0)+' ngf-change="backupSettingsCtrl.restoreSettings($files)" busy-toggle="backupSettingsCtrl.isRestoringFromBackup" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_BACKUP_ACTIONS_UPLOAD_FILE\' | translate}}</button></div></div><div class="flexible"><div class="ubntStatusBar ubntStatusBar--success" ng-if="backupSettingsCtrl.restoreProgress &amp;&amp; backupSettingsCtrl.restoreProgress.hasOwnProperty(\'percent\')"><div class="ubntStatusBar__status" style="width: {{backupSettingsCtrl.restoreProgress.percent || 0}}%;"></div></div></div></div></div></div></div><div class="unifiSettingsSection" ng-if="!backupSettingsCtrl.isUnifiGo"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_BACKUP_LABEL_AVAILABLE_BACKUPS"></div><unifi-backup-list unifi-backup-list-is-download-available="true" unifi-backup-list-is-delete-available="true" unifi-backup-list-filter-type="backupSettingsCtrl.backupFilters.type" unifi-backup-list-filter-controller="backupSettingsCtrl.backupFilters.controller"></unifi-backup-list></div></ng-form></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+o("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="::!backupSettingsCtrl.isUnifiGo"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="backupSettingsCtrl.showValidation = true" busy-toggle="backupSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="backupSettingsCtrl.reset()" ng-disabled="backupSettingsCtrl.form.$pristine">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],15:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("CloudAccessSettingsController",["$translate","account","BaseSettingsController","frame","heyToasts","sdn","sdnUtils","settings","SettingsModelFactory","system",function(t,e,n,o,l,u,c,d,m,f){return new(function(_){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(y,n);var g,S,b,v=a(y);function y(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return p(s(t=v.call.apply(v,[this].concat(o))),"account",e),p(s(t),"CloudDashboardHost",c.getCloudDashboardHost()),p(s(t),"sdn",u),p(s(t),"settingsSection","cloud_access"),p(s(t),"super_sdn",d.getSettingFromKey("super_sdn")||m({key:"super_sdn"})),p(s(t),"cloudaccess",d.getSettingFromKey("super_cloudaccess")||m({key:"super_cloudaccess"})),t}return g=y,(S=[{key:"save",value:function(){this.isSubmitting=!0;var t=this.forms.sdn.modelCopy.attributes.enabled,e=this.forms.super_sdn.modelCopy.attributes,n=e.oauth_enabled,o=e.sso_login_enabled,i=e.oauth_redirect_uris,r=[],a=this.saveSection(this.getSdnSettings(),{enabled:t}).then(function(t){return u.fetchWithPolling(),t}),s=this.saveSection(this.getSettingFromKey("super_sdn"),{oauth_enabled:n,oauth_redirect_uris:i||[],sso_login_enabled:o});return r.push(a),r.push(s),this.afterSave(r)}},{key:"onCloudAccessEnabledChange",value:function(){var t=this,e=this.forms.sdn.modelCopy.attributes.enabled,n=this.getSdnSettings();!e||n&&n.get("ubic_uuid")||this.registerUser().catch(function(){t.forms.sdn.modelCopy.attributes.enabled=!1}),e||(this.forms.super_sdn.modelCopy.attributes.oauth_enabled=!1)}},{key:"onSsoLoginEnabledChange",value:function(){var t=this.forms.super_sdn.modelCopy.attributes;t.sso_login_enabled&&(t.oauth_enabled=!1)}},{key:"onOauthLoginEnabledChange",value:function(){var t=this.forms.super_sdn.modelCopy.attributes;t.oauth_enabled&&(t.sso_login_enabled=!1)}},{key:"unregisterOwner",value:function(){var n=this;o.show("confirm",{title:function(){return t.instant("SETTINGS_CLOUD_ACCESS_UNREGISTER_CONFIRM_TITLE")},message:function(){return t.instant("SETTINGS_CLOUD_ACCESS_UNREGISTER_CONFIRM_MESSAGE")},options:function(){return{warningIconInTitle:!0}}}).then(function(){return n.forms.sdn.modelCopy.attributes.enabled=!1,n.forms.super_sdn.modelCopy.attributes.oauth_enabled=!1,n.isSubmitting=!0,u.unregisterOwner().then(function(){return e.repository.refresh()}).then(function(){return d.repository.refresh()}).then(function(){return u.repository.refresh()}).catch(function(t){return l.pushError(t),n.reset(),!1}).finally(function(){n.isSubmitting=!1})})}},{key:"unregisterUser",value:function(){var t=this;return this.isSubmitting=!0,u.unregister().finally(function(){t.isSubmitting=!1})}},{key:"registerUser",value:function(t){var e=this;return this.isSubmitting=!0,c.enableRemoteAccess(t).finally(function(){e.isSubmitting=!1})}},{key:"isUsernameVisible",value:function(){return e.hasEnabledFor()}},{key:"isOwner",value:function(){return c.isOwner()}},{key:"getSdnSettings",value:function(){return this.getSettingFromKey("super_cloudaccess",{},!0)}},{key:"isUnregisterVisible",value:function(){return e.hasEnabledFor()&&e.isSuperAdmin()&&!f.isUnifiGo()&&this.isOwner()}},{key:"isUnregisterUserVisible",value:function(){return e.hasEnabledFor()&&(!this.isOwner()||!u.isRegistered())}},{key:"isRegisterUserVisible",value:function(){return!e.hasEnabledFor()&&(this.isRegisteredAndEnabled()||this.isSsoLoginEnabled())}},{key:"isRegisteredAndEnabled",value:function(){return u.isRegistered()&&u.isEnabled()}},{key:"isSsoLoginEnabled",value:function(){return u.isSsoLoginEnabled()}},{key:"isActionVisible",value:function(){return c.canEnableRemoteAccess()}},{key:"isConnecting",value:function(){return u.isConnecting()}},{key:"getPreconfiguredRedirectURIs",value:function(){var t=f.repository.model,e=t.get("https_port"),n=t.get("ip_addrs"),o=t.get("hostname"),i=["127.0.0.1","localhost"].concat(n).concat(o).filter(function(t){return!!t}).map(function(t){return"https://"+t+(443!==e?":"+e:"")+"/manage/oauth.html"}).sort();return Array.from(new Set(i))}},{key:"removeRedirectUri",value:function(t){this.forms.super_sdn.modelCopy.attributes.oauth_redirect_uris.splice(t,1)}},{key:"addRedirectUri",value:function(){var t=this.forms.super_sdn.modelCopy.attributes;t.oauth_redirect_uris||(t.oauth_redirect_uris=[]),t.oauth_redirect_uris.push("")}}])&&i(g.prototype,S),b&&i(g,b),y}())}])},{}],16:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiCloudAccessSettings",{controller:"CloudAccessSettingsController",controllerAs:"cloudAccessSettingsCtrl",template:t("./cloudAccessSettings.pug")()})},{"./cloudAccessSettings.pug":17}],17:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="cloudAccessSettings"><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="cloudAccessSettingsCtrl.form" ng-class="{      \'is-form-validation-visible\': cloudAccessSettingsCtrl.showValidation,      \'is-validation-hidden\': !cloudAccessSettingsCtrl.showValidation    }" ng-submit="cloudAccessSettingsCtrl.form.$valid &amp;&amp; cloudAccessSettingsCtrl.save()"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_CLOUD_ACCESS"></div></div><unifi-config-changed unifi-config-changed-on-reset="cloudAccessSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="cloudAccessSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="cloudAccessSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet"><ng-form name="cloudAccessSettingsCtrl.forms.super_sdn" unifi-model-form="cloudAccessSettingsCtrl.super_sdn"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_CLOUD_ACCESS_SECTION_CONTROLLER"></div><div class="appRow" ng-if="cloudAccessSettingsCtrl.isActionVisible()"><ng-form name="cloudAccessSettingsCtrl.forms.sdn" unifi-model-form="cloudAccessSettingsCtrl.sdn.repository.model"><div class="col--sm3"><label class="appLabel appLabel--primary" for="cloudAccessEnable" translate="SETTINGS_CLOUD_ACCESS_LABEL_ENABLE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                      \'is-toggle-disabled\': cloudAccessSettingsCtrl.isSubmitting                    }"><input type="checkbox" name="cloudAccessEnable" id="cloudAccessEnable" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled" ng-change="cloudAccessSettingsCtrl.onCloudAccessEnabledChange()" ng-disabled="cloudAccessSettingsCtrl.isSubmitting"><label for="cloudAccessEnable"></label></div></div></div></ng-form></div><div class="appRow" ng-if="cloudAccessSettingsCtrl.isActionVisible()"><div class="col--sm3"><label class="appLabel appLabel--primary" for="cloudAccessSsoLoginEnable" translate="SETTINGS_CLOUD_ACCESS_LABEL_SSO_LOGIN_ENABLE"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_CLOUD_ACCESS_TOOLTIP_SSO_LOGIN"></content></unifi-tooltip></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><unifi-tooltip class="ubntTooltip--small" unifi-tooltip-disabled="!modelFormCtrl.modelCopy.attributes.oauth_enabled"><content translate="SETTINGS_CLOUD_ACCESS_TOOLTIP_SSO_LOGIN_WITH_OAUTH"></content><prompt><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                        \'is-toggle-disabled\': cloudAccessSettingsCtrl.isSubmitting || modelFormCtrl.modelCopy.attributes.oauth_enabled                      }"><input type="checkbox" name="cloudAccessSsoLoginEnable" id="cloudAccessSsoLoginEnable" ng-model="modelFormCtrl.modelCopy.attributes.sso_login_enabled" ng-model-master="modelFormCtrl.model.attributes.sso_login_enabled" ng-change="cloudAccessSettingsCtrl.onSsoLoginEnabledChange()" ng-disabled="cloudAccessSettingsCtrl.isSubmitting || modelFormCtrl.modelCopy.attributes.oauth_enabled"><label for="cloudAccessSsoLoginEnable"></label></div></prompt></unifi-tooltip></div></div></div><div class="appRow" ng-if="(\'enableOAuthLogin\' | featureFlagEnable) &amp;&amp; cloudAccessSettingsCtrl.isActionVisible()"><div class="col--sm3"><label class="appLabel appLabel--primary" for="oAuthLoginEnable" translate="SETTINGS_CLOUD_ACCESS_LABEL_OAUTH_ENABLE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><unifi-tooltip class="type-large ubntTooltip--small" ng-if="!cloudAccessSettingsCtrl.forms.sdn.modelCopy.attributes.enabled || modelFormCtrl.modelCopy.attributes.sso_login_enabled"><prompt><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                        \'is-toggle-disabled\': cloudAccessSettingsCtrl.isSubmitting || !cloudAccessSettingsCtrl.forms.sdn.modelCopy.attributes.enabled || modelFormCtrl.modelCopy.attributes.sso_login_enabled                      }"><input type="checkbox" name="oAuthLoginEnable" id="oAuthLoginEnable" ng-model="modelFormCtrl.modelCopy.attributes.oauth_enabled" ng-model-master="modelFormCtrl.model.attributes.oauth_enabled" ng-change="cloudAccessSettingsCtrl.onOauthLoginEnabledChange()" ng-disabled="cloudAccessSettingsCtrl.isSubmitting || !cloudAccessSettingsCtrl.forms.sdn.modelCopy.attributes.enabled || modelFormCtrl.modelCopy.attributes.sso_login_enabled"><label for="oAuthLoginEnable"></label></div></prompt><content><span ng-if="!cloudAccessSettingsCtrl.forms.sdn.modelCopy.attributes.enabled" translate="SETTINGS_CLOUD_ACCESS_TOOLTIP_OAUTH_REQUIRES_CLOUD"></span><span ng-if="cloudAccessSettingsCtrl.forms.sdn.modelCopy.attributes.enabled &amp;&amp; modelFormCtrl.modelCopy.attributes.sso_login_enabled" translate="SETTINGS_CLOUD_ACCESS_TOOLTIP_SSO_LOGIN_WITH_OAUTH"></span></content></unifi-tooltip></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CLOUD_ACCESS_LABEL_STATUS"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><unifi-sdn-status></unifi-sdn-status></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="cloudAccessSettingsCtrl.sdn.isCloudDebugEnv()"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">This application is configured to use services in a {{cloudAccessSettingsCtrl.sdn.getCloudEnv()}} environment.</p></div></div></div></div></div><div class="appRow" ng-if="!cloudAccessSettingsCtrl.isActionVisible()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CLOUD_ACCESS_LABEL_SSO_LOGIN_STATUS"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><h5 class="noMarginBottom"><span class="appBadge" ng-class="{                      \'appBadge--medium\': !cloudAccessSettingsCtrl.isSsoLoginEnabled(),                      \'appBadge--success\': cloudAccessSettingsCtrl.isSsoLoginEnabled()                    }" translate="SETTINGS_CLOUD_ACCESS_LABEL_SSO_LOGIN_STATUS_{{cloudAccessSettingsCtrl.isSsoLoginEnabled() ? \'ENABLED\' : \'DISABLED\'}}"></span></h5></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-switch="cloudAccessSettingsCtrl.isOwner()"><span ng-switch-when="true" translate="SETTINGS_CLOUD_ACCESS_SECTION_OWNER"></span><span ng-switch-when="false" translate="SETTINGS_CLOUD_ACCESS_SECTION_USER"></span></div><div class="appRow" ng-if="cloudAccessSettingsCtrl.isRegisteredAndEnabled()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CLOUD_ACCESS_LABEL_DASHBOARD"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><label><a class="appLink" ng-href="{{cloudAccessSettingsCtrl.CloudDashboardHost}}">{{cloudAccessSettingsCtrl.CloudDashboardHost}}</a></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CLOUD_ACCESS_LABEL_CONFIGURED_FOR"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup" ng-if="cloudAccessSettingsCtrl.isUsernameVisible()"><label>{{cloudAccessSettingsCtrl.account.getSsoUsername(true)}}</label></div><div class="appInputGroup" ng-if="!cloudAccessSettingsCtrl.isUsernameVisible()"><h5 class="noMarginBottom"><span class="appBadge appBadge--medium" translate="SETTINGS_CLOUD_ACCESS_LABEL_STATUS_NOT_CONFIGURED"></span></h5></div></div></div><div class="appRow" ng-if="cloudAccessSettingsCtrl.isUnregisterUserVisible()"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><button class="appMainButton appMainButton--danger appMainButton--cozy unregisterUser" type="button" ng-click="cloudAccessSettingsCtrl.unregisterUser()" busy-toggle="cloudAccessSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_CLOUD_ACCESS_ACTIONS_DISABLE_REMOVE_USER\' | translate}}</button></div></div></div><div class="appRow" ng-if="cloudAccessSettingsCtrl.isRegisterUserVisible()"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><button class="appMainButton appMainButton--primary appMainButton--cozy registerUser" type="button" ng-click="cloudAccessSettingsCtrl.registerUser(true)" busy-toggle="cloudAccessSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_CLOUD_ACCESS_ACTIONS_ENABLE_USER\' | translate}}</button></div></div></div></div><div class="unifiSettingsSection" ng-if="::(\'enableOAuthLogin\' | featureFlagEnable) &amp;&amp; cloudAccessSettingsCtrl.isActionVisible()"><div class="appSubHeading appSubHeading--comfy" ng-click="cloudAccessSettingsCtrl.isAdvancedExpanded = !cloudAccessSettingsCtrl.isAdvancedExpanded" ng-class="cloudAccessSettingsCtrl.isAdvancedExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="COMMON_SECTION_ADVANCED_OPTIONS"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="cloudAccessSettingsCtrl.isAdvancedExpanded"><div class="appRow" ng-if="::(\'enableOAuthLogin\' | featureFlagEnable)"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CLOUD_ACCESS_LABEL_OAUTH_REDIRECT_URIS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy" ng-repeat="uri in cloudAccessSettingsCtrl.getPreconfiguredRedirectURIs()"><input class="input--half" type="url" ng-value="uri"'+o("disabled",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy" ng-repeat="uri in modelFormCtrl.modelCopy.attributes.oauth_redirect_uris track by $index"><input class="input--half" type="url" name="oAuthAccessRedirectURI{{$index}}" id="oAuthAccessRedirectURI{{$index}}" ng-model="modelFormCtrl.modelCopy.attributes.oauth_redirect_uris[$index]" placeholder="https://yourdomain.com:8443/manage/oauth.html"'+o("required",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="cloudAccessSettingsCtrl.removeRedirectUri($index)" ng-disabled="!cloudAccessSettingsCtrl.isSuperAdmin()" title="{{\'SETTINGS_CLOUD_ACCESS_LABEL_OAUTH_REMOVE_REDIRECT_URI\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-if="cloudAccessSettingsCtrl.isSuperAdmin()"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRestrictedSubnet" type="button" ng-click="cloudAccessSettingsCtrl.addRedirectUri()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_CLOUD_ACCESS_LABEL_OAUTH_ADD_REDIRECT_URI"></span></button></div></div></div></fieldset></div></ng-form></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-if="cloudAccessSettingsCtrl.isActionVisible()"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="cloudAccessSettingsCtrl.showValidation = true" busy-toggle="cloudAccessSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="cloudAccessSettingsCtrl.reset()" ng-disabled="cloudAccessSettingsCtrl.form.$pristine">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div><div class="appFormFooter__right"><button class="appMainButton appMainButton--danger unregisterOwner" type="button" ng-click="cloudAccessSettingsCtrl.unregisterOwner()" ng-if="cloudAccessSettingsCtrl.isUnregisterVisible()" busy-toggle="cloudAccessSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_CLOUD_ACCESS_ACTIONS_DISABLE_REMOVE\' | translate}}</button></div></div></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],18:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("ControllerSettingsController",["$q","$translate","account","heyToasts","featureFlag","frame","BaseSettingsController","controllerWarnings","sdn","settings","system","ReporterMgrModel","EASTER_EGGS","REGEX_PATTERNS","LIVE_UPDATES_LEVELS","SWAI_PROPS","URLS",function(t,e,n,o,l,u,c,d,m,f,_,g,S,b,v,y,T){return new(function(E){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(w,c);var C,I,h,N=a(w);function w(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,w);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return p(s(t=N.call.apply(N,[this].concat(o))),"isStandalone",y.isStandalone),p(s(t),"account",n),p(s(t),"controllerWarnings",d),p(s(t),"featureFlag",l),p(s(t),"system",_),p(s(t),"settingsSection","controller"),p(s(t),"EASTER_EGGS",S),p(s(t),"URLS",T),p(s(t),"patterns",{email:b.EMAIL,name:b.NAME,hostname:b.HOSTNAME,ipAddress:b.IPV4_ADDRESS,portNumber:b.PORT_NUMBER}),p(s(t),"liveUpdatesOptions",[{id:v.AUTO,translationKey:"SETTINGS_CONTROLLER_VALUES_LIVE_UPDATES_AUTO"},{id:v.ENABLED,translationKey:"SETTINGS_CONTROLLER_VALUES_LIVE_UPDATES_ENABLED"},{id:v.DISABLED,translationKey:"SETTINGS_CONTROLLER_VALUES_LIVE_UPDATES_DISABLED"}]),p(s(t),"isOnUdm",_.isUdm()),p(s(t),"isCloudConsole",_.isCloudConsole()),t}return C=w,(I=[{key:"confirmOverrideInformHost",value:function(){var t=this;this.forms.super_mgmt1.modelCopy.attributes.override_inform_host&&u.show("confirm",{title:function(){return e.instant("SETTINGS_CONTROLLER_CONFIRM_OVERRIDE_INFORM_HOST_TITLE")},message:function(){return e.instant("SETTINGS_CONTROLLER_CONFIRM_OVERRIDE_INFORM_HOST_MESSAGE")},options:angular.noop}).catch(function(){t.forms.super_mgmt1.modelCopy.attributes.override_inform_host=!1})}},{key:"confirmInformHostChange",value:function(){if(this.forms.super_mgmt1&&this.forms.super_identity){var n=this.getSettingFromKey("super_identity",null,!0).get("hostname"),o=this.forms.super_identity.modelCopy.attributes.hostname,i=this.getSettingFromKey("super_mgmt",null,!0).get("override_inform_host"),r=this.forms.super_mgmt1.modelCopy.attributes.override_inform_host;if(i&&r&&n!==o)return u.show("confirm",{title:function(){return e.instant("SETTINGS_CONTROLLER_CONFIRM_CHANGE_INFORM_HOST_TITLE")},message:function(){return e.instant("SETTINGS_CONTROLLER_CONFIRM_CHANGE_INFORM_HOST_MESSAGE",{host:o})},options:angular.noop})}return t.when()}},{key:"sendCloudTestEmail",value:function(t){var e=this;this.isSendingTestEmail=!0,o.handlePromise(f.sendTestEmail(void 0,t,"cloud")).finally(function(){e.isSendingTestEmail=!1})}},{key:"sendSmtpTestEmail",value:function(t,e){var n=this;t.$valid?(this.isSendingTestEmail=!0,o.handlePromise(f.sendTestEmail(t.modelCopy,e,"smtp")).finally(function(){n.isSendingTestEmail=!1})):this.showValidation=!0}},{key:"savePreflight",value:function(){var t=this;return this.confirmInformHostChange().then(function(){t.save()})}},{key:"save",value:function(){var t=this,e=[];return angular.forEach(["super_mail","super_smtp","super_identity"],function(n){t.forms[n]&&t.forms[n].modelCopy&&e.push(t.saveSection(t.getSettingFromKey(n),t.forms[n].modelCopy.attributes,n))}),e.push(this.saveReportApproved()),e.push(this.saveSection(this.getSettingFromKey("super_mgmt"),this.getSuperMgmtAttributes(),"super_mgmt")),this.afterSave(e).finally(function(){_.repository.refresh(),f.repository.refresh()})}},{key:"getSuperMgmtAttributes",value:function(){var t={};return this.forms.super_mgmt1&&this.forms.super_mgmt1.modelCopy&&angular.extend(t,{override_inform_host:this.forms.super_mgmt1.modelCopy.attributes.override_inform_host,discoverable:!this.isOnUdm&&this.forms.super_mgmt1.modelCopy.attributes.discoverable,live_updates:this.forms.super_mgmt1.modelCopy.attributes.live_updates,enable_analytics:this.forms.super_mgmt1.modelCopy.attributes.enable_analytics}),this.forms.super_mgmt2&&this.forms.super_mgmt2.modelCopy&&angular.extend(t,{google_maps_api_key:this.forms.super_mgmt2.modelCopy.attributes.google_maps_api_key}),t}},{key:"saveReportApproved",value:function(){if(this.forms.statistics_report&&this.forms.statistics_report.modelCopy){var n=this.forms.statistics_report.modelCopy.attributes;return(new g).save({cmd:n.report_approved?"approve":"disapprove",approved_terms_version:n.terms_version,report_device_stats:n.report_approved}).then(function(){return!0}).catch(function(){return o.pushError(e.instant("SETTINGS_CONTROLLER_ERROR_STATS_REPORT_SAVE_FAILED")),!1})}return t.resolve(!0)}},{key:"isCloudConnected",value:function(){return m.isConnected()}},{key:"isCloudEmailEnabled",value:function(){return this.forms.super_mail.modelCopy&&"cloud"===this.forms.super_mail.modelCopy.attributes.provider}}])&&i(C.prototype,I),h&&i(C,h),w}())}])},{}],19:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiControllerSettings",{controller:"ControllerSettingsController",controllerAs:"controllerSettingsCtrl",template:t("./controllerSettings.pug")()})},{"./controllerSettings.pug":20}],20:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="controllerSettings"><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="controllerSettingsCtrl.form" ng-class="{      \'is-form-validation-visible\': controllerSettingsCtrl.showValidation,      \'is-validation-hidden\': !controllerSettingsCtrl.showValidation    }" ng-submit="controllerSettingsCtrl.form.$valid &amp;&amp; controllerSettingsCtrl.savePreflight()"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_CONTROLLER"></div></div><unifi-config-changed unifi-config-changed-on-reset="controllerSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="controllerSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="controllerSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!controllerSettingsCtrl.isAdmin()"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_CONTROLLER_SECTION_ABOUT"></div><div class="appRow appRow--cozy"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_CONTROLLER_UI_VERSION"></label></div><div class="col--sm9"><label class="appLabel">{{\'VERSION\' | constant}}</label></div></div><div class="appRow appRow--cozy"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_CONTROLLER_BACKEND_VERSION"></label></div><div class="col--sm9"><label class="appLabel">{{controllerSettingsCtrl.system.repository.model.get(\'version\')}}</label></div></div><div class="appRow appRow--cozy" ng-if="controllerSettingsCtrl.system.repository.model.get(\'build\')"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_CONTROLLER_BUILD"></label></div><div class="col--sm9"><label class="appLabel">{{controllerSettingsCtrl.system.repository.model.get(\'build\')}}</label></div></div><div class="appRow appRow--cozy"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="ABOUT_UBIQUITI_LABEL"></label></div><div class="col--sm9"><label class="appLabel type-comfy-line-height">Ubiquiti Networks, Inc.<br>685 Third Avenue, 27th floor<br>New York, New York 10017<br>USA</label></div></div>\x3c!-- temporary hide device limit--\x3e\x3c!-- https://github.com/ubiquiti/unifi-sdn/issues/272--\x3e\x3c!--.appRow.appRow--cozy(--\x3e\x3c!--  unifi-if-role-admin--\x3e\x3c!--  unifi-if-role-admin-and="controllerSettingsCtrl.controllerWarnings.getDevicesLimit()"--\x3e\x3c!--  ng-init="limit = controllerSettingsCtrl.controllerWarnings.getDevicesLimit()"--\x3e\x3c!--)--\x3e\x3c!--  .col--sm3--\x3e\x3c!--    label.appLabel.appLabel--primary(--\x3e\x3c!--      translate="SETTINGS_CONTROLLER_LABEL_DEVICES_LIMIT"--\x3e\x3c!--    )--\x3e\x3c!----\x3e\x3c!--  .col--sm4--\x3e\x3c!--    .flexFlag.flexFlag--centered--\x3e\x3c!--      .flexFlag__body.inflexible.noMarginTop.appInputHelp.horizontalRhythm--cozy--\x3e\x3c!--        | {{limit.adopted}} / {{limit.limit}}--\x3e\x3c!----\x3e\x3c!--      .flexFlag__body.ubntStatusBar(--\x3e\x3c!--        ng-class="{\\--\x3e\x3c!--          \'ubntStatusBar--danger\': limit.adopted / limit.limit > 0.9,\\--\x3e\x3c!--          \'ubntStatusBar--warning\': limit.adopted / limit.limit > 0.8 && limit.adopted / limit.limit < 0.9,\\--\x3e\x3c!--          \'ubntStatusBar--success\': limit.adopted / limit.limit < 0.8\\--\x3e\x3c!--        }"--\x3e\x3c!--      )--\x3e\x3c!--        .ubntStatusBar__status(--\x3e\x3c!--          ng-style="{\\--\x3e\x3c!--            \'width\': (limit.adopted / limit.limit * 100) + \'%\'\\--\x3e\x3c!--          }"--\x3e\x3c!--        )--\x3e<div class="appRow appRow--cozy" ng-if="controllerSettingsCtrl.system.isDemoMode()"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_CONTROLLER_LABEL_CONTROLLER_PLATFORM"></label></div><div class="col--sm9"><label class="appLabel" translate="SETTINGS_CONTROLLER_LABEL_UNIFI_ELITE_TEASER" translate-values="{version: controllerSettingsCtrl.EASTER_EGGS.ELITE_TEASER_VERSION}"></label></div></div></div><div class="unifiSettingsSection verticalRhythmTop--comfy"'+o("unifi-if-role-super-admin",!0,!0,!0)+'><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_CONTROLLER_SECTION_CONTROLLER"></div><ng-form name="controllerSettingsCtrl.forms.super_identity" unifi-model-form="controllerSettingsCtrl.getSettingFromKey(\'super_identity\', null, true)"><div class="appRow" ng-if="controllerSettingsCtrl.isStandalone"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_CONTROLLER_LABEL_CONTROLLER_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="controllerHostname" ng-model="modelFormCtrl.modelCopy.attributes.name" ng-model-master="modelFormCtrl.model.attributes.name"></div></div><div class="appRow" ng-if="controllerSettingsCtrl.isStandalone"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_CONTROLLER_LABEL_CONTROLLER_HOSTNAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy" ng-if="controllerSettingsCtrl.system.isUnifiGo()"><div class="appInputGroup appInputGroup--cozy">{{modelFormCtrl.model.attributes.hostname}}</div></div><div class="col--sm5 appFormGroup appFormGroup--cozy" ng-if="!controllerSettingsCtrl.system.isUnifiGo()"><input class="input--full" type="text" name="controllerHostname" ng-model="modelFormCtrl.modelCopy.attributes.hostname" ng-model-master="modelFormCtrl.model.attributes.hostname" unifi-validate-patterns="[                  controllerSettingsCtrl.patterns.hostname,                  controllerSettingsCtrl.patterns.ipAddress                ]"><div class="appInputFeedback appInputFeedback--danger" ng-if="modelFormCtrl.form.controllerHostname.$invalid" translate="VALIDATION_HINT_HOSTNAME_OR_IP"></div></div></div></ng-form><ng-form name="controllerSettingsCtrl.forms.super_mgmt1" unifi-model-form="controllerSettingsCtrl.getSettingFromKey(\'super_mgmt\', null, true)"><div class="appRow" ng-if="!controllerSettingsCtrl.system.isUnifiGo() &amp;&amp; controllerSettingsCtrl.isStandalone"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="controllerOverrideInformHost" id="controllerOverrideInformHost" ng-model="modelFormCtrl.modelCopy.attributes.override_inform_host" ng-model-master="modelFormCtrl.model.attributes.override_inform_host" ng-change="controllerSettingsCtrl.confirmOverrideInformHost()"><label for="controllerOverrideInformHost" translate="SETTINGS_CONTROLLER_VALUES_OVERRIDE_INFORM_HOST"></label></div></div></div><div class="appRow" ng-if="::!controllerSettingsCtrl.system.isUnifiGo() &amp;&amp; !controllerSettingsCtrl.isOnUdm &amp;&amp; !controllerSettingsCtrl.isCloudConsole"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_NETWORK_DISCOVERY"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="controllerEnableNetworkDiscovery" id="controllerEnableNetworkDiscovery" ng-model="modelFormCtrl.modelCopy.attributes.discoverable" ng-model-master="modelFormCtrl.model.attributes.discoverable"><label for="controllerEnableNetworkDiscovery" translate="SETTINGS_CONTROLLER_VALUES_NETWORK_DISCOVERY"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_LIVE_UPDATES"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select class="select--full" name="controllerLiveUpdateEnabled" id="controllerLiveUpdateEnabled" ng-model="modelFormCtrl.modelCopy.attributes.live_updates" ng-options="liveUpdates.id as liveUpdates.translationKey | translate for liveUpdates in controllerSettingsCtrl.liveUpdatesOptions"></select></div></div><div class="col--sm4 pull-left appFormGroup appFormGroup--cozy noPaddingLeft pt-1"><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_CONTROLLER_LABEL_LIVE_UPDATES_TOOLTIP"></content></unifi-tooltip></div></div><div class="appRow" ng-if="::controllerSettingsCtrl.isStandalone"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_ENABLE_ANALYTICS"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="enableAnalytics" id="enableAnalytics" ng-model="modelFormCtrl.modelCopy.attributes.enable_analytics" ng-model-master="modelFormCtrl.model.attributes.enable_analytics"><label for="enableAnalytics"></label></div></div></div><div class="appRow" ng-if="::controllerSettingsCtrl.isStandalone"><div class="col--sm7 col--smOffset3"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy"><div class="appInfoBox__icon icon ubnt-icon--eye2"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="appLinkContainer noMarginBottom" translate="SETTINGS_CONTROLLER_INFO_BOX_ENABLE_ANALYTICS" translate-values="{link: \'https://www.ui.com/legal/privacypolicy\'}"></p></div></div></div></div></div></ng-form></div><div class="unifiSettingsSection"'+o("unifi-if-role-super-admin",!0,!0,!0)+' unifi-if-role-super-admin-and="!controllerSettingsCtrl.system.isUnifiGo() &amp;&amp; controllerSettingsCtrl.featureFlag.isEnabled(\'enableReporterManager\')"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_CONTROLLER_SECTION_STATS_REPORT"></div><ng-form name="controllerSettingsCtrl.forms.statistics_report" unifi-model-form="controllerSettingsCtrl.getSettingFromKey(\'super_mgmt\', null, true)"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_STATS_REPORT"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--flex"><input type="checkbox" name="controllerReportApproved" id="controllerReportApproved" ng-model="modelFormCtrl.modelCopy.attributes.report_approved" ng-model-master="modelFormCtrl.model.attributes.report_approved"><label for="controllerReportApproved" translate="SETTINGS_CONTROLLER_VALUES_STATS_REPORT"></label></div></div></div><div class="appRow"><div class="col--sm7 col--smOffset3"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy"><div class="appInfoBox__icon icon ubnt-icon--eye2"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="appLinkContainer noMarginBottom" translate="SETTINGS_CONTROLLER_INFO_BOX_STATS_REPORT" translate-values="{                        \'linkTerms\': controllerSettingsCtrl.URLS.LEGAL_TOS,                        \'linkPrivacy\': controllerSettingsCtrl.URLS.LEGAL_PP                      }"></p></div></div></div></div></div></ng-form></div><div class="unifiSettingsSection"'+o("unifi-if-role-super-admin",!0,!0,!0)+' unifi-if-role-super-admin-and="!controllerSettingsCtrl.system.isUnifiGo() &amp;&amp; !controllerSettingsCtrl.isCloudConsole"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_CONTROLLER_SECTION_FLOORPLAN"></div><ng-form name="controllerSettingsCtrl.forms.super_mgmt2" unifi-model-form="controllerSettingsCtrl.getSettingFromKey(\'super_mgmt\', null, true)"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_GOOGLE_MAPS_API_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="controllerGoogleMapsApiKey" ng-model="modelFormCtrl.modelCopy.attributes.google_maps_api_key" ng-model-master="modelFormCtrl.model.attributes.google_maps_api_key"></div></div></div><div class="appRow"><div class="col--sm7 col--smOffset3"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy"><div class="appInfoBox__icon icon ubnt-icon--eye2"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="appLinkContainer noMarginBottom" translate="SETTINGS_CONTROLLER_LABEL_GOOGLE_MAPS_API_KEY_PROMPT" translate-values="{helpLink: controllerSettingsCtrl.URLS.GOOGLE_MAP_API_KEY_HELP}"></p></div></div></div></div></div></ng-form></div><div class="unifiSettingsSection"'+o("unifi-if-role-super-admin",!0,!0,!0)+' unifi-if-role-super-admin-and="!controllerSettingsCtrl.system.isUnifiGo()"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_CONTROLLER_SECTION_MAIL_SERVER"></div><ng-form name="controllerSettingsCtrl.forms.super_mail" unifi-model-form="controllerSettingsCtrl.getSettingFromKey(\'super_mail\', {provider: \'smtp\'}, true)"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_CLOUD_MAIL"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="controllerMailProvider" id="controllerMailProvider"'+o("unifi-falsy-checkbox",!0,!0,!0)+' unifi-falsy-checkbox-default-false-value="\'smtp\'" unifi-falsy-checkbox-true-value="\'cloud\'" ng-model="modelFormCtrl.modelCopy.attributes.provider" ng-model-master="modelFormCtrl.model.attributes.provider" ng-disabled="!controllerSettingsCtrl.isCloudConnected()"><label for="controllerMailProvider"></label></div></div></div><div class="appRow verticalRhythm--comfy"><div class="col--sm7 col--smOffset3"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy"><div class="appInfoBox__icon icon ubnt-icon--eye2"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="appLinkContainer" translate="SETTINGS_CONTROLLER_INFO_BOX_MAIL"></p><p class="appLinkContainer noMarginBottom" ng-if="controllerSettingsCtrl.isCloudEmailEnabled()" translate="SETTINGS_CONTROLLER_INFO_BOX_MAIL_CLOUD"></p><p class="appLinkContainer noMarginBottom" ng-if="!controllerSettingsCtrl.isCloudEmailEnabled()" translate="SETTINGS_CONTROLLER_INFO_BOX_MAIL_SMTP"></p></div></div></div></div></div></ng-form><div class="appRow" ng-if="controllerSettingsCtrl.isCloudEmailEnabled()" ng-init="testEmail = controllerSettingsCtrl.account.getSsoUsername(true);"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_TEST_CLOUD_EMAIL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><label class="appLabel--primary mr-1" translate="SETTINGS_CONTROLLER_VALUES_SEND_TEST_EMAIL_TO"></label><label>{{::testEmail}}</label><button class="appMainButton appMainButton--primary appMainButton--cozy sendTestEmail" type="button" ng-click="controllerSettingsCtrl.sendCloudTestEmail(testEmail)" busy-toggle="controllerSettingsCtrl.isSendingTestEmail" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SEND\' | translate}}</button></div></div></div><ng-form ng-if="!controllerSettingsCtrl.isCloudEmailEnabled()" name="controllerSettingsCtrl.forms.super_smtp" unifi-model-form="controllerSettingsCtrl.getSettingFromKey(\'super_smtp\', null, true)"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_SMTP_SERVER"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="controllerEnableSmtpServer" id="controllerEnableSmtpServer" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="controllerEnableSmtpServer" translate="SETTINGS_CONTROLLER_VALUES_ENABLE_SMTP_SERVER"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="controllerSmtpHost" translate="SETTINGS_CONTROLLER_LABEL_SMTP_HOSTNAME" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.enabled}"></label><input type="text" name="controllerSmtpHost" id="controllerSmtpHost" ng-model="modelFormCtrl.modelCopy.attributes.host" ng-model-master="modelFormCtrl.model.attributes.host" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="controllerSmtpPort" translate="SETTINGS_CONTROLLER_LABEL_SMTP_PORT" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.enabled}"></label><input type="text" name="controllerSmtpPort" id="controllerSmtpPort" size="5" ng-model="modelFormCtrl.modelCopy.attributes.port" ng-model-master="modelFormCtrl.model.attributes.port" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-pattern="controllerSettingsCtrl.patterns.portNumber" ng-attr-placeholder="{{modelFormCtrl.modelCopy.attributes.use_ssl ? 465 : 25}}"'+o("unifi-use-placeholder",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="controllerEnableSmtpSsl" id="controllerEnableSmtpSsl" ng-model="modelFormCtrl.modelCopy.attributes.use_ssl" ng-model-master="modelFormCtrl.model.attributes.use_ssl" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled"><label for="controllerEnableSmtpSsl" translate="SETTINGS_CONTROLLER_VALUES_ENABLE_SSL" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.enabled || !modelFormCtrl.model.attributes.use_ssl}"></label></div></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="controllerEnableSmtpAuth" id="controllerEnableSmtpAuth" ng-model="modelFormCtrl.modelCopy.attributes.use_auth" ng-model-master="modelFormCtrl.model.attributes.use_auth" ng-model-master-cleanup="true"><label for="controllerEnableSmtpAuth" translate="SETTINGS_CONTROLLER_VALUES_ENABLE_AUTHENTICATION"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="controllerSmtpUsername" translate="SETTINGS_CONTROLLER_LABEL_SMTP_USERNAME" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.use_auth}"></label><input type="text" name="controllerSmtpU" id="controllerSmtpUsername" ng-model="modelFormCtrl.modelCopy.attributes.username" ng-model-master="modelFormCtrl.model.attributes.username" ng-model-master-cleanup="true" ng-disabled="!modelFormCtrl.modelCopy.attributes.use_auth" ng-required="modelFormCtrl.modelCopy.attributes.use_auth"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="controllerSmtpPassword" translate="SETTINGS_CONTROLLER_LABEL_SMTP_PASSWORD" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.use_auth}"></label><unifi-password-reveal><input type="password" name="controllerSmtpP" id="controllerSmtpPassword" ng-model="modelFormCtrl.modelCopy.attributes.x_password" ng-model-master="modelFormCtrl.model.attributes.x_password" ng-model-master-cleanup="true" ng-disabled="!modelFormCtrl.modelCopy.attributes.use_auth" ng-required="modelFormCtrl.modelCopy.attributes.use_auth"></unifi-password-reveal></div></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="controllerEnableSmtpSender" id="controllerEnableSmtpSender" ng-model="modelFormCtrl.modelCopy.attributes.use_sender" ng-model-master="modelFormCtrl.model.attributes.use_sender" ng-model-master-cleanup="true"><label for="controllerEnableSmtpSender" translate="SETTINGS_CONTROLLER_VALUES_SPECIFY_SENDER"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="email" name="controllerSmtpSender" id="controllerSmtpSender" ng-model="modelFormCtrl.modelCopy.attributes.sender" ng-model-master="modelFormCtrl.model.attributes.sender" ng-model-master-cleanup="true" ng-model-options="{ allowInvalid: true }" ng-disabled="!modelFormCtrl.modelCopy.attributes.use_sender" ng-pattern="controllerSettingsCtrl.patterns.email" ng-required="modelFormCtrl.modelCopy.attributes.use_sender"></div></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_TEST_SMTP_SERVER"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><label for="controllerSmtpTestEmail" translate="SETTINGS_CONTROLLER_VALUES_SEND_TEST_EMAIL_TO"></label><input type="email" name="controllerSmtpTestEmail" id="controllerSmtpTestEmail" ng-model="modelFormCtrl.testEmail" ng-pattern="controllerSettingsCtrl.patterns.email"><button class="appMainButton appMainButton--primary appMainButton--cozy sendTestEmail" type="button" ng-disabled="!modelFormCtrl.testEmail" ng-click="controllerSettingsCtrl.sendSmtpTestEmail(modelFormCtrl.form, modelFormCtrl.testEmail)" busy-toggle="controllerSettingsCtrl.isSendingTestEmail" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SEND\' | translate}}</button></div></div></div></ng-form></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+o("unifi-if-role-super-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="controllerSettingsCtrl.showValidation = true" busy-toggle="controllerSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="controllerSettingsCtrl.reset()" ng-disabled="controllerSettingsCtrl.form.$pristine">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],21:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("DhcpRelayController",["BaseSettingsController","gatewayUtils","system","REGEX_PATTERNS",function(t,e,n,o){return new(function(s){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(d,t);var l,p,u,c=a(d);function d(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),(t=c.call(this)).system=n,t.hasSiteGateway=e.hasSiteGateway.bind(e),t.settingsSectionTranslationKey="SETTINGS_DHCP_TAB_DHCP_RELAY",t.settingsSectionTranslationKeys={usg:"SETTINGS_DHCP_TAB_DHCP_RELAY"},t.patterns={ip:o.IPV4_ADDRESS,port:o.PORT_NUMBER,hopCount:/^([1-9]|[1-8][0-9]|9[0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,maxPacketSize:/^(6[4-9]|[7-9][0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|1[0-3][0-9]{2}|1400)$/},t.agentPacketOptions=[{value:"",translationKey:"SETTINGS_DHCP_RELAY_OPTIONS_HANDLING_OPTION_DEFAULT"},{value:"append",translationKey:"SETTINGS_DHCP_RELAY_OPTIONS_HANDLING_OPTION_APPEND"},{value:"discard",translationKey:"SETTINGS_DHCP_RELAY_OPTIONS_HANDLING_OPTION_DISCARD"},{value:"forward",translationKey:"SETTINGS_DHCP_RELAY_OPTIONS_HANDLING_OPTION_FORWARD"},{value:"replace",translationKey:"SETTINGS_DHCP_RELAY_OPTIONS_HANDLING_OPTION_REPLACE"}],t}return l=d,(p=[{key:"save",value:function(){var t=this,e=[];return this.isSubmitting=!0,angular.forEach(["usg"],function(n){e.push(t.saveSection(t.getSettingFromKey(n),t.forms[n].modelCopy.attributes,n))}),this.afterSave(e).finally(function(){t.isSubmitting=!1})}}])&&i(l.prototype,p),u&&i(l,u),d}())}])},{}],22:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiDhcpRelay",{controller:"DhcpRelayController",controllerAs:"dhcpRelayCtrl",template:t("./dhcpRelay.pug")()})},{"./dhcpRelay.pug":23}],23:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer"><unifi-settings-sub-menu-dhcp></unifi-settings-sub-menu-dhcp><unifi-settings-security-gateway-is-required ng-if="!dhcpRelayCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_DHCP_RELAY_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="dhcpRelayCtrl.form" ng-class="{      \'is-form-validation-visible\': dhcpRelayCtrl.showValidation,      \'is-validation-hidden\': !dhcpRelayCtrl.showValidation    }" ng-submit="dhcpRelayCtrl.form.$valid &amp;&amp; dhcpRelayCtrl.save()" ng-if="dhcpRelayCtrl.hasSiteGateway()" unifi-disable-coming-soon="\'servicesDhcp\'"><unifi-config-changed unifi-config-changed-on-reset="dhcpRelayCtrl.resolveDivergence()" unifi-config-changed-on-ignore="dhcpRelayCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="dhcpRelayCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!dhcpRelayCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="dhcpRelayCtrl.forms.usg" unifi-model-form="dhcpRelayCtrl.getSettingFromKey(\'usg\', {dhcp_relay_agents_packets: \'\', dhcp_relay_port: \'\', dhcp_relay_hop_count: \'\'})"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_DHCP_RELAY_LABEL_DHCP_SERVERS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"'+o("unifi-repeatable-form",!0,!0,!0)+' unifi-repeatable-form-min="0" unifi-repeatable-form-max="5" unifi-repeatable-form-model="modelFormCtrl.modelCopy" unifi-repeatable-form-attrs="[\'dhcp_relay_server_{key}\']" unifi-repeatable-form-is-read-only="!dhcpRelayCtrl.isAdmin()"><div class="allowedSubnets appInputGroup appInputGroup--cozy" ng-repeat="i in repeatableFormCtrl.getOptions() track by $index"><input type="text" name="dhcpRelayServer{{$index}}" id="dhcpRelayServer{{$index}}" ng-model="repeatableFormCtrl.model.attributes[\'dhcp_relay_server_\' + ($index + 1)]" ng-pattern="dhcpRelayCtrl.patterns.ip"'+o("required",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeAllowedSubnet" type="button" ng-show="!repeatableFormCtrl.isReadOnly" ng-click="repeatableFormCtrl.removeItem($index + 1)" ng-disabled="!repeatableFormCtrl.isRemoveAllowed()" title="{{\'SETTINGS_DHCP_RELAY_LABEL_REMOVE_SERVER\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-if="!repeatableFormCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addAllowedSubnet" type="button" ng-click="repeatableFormCtrl.addItem()" ng-disabled="!repeatableFormCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_DHCP_RELAY_LABEL_ADD_SERVER"></span></button></div></div></div><div class="appRow" ng-if="::!dhcpRelayCtrl.system.isUdm()"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_DHCP_RELAY_LABEL_HOP_COUNT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="text" size="4" name="dhcpRelayHopCount" ng-model="modelFormCtrl.modelCopy.attributes.dhcp_relay_hop_count" ng-model-master="modelFormCtrl.model.attributes.dhcp_relay_hop_count" ng-pattern="dhcpRelayCtrl.patterns.hopCount"><label>(1-255)</label></div></div></div><div class="appRow" ng-if="::!dhcpRelayCtrl.system.isUdm()"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_DHCP_RELAY_LABEL_MAX_PACKET_SIZE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="text" size="4" name="dhcpRelayMaxSize" ng-model="modelFormCtrl.modelCopy.attributes.dhcp_relay_max_size" ng-model-master="modelFormCtrl.model.attributes.dhcp_relay_max_size" ng-pattern="dhcpRelayCtrl.patterns.maxPacketSize"><label>(64-1400)</label></div></div></div><div class="appRow" ng-if="::!dhcpRelayCtrl.system.isUdm()"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_DHCP_RELAY_LABEL_PORT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="text" size="4" name="dhcpRelayPort" ng-model="modelFormCtrl.modelCopy.attributes.dhcp_relay_port" ng-model-master="modelFormCtrl.model.attributes.dhcp_relay_port" ng-pattern="dhcpRelayCtrl.patterns.port"><label>(1-65535)</label></div></div></div><div class="appRow" ng-if="::!dhcpRelayCtrl.system.isUdm()"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_DHCP_RELAY_LABEL_OPTIONS_HANDLING"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select name="dhcpRelayAgentPackets" ng-model="modelFormCtrl.modelCopy.attributes.dhcp_relay_agents_packets" ng-model-master="modelFormCtrl.model.attributes.dhcp_relay_agents_packets" ng-options="option.value as option.translationKey | translate for option in dhcpRelayCtrl.agentPacketOptions"><option'+o("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div></div><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+o("unifi-if-role-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="dhcpRelayCtrl.showValidation = true" busy-toggle="dhcpRelayCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="dhcpRelayCtrl.reset()" ng-disabled="dhcpRelayCtrl.form.$pristine">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></div></div></ng-form></div></fieldset></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],24:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("DhcpServerController",["$state","BaseSettingsController","deviceFeatureUtils","featureUtils","gatewayUtils","system","USG_CAPS",function(t,e,n,o,s,l,p){return new(function(u){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(_,e);var c,d,m,f=a(_);function _(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_),e=f.call(this),o.isSupported("servicesDhcpServer")||t.go("manage.site.settings.services.dhcp.dhcpRelay"),e.system=l,e.hasSiteGateway=s.hasSiteGateway.bind(s),e.settingsSectionTranslationKey="SETTINGS_DHCP_TAB_DHCP_SERVER",e.settingsSectionTranslationKeys={usg:"SETTINGS_DHCP_TAB_DHCP_RELAY"},e}return c=_,(d=[{key:"save",value:function(){var t=this,e=[];return this.isSubmitting=!0,angular.forEach(["usg"],function(n){e.push(t.saveSection(t.getSettingFromKey(n),t.forms[n].modelCopy.attributes,n))}),this.afterSave(e).finally(function(){t.isSubmitting=!1})}},{key:"isDnsMasqEnaled",value:function(){var t=s.getSiteGateway();return t&&n.hasUsgCapability(t,p.UNIFI_USG_CAP_DNSMASQ_ENABLED)}}])&&i(c.prototype,d),m&&i(c,m),_}())}])},{}],25:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiDhcpServer",{controller:"DhcpServerController",controllerAs:"dhcpServerCtrl",template:t("./dhcpServer.pug")()})},{"./dhcpServer.pug":26}],26:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer"><unifi-settings-sub-menu-dhcp></unifi-settings-sub-menu-dhcp><div class="appRow" ng-if="!dhcpServerCtrl.hasSiteGateway()"><div class="col--xs12"><unifi-settings-security-gateway-is-required unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_DHCP_SERVER_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required></div></div><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="dhcpServerCtrl.form" ng-class="{      \'is-form-validation-visible\': dhcpServerCtrl.showValidation,      \'is-validation-hidden\': !dhcpServerCtrl.showValidation    }" ng-submit="dhcpServerCtrl.form.$valid &amp;&amp; dhcpServerCtrl.save()" ng-if="dhcpServerCtrl.hasSiteGateway()" unifi-disable-coming-soon="\'servicesDhcp\'"><unifi-config-changed unifi-config-changed-on-reset="dhcpServerCtrl.resolveDivergence()" unifi-config-changed-on-ignore="dhcpServerCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="dhcpServerCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!dhcpServerCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="dhcpServerCtrl.forms.usg" unifi-model-form="dhcpServerCtrl.getSettingFromKey(\'usg\', {dhcpd_hostfile_update: true, dhcpd_use_dnsmasq: false})"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" for="dhcpdHostfileUpdateEnabled" translate="SETTINGS_DHCP_SERVER_LABEL_ENABLE_DHCPD_HOSTFILE_UPDATE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="dhcpdHostfileUpdateEnabled" id="dhcpdHostfileUpdateEnabled" ng-model="modelFormCtrl.modelCopy.attributes.dhcpd_hostfile_update" ng-model-master="modelFormCtrl.model.attributes.dhcpd_hostfile_update"><label for="dhcpdHostfileUpdateEnabled"></label></div></div></div></div><div class="appRow" ng-if="dhcpServerCtrl.isDnsMasqEnaled()"><div class="col--sm3"><label class="appLabel appLabel--primary" for="dhcpdUseDnsmasqEnabled" translate="SETTINGS_DHCP_SERVER_LABEL_ENABLE_DHCPD_USE_DNSMASQ"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="dhcpdUseDnsmasqEnabled" id="dhcpdUseDnsmasqEnabled" ng-model="modelFormCtrl.modelCopy.attributes.dhcpd_use_dnsmasq" ng-model-master="modelFormCtrl.model.attributes.dhcpd_use_dnsmasq"><label for="dhcpdUseDnsmasqEnabled"></label></div></div></div></div><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy"'+o("unifi-if-role-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="dhcpServerCtrl.showValidation = true" busy-toggle="dhcpServerCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="dhcpServerCtrl.reset()" ng-disabled="dhcpServerCtrl.form.$pristine">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></div></div></ng-form></div></fieldset></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],27:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return a(t)}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("DhcpSettingsController",["BaseListAndFormController","dhcpOptions",function(t,e){return new(function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,t);var o=r(s);function s(){var t,n,i,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);for(var l=arguments.length,p=new Array(l),u=0;u<l;u++)p[u]=arguments[u];return t=o.call.apply(o,[this].concat(p)),n=a(t),i="collection",r=e.repository.collection,i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,t}return s}())}])},{}],28:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiDhcpSettings",{controller:"DhcpSettingsController",controllerAs:"dhcpSettingsCtrl",template:t("./dhcpSettings.pug")()})},{"./dhcpSettings.pug":29}],29:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div id="networkSettings"><unifi-settings-sub-menu-dhcp></unifi-settings-sub-menu-dhcp><div class="appRow appRow--comfy"><div class="col--xs12" unifi-disable-coming-soon="\'servicesDhcp\'"><div ng-if="dhcpSettingsCtrl.view === \'form\'" unifi-dhcp-option-form="dhcpSettingsCtrl.model" unifi-dhcp-option-form-attrs="dhcpSettingsCtrl.sharedAttrs" unifi-dhcp-option-form-on-save="dhcpSettingsCtrl.list()" unifi-dhcp-option-form-on-cancel="dhcpSettingsCtrl.list()" unifi-dhcp-option-form-is-read-only="!dhcpSettingsCtrl.isAdmin()"></div><div ng-if="dhcpSettingsCtrl.view === \'list\'"><unifi-dhcp-option-list unifi-dhcp-option-list-on-edit="dhcpSettingsCtrl.edit(model)"></unifi-dhcp-option-list><div class="unifiSettingsFooter"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="dhcpSettingsCtrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_DHCP_OPTION_BUTTON_CREATE"></span></button></div></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],30:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}angular.module("app-unifi-manage-settings").controller("DpiRestrictionAssignmentsController",["frame","gatewayUtils",function(t,e){return new(function(){function n(){var t,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),t=this,o="gateway",i=e.getSiteGateway(),o in t?Object.defineProperty(t,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[o]=i}var i,r,a;return i=n,(r=[{key:"addAssignment",value:function(){t.show("dpiRestrictionNetworkAssignmentForm")}}])&&o(i.prototype,r),a&&o(i,a),n}())}])},{}],31:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiDpiRestrictionAssignments",{controller:"DpiRestrictionAssignmentsController",controllerAs:"dpiRestrictionAssignmentsCtrl",template:t("./dpiRestrictionAssignments.pug")()})},{"./dpiRestrictionAssignments.pug":32}],32:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="dpiRestrictionAssignments"><unifi-settings-sub-menu-dpi></unifi-settings-sub-menu-dpi><unifi-settings-sub-menu-dpi-restrictions></unifi-settings-sub-menu-dpi-restrictions><div class="verticalRhythmTop"><div class="appSubHeading appSubHeading--standalone appSubHeading--comfy"><span translate="DPI_RESTRICTION_GROUP_ASSIGNMENTS_NETWORK"></span></div><unifi-dpi-restriction-network-assignments-list></unifi-dpi-restriction-network-assignments-list></div><div class="verticalRhythmTop" ng-if="!dpiRestrictionAssignmentsCtrl.gateway.isUbios()"><div class="appSubHeading appSubHeading--standalone appSubHeading--comfy"><span translate="DPI_RESTRICTION_GROUP_ASSIGNMENTS_WIRELESS_NETWORK"></span></div><unifi-dpi-restriction-wireless-network-assignments-list></unifi-dpi-restriction-wireless-network-assignments-list></div><div class="appFormFooter unifiSettingsFooter verticalRhythmTop--comfy verticalRhythm--cozy"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="dpiRestrictionAssignmentsCtrl.addAssignment()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="DPI_RESTRICTION_GROUP_ACTION_ASSIGN_NETWORK"></span></button></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],33:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("DpiRestrictionGroupsController",["dpiGroups","frame",function(t,e){return new(function(){function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),i(this,"dpiGroups",t),i(this,"isExpanded",{})}var r,a,s;return r=n,(a=[{key:"areAllRestrictionGroupsCollapsed",value:function(){var e=this;return!t.repository.collection.reduce(function(t,n){return t=!(!t&&!e.isExpanded[n.id])},!1)}},{key:"expandRestrictionGroups",value:function(){var e=this;t.repository.collection.each(function(t){e.isExpanded[t.id]=!0})}},{key:"collapseRestrictionGroups",value:function(){var e=this;t.repository.collection.each(function(t){e.isExpanded[t.id]=!1})}},{key:"createRestrictionGroup",value:function(){e.show("dpiRestrictionGroupForm",{model:angular.noop})}},{key:"addRestriction",value:function(){e.show("dpiRestrictionForm",{model:angular.noop,restrictionGroup:angular.noop})}}])&&o(r.prototype,a),s&&o(r,s),n}())}])},{}],34:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiDpiRestrictionGroups",{controller:"DpiRestrictionGroupsController",controllerAs:"dpiRestrictionGroupsCtrl",template:t("./dpiRestrictionGroups.pug")()})},{"./dpiRestrictionGroups.pug":35}],35:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="dpiRestrictionGroups"><unifi-settings-sub-menu-dpi></unifi-settings-sub-menu-dpi><div class="unifiSettingsSubtabsContainer"><unifi-settings-sub-menu-dpi-restrictions></unifi-settings-sub-menu-dpi-restrictions><div class="unifiSettingsSubtabsActionIcon"><div class="appActionIcon appActionIcon--medium appActionIcon--primary" ng-click="isExpandIcon ? dpiRestrictionGroupsCtrl.expandRestrictionGroups() : dpiRestrictionGroupsCtrl.collapseRestrictionGroups()" title="{{(isExpandIcon = dpiRestrictionGroupsCtrl.areAllRestrictionGroupsCollapsed()) ? \'COMMON_PROPERTY_PANEL_EXPAND_ALL\' : \'COMMON_PROPERTY_PANEL_COLLAPSE_ALL\' | translate}}"><span class="icon ubnt-icon--menu"></span></div></div></div><div class="verticalRhythmTop--comfy"><div class="unifiSettingsSection" ng-repeat="model in dpiRestrictionGroupsCtrl.dpiGroups.repository.collection.models track by model.id"><unifi-dpi-restriction-group unifi-dpi-restriction-group-model="model" unifi-dpi-restriction-group-is-expanded="dpiRestrictionGroupsCtrl.isExpanded[model.id]"></unifi-dpi-restriction-group></div></div><div class="appFormFooter appFormFooter--standalone unifiSettingsFooter verticalRhythmTop--breezy verticalRhythm--cozy"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="dpiRestrictionGroupsCtrl.createRestrictionGroup()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="DPI_RESTRICTION_ACTION_ADD_RESTRICTION_GROUP"></span></button><button class="appMainButton appMainButton--input" ng-click="dpiRestrictionGroupsCtrl.addRestriction()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="DPI_RESTRICTION_ACTION_ADD_RESTRICTION"></span></button></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],36:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage").controller("DpiSettingsController",["$translate","BaseSettingsController","dpiStatistics","frame","gatewayUtils","heyToasts","system",function(t,e,n,o,l,u,c){return new(function(d){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(S,e);var m,f,_,g=a(S);function S(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,S);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return p(s(t=g.call.apply(g,[this].concat(n))),"system",c),p(s(t),"forms",{}),p(s(t),"gateway",l.getSiteGateway()),p(s(t),"settingsSection","dpi"),p(s(t),"settingsSectionTranslationKey","SETTINGS_SITE_KEY_DPI"),t}return m=S,(f=[{key:"clearDpiCounters",value:function(){var e=this;return o.show("confirm",{title:function(){return t.instant("SETTINGS_SITE_RESET_DPI_CONFIRM_TITLE")},message:function(){return t.instant("SETTINGS_SITE_RESET_DPI_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return e.isClearingDpiCounters=!0,u.handlePromise(n.resetDpiCounters()).finally(function(){e.isClearingDpiCounters=!1})})}},{key:"save",value:function(){var t=this,e=[];return this.isSubmitting=!0,angular.forEach(["config"],function(n){e.push(t.saveSection(t.getSettingFromKey(n),t.forms[n].modelCopy.attributes,n))}),this.afterSave(e).finally(function(){t.isSubmitting=!1})}}])&&i(m.prototype,f),_&&i(m,_),S}())}])},{}],37:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiDpiSettings",{controller:"DpiSettingsController",controllerAs:"dpiSettingsCtrl",template:t("./dpiSettings.pug")()})},{"./dpiSettings.pug":38}],38:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="dpiSettings"><unifi-settings-sub-menu-dpi></unifi-settings-sub-menu-dpi><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="dpiSettingsCtrl.form" ng-class="{      \'is-form-validation-visible\': dpiSettingsCtrl.showValidation,      \'is-validation-hidden\': !dpiSettingsCtrl.showValidation    }" ng-submit="dpiSettingsCtrl.form.$valid &amp;&amp; dpiSettingsCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="dpiSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="dpiSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="dpiSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!dpiSettingsCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="dpiSettingsCtrl.forms.config" unifi-model-form="dpiSettingsCtrl.getSettingFromKey(\'dpi\', { enabled: false })"><div class="appRow"><div class="col--xs4 col--md3"><label class="appLabel appLabel--primary" for="dpiEnable" translate="SETTINGS_DPI_VALUES_DPI"></label><unifi-notify-device-requirement class="ml-2" unifi-notify-device-requirement-type="ugw" unifi-notify-device-requirement-tooltip-position="bottomRight"></unifi-notify-device-requirement></div><div class="col--xs8 col--md9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="siteEnableDpi" id="siteEnableDpi" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="siteEnableDpi"></label></div></div></div></div><div class="appRow" ng-if="dpiSettingsCtrl.gateway.isUbios() &amp;&amp; modelFormCtrl.modelCopy.attributes.enabled"><div class="col--xs4 col--md3"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel appLabel--primary" for="dpiFingerprintEnable" translate="SETTINGS_DPI_VALUES_ENABLE_FINGERPRINT"></label><span class="appBadge appBadge--warning" translate="COMMON_ALPHA"></span></div></div><div class="col--xs8 col--md9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="siteEnableDpiFingerprinting" id="siteEnableDpiFingerprinting" ng-model="modelFormCtrl.modelCopy.attributes.fingerprintingEnabled" ng-model-master="modelFormCtrl.model.attributes.fingerprintingEnabled"><label for="siteEnableDpiFingerprinting"></label></div></div></div></div><div class="appRow"><div class="col--xs8 col--xsOffset4 col--md9 col--mdOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"'+o("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="modelFormCtrl.model.attributes.enabled || modelFormCtrl.modelCopy.attributes.enabled"><button class="appMainButton appMainButton--primary appMainButton--cozy" type="button" ng-click="dpiSettingsCtrl.clearDpiCounters()" busy-toggle="dpiSettingsCtrl.isClearingDpiCounters" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--xsall\']">{{\'SETTINGS_DPI_ACTIONS_CLEAR_DPI_COUNTERS\' | translate}}</button></div></div></div></ng-form></div><div class="appFormFooter appFormFooter--flush appFormFooter--standalone verticalRhythm--cozy verticalRhythmTop--breezy"'+o("unifi-if-role-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="dpiSettingsCtrl.showValidation = true" busy-toggle="dpiSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--xsall\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="dpiSettingsCtrl.reset()" ng-disabled="dpiSettingsCtrl.form.$pristine" translate="COMMON_ACTIONS_RESET"></button></div></div></fieldset></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],39:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return a(t)}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("DynamicDnsController",["BaseListAndFormController","dynamicDns","gatewayUtils","missingModelControllerMixin",function(t,e,n,o){return new(function(s){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(p,t);var l=r(p);function p(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(t=l.call(this)).collection=e.repository.collection,t.hasSiteGateway=n.hasSiteGateway.bind(n),o(a(t)),t}return p}())}])},{}],40:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiDynamicDns",{controller:"DynamicDnsController",controllerAs:"dynamicDnsCtrl",template:t("./dynamicDns.pug")()})},{"./dynamicDns.pug":41}],41:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="dynamicDnsSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-security-gateway-is-required ng-if="!dynamicDnsCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_DYNAMIC_DNS_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><div unifi-disable-coming-soon="\'servicesDynamicDns\'"><div ng-if="dynamicDnsCtrl.view === \'form\' &amp;&amp; dynamicDnsCtrl.hasSiteGateway()" unifi-dynamic-dns-form="dynamicDnsCtrl.model" unifi-dynamic-dns-form-attrs="dynamicDnsCtrl.sharedAttrs" unifi-dynamic-dns-form-on-save="dynamicDnsCtrl.list()" unifi-dynamic-dns-form-on-cancel="dynamicDnsCtrl.list()" unifi-dynamic-dns-form-is-read-only="!dynamicDnsCtrl.isAdmin()"></div><div ng-if="dynamicDnsCtrl.view === \'list\' &amp;&amp; dynamicDnsCtrl.hasSiteGateway()"><unifi-dynamic-dns-list unifi-dynamic-dns-list-on-edit="dynamicDnsCtrl.edit(model)"></unifi-dynamic-dns-list><div class="unifiSettingsFooter"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="dynamicDnsCtrl.add()"'+o("ng-c",!0,!0,!0)+'><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_DYNAMIC_DNS_BUTTON_CREATE"></span></button></div></div></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],42:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("DynamicDnsFormController",["$translate","heyToasts","BaseFormController","apiResults","dynamicDns","gatewayUtils",function(t,e,n,o,p,u){var c=["wan","wan2"];return new(function(d){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(S,n);var m,f,_,g=s(S);function S(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,S),(t=g.call(this)).services=[{id:"afraid",name:"afraid"},{id:"dnspark",name:"dnspark"},{id:"dslreports",name:"dslreports"},{id:"dyndns",name:"dyndns"},{id:"easydns",name:"easydns"},{id:"namecheap",name:"namecheap"},{id:"noip",name:"noip"},{id:"sitelutions",name:"sitelutions"},{id:"zoneedit",name:"zoneedit"}],t}return m=S,(f=[{key:"save",value:function(){var n=this;this.isSubmitting=!0;var i=angular.extend({},this.modelCopy.attributes);return this.model.save(i,{wait:!0}).then(function(){return e.pushSuccess(t.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:t.instant("SETTINGS_SERVICES_TAB_DYNAMIC_DNS")})),p.repository.collection.add(n.model,{merge:!0}),n.reset(),!0}).catch(function(n){return e.pushError(o.appendErrorMsg(t.instant("COMMON_NOTICE_SAVE_ERROR",{section:t.instant("SETTINGS_SERVICES_TAB_DYNAMIC_DNS")}),n)),!1}).finally(function(){n.isSubmitting=!1})}},{key:"setDefaultAttrs",value:function(t){var e=t?"":"Copy";this["model"+e]&&(this["model"+e].attributes.interface=(this.model?this.model.get("interface"):void 0)||"wan",this["model"+e].attributes.service=(this.model?this.model.get("service"):void 0)||this.services[0].id)}},{key:"onModelChange",value:function(){this.setDefaultAttrs(!0),this.updateWanPorts()}},{key:"reset",value:function(){r(l(S.prototype),"reset",this).call(this),this.setDefaultAttrs(!1)}},{key:"updateWanPorts",value:function(){this.wanPorts=c.slice(0,u.countWanPortsForSiteGateway()||2)}}])&&i(m.prototype,f),_&&i(m,_),S}())}])},{}],43:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiDynamicDnsForm",["SimpleFormDirective",function(e){return new e("dynamicDns",t("./dynamicDnsForm.pug")())}])},{"./dynamicDnsForm.pug":44}],44:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="dynamicDnsFormCtrl.form" ng-class="{    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': dynamicDnsFormCtrl.showValidation,    \'is-validation-hidden\': !dynamicDnsFormCtrl.showValidation  }" ng-submit="dynamicDnsFormCtrl.form.$valid &amp;&amp; dynamicDnsFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="dynamicDnsFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="dynamicDnsFormCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="dynamicDnsFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+o("translate",!0,!0,!0)+' translate-values="{serviceName: dynamicDnsFormCtrl.model.attributes.service}">{{isReadOnly ? \'SETTINGS_DYNAMIC_DNS_SECTION_VIEW\' : (dynamicDnsFormCtrl.model.id ? \'SETTINGS_DYNAMIC_DNS_SECTION_EDIT\' : \'SETTINGS_DYNAMIC_DNS_SECTION_CREATE\')}}</div><div class="appRow verticalRhythmTop--cozy"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_DYNAMIC_DNS_LABEL_INTERFACE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="port in dynamicDnsFormCtrl.wanPorts track by $index"><input type="radio" name="dynamicDnsInterface" id="dynamicDnsInterface_{{port}}" ng-model="dynamicDnsFormCtrl.modelCopy.attributes.interface" ng-model-master="dynamicDnsFormCtrl.model.attributes.interface" value="{{port}}"><label for="dynamicDnsInterface_{{port}}">{{"SETTINGS_NETWORK_VALUES_GATEWAY_IPV6_PD_INTERFACE_" + port.toUpperCase() | translate}}</label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_DYNAMIC_DNS_LABEL_SERVICE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="dynamicDnsService" ng-model="dynamicDnsFormCtrl.modelCopy.attributes.service" ng-model-master="dynamicDnsFormCtrl.model.attributes.service" ng-options="service.id as service.name for service in dynamicDnsFormCtrl.services"'+o("required",!0,!0,!0)+'></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_DYNAMIC_DNS_LABEL_HOSTNAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="dynamicDnsHostname" ng-model="dynamicDnsFormCtrl.modelCopy.attributes.host_name" ng-model-master="dynamicDnsFormCtrl.model.attributes.host_name"'+o("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_DYNAMIC_DNS_LABEL_USERNAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="dynamicDnsU" ng-model="dynamicDnsFormCtrl.modelCopy.attributes.login" ng-model-master="dynamicDnsFormCtrl.model.attributes.login"'+o("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_DYNAMIC_DNS_LABEL_PASSWORD"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="dynamicDnsP" ng-model="dynamicDnsFormCtrl.modelCopy.attributes.x_password" ng-model-master="dynamicDnsFormCtrl.model.attributes.x_password"'+o("required",!0,!0,!0)+'></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_DYNAMIC_DNS_LABEL_SERVER"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="dynamicDnsServer" ng-model="dynamicDnsFormCtrl.modelCopy.attributes.server" ng-model-master="dynamicDnsFormCtrl.model.attributes.server"></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveDynamicDns" ng-if="!isReadOnly" ng-click="dynamicDnsFormCtrl.showValidation = true" busy-toggle="dynamicDnsFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--transparent cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button></div></div></form>'};var i=/["&<>]/},{"pug-runtime":2}],45:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("DynamicDnsListController",["$translate","BaseListController","frame","heyToasts","dynamicDns",function(t,e,n,o,l){return new(function(u){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(_,e);var c,d,m,f=a(_);function _(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return p(s(t=f.call.apply(f,[this].concat(n))),"defaultSortBy","service"),p(s(t),"isRemoving",{}),t}return c=_,(d=[{key:"getCollection",value:function(){return l.repository.collection}},{key:"remove",value:function(e){var i=this;return n.show("confirm",{title:function(){return t.instant("SETTINGS_DYNAMIC_DNS_DELETE_CONFIRM_TITLE",{serviceName:e.get("service")})},message:function(){return t.instant("SETTINGS_DYNAMIC_DNS_DELETE_CONFIRM_MESSAGE",{serviceName:e.get("service")})},options:angular.noop}).then(function(){return i.isRemoving[e.id]=!0,e.destroy({wait:!0}).then(function(){return o.pushSuccess(t.instant("SETTINGS_DYNAMIC_DNS_DELETE_SUCCESS",{serviceName:e.get("service")})),!0}).catch(function(){return o.pushError(t.instant("SETTINGS_DYNAMIC_DNS_DELETE_ERROR",{serviceName:e.get("service")})),!1}).finally(function(){i.isRemoving[e.id]=!1})})}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}}])&&i(c.prototype,d),m&&i(c,m),_}())}])},{}],46:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiDynamicDnsList",["ListDirective",function(e){return new e("dynamicDns",t("./dynamicDnsList.pug")(),{onEdit:"&unifiDynamicDnsListOnEdit"})}])},{"./dynamicDnsList.pug":47}],47:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div><table class="verticalRhythmTop--condensed appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="dynamicDnsTable" collection-view-sort="dynamicDnsListCtrl.view"><thead><tr><th class="dynamicDnsService" collection-view-sort-by="service"><span translate="SETTINGS_DYNAMIC_DNS_TABLE_HEADER_SERVICE"></span></th><th class="dynamicDnsHostname" collection-view-sort-by="host_name"><span translate="SETTINGS_DYNAMIC_DNS_TABLE_HEADER_HOSTNAME"></span></th><th class="dynamicDnsServer" collection-view-sort-by="server"><span translate="SETTINGS_DYNAMIC_DNS_TABLE_HEADER_SERVER"></span></th><th class="dynamicDnsActions"><span translate="SETTINGS_DYNAMIC_DNS_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in dynamicDnsListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="dynamicDnsService">{{::model.get(\'service\')}}</td><td class="dynamicDnsHostname">{{::model.get(\'host_name\')}}</td><td class="dynamicDnsServer">{{::model.get(\'server\')}}</td><td class="dynamicDnsActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-click="dynamicDnsListCtrl.edit(model)" ng-disabled="dynamicDnsListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="dynamicDnsListCtrl.edit(model)" ng-disabled="dynamicDnsListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-click="dynamicDnsListCtrl.remove(model)" ng-disabled="dynamicDnsListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!dynamicDnsListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_DYNAMIC_DNS_TABLE_EMPTY"></p></div></div></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],48:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}angular.module("app-unifi-manage-settings").controller("EliteDeviceSettingsController",["account","countries","deviceElite","deviceEliteDetails","deviceEliteUtils","frame","preferences","sdn",function(t,e,n,i,r,a,s,l){return new(function(){function p(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),this.account=t,this.preferences=s,this.countryNamesMapByCode=e.getCountryNamesMapByCode(),this.isCurrentCountrySupported=r.isCurrentCountrySupported.bind(r),this.isUserAcceptedTos=r.isUserAcceptedTos.bind(r),this.getTosLink=r.getTosLink.bind(r)}var u,c,d;return u=p,(c=[{key:"isEverythingGood",value:function(){return this.isCloudConnected()&&!r.isServiceWithEliteDeviceWarning()}},{key:"isCloudConnected",value:function(){return l.isConnected()}},{key:"getSupportedCountries",value:function(){var t=this;return i.getSupportedCountries().map(function(e){return t.countryNamesMapByCode[e]}).filter(function(t){return!!t})}},{key:"checkElite",value:function(){var t=this;this.isCheckingElite=!0,n.checkLicenses().finally(function(){t.isCheckingElite=!1})}},{key:"acceptTos",value:function(){var t=this;this.isAcceptingTos=!0,n.acceptTos().finally(function(){t.isAcceptingTos=!1})}},{key:"updateContactInfo",value:function(){a.show("instantRma",{device:angular.noop})}}])&&o(u.prototype,c),d&&o(u,d),p}())}])},{}],49:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiEliteDeviceSettings",{controller:"EliteDeviceSettingsController",controllerAs:"eliteDeviceSettingsCtrl",template:t("./eliteDeviceSettings.pug")()})},{"./eliteDeviceSettings.pug":50}],50:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="eliteDeviceSettings"><form class="appForm appForm--cozy"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("novalidate",!0,!0,!0)+' autocomplete="off"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_ELITE_DEVICE"></div></div><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_ELITE_DEVICE_INFO_BOX_DETAILS"></p></div></div></div><div class="unifiSettingsSection"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_ELITE_DEVICE_LABEL_STATUS"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="appInputGroup inlineBlock"><h5 class="noMarginBottom" ng-if="eliteDeviceSettingsCtrl.isEverythingGood()"><span class="appBadge appBadge--success" translate="SETTINGS_ELITE_DEVICE_LABEL_EVERYTHING_IS_GOOD"></span></h5><h5 class="noMarginBottom" ng-if="!eliteDeviceSettingsCtrl.isEverythingGood()"><span class="appBadge appBadge--warning" translate="SETTINGS_ELITE_DEVICE_LABEL_SOME_REQUIREMENTS_ARE_MISSING"></span></h5></div></div><div class="appDescriptionList appDescriptionList--longDefinition verticalRhythm--cozy horizontalRhythmLeft--cozy"><div class="appDescriptionListRow"><dt ng-if="eliteDeviceSettingsCtrl.isCloudConnected()"><span class="iconText__icon icon ubnt-icon--check-2"></span><span class="iconText__text" translate="SETTINGS_ELITE_DEVICE_VALUES_STATUS_DETAILS_CLOUD_ACCESS"></span></dt><dt class="warning" ng-if="!eliteDeviceSettingsCtrl.isCloudConnected()"><span class="iconText__icon icon ubnt-icon--x"></span><span class="iconText__text" translate="SETTINGS_ELITE_DEVICE_VALUES_STATUS_DETAILS_CLOUD_ACCESS_REQUIRED"></span></dt></div><div class="appDescriptionListRow" ng-if="eliteDeviceSettingsCtrl.isCloudConnected() &amp;&amp; eliteDeviceSettingsCtrl.isCurrentCountrySupported()"><dt ng-if="eliteDeviceSettingsCtrl.isUserAcceptedTos()"><span class="iconText__icon icon ubnt-icon--check-2"></span><span class="iconText__text" translate="SETTINGS_ELITE_DEVICE_VALUES_STATUS_DETAILS_TERMS_OF_SERVICE"></span></dt><dt class="warning" ng-if="!eliteDeviceSettingsCtrl.isUserAcceptedTos()"><span class="iconText__icon icon ubnt-icon--x"></span><span class="iconText__text" translate="SETTINGS_ELITE_DEVICE_VALUES_STATUS_DETAILS_TERMS_OF_SERVICE_REQUIRED"></span></dt></div><div class="appDescriptionListRow" ng-if="eliteDeviceSettingsCtrl.isCloudConnected()"><dt ng-if="eliteDeviceSettingsCtrl.isCurrentCountrySupported()"><span class="iconText__icon icon ubnt-icon--check-2"></span><span class="iconText__text" translate="SETTINGS_ELITE_DEVICE_VALUES_STATUS_DETAILS_COUNTRY"></span></dt><dt class="warning" ng-if="!eliteDeviceSettingsCtrl.isCurrentCountrySupported()"><span class="iconText__icon icon ubnt-icon--x"></span><span class="iconText__text" translate="SETTINGS_ELITE_DEVICE_VALUES_STATUS_DETAILS_COUNTRY_NOT_SUPPORTED"></span></dt></div></div><div class="appInputGroup appInputGroup--cozy" ng-if="eliteDeviceSettingsCtrl.isCloudConnected() &amp;&amp; eliteDeviceSettingsCtrl.account.isSuperAdmin()"><div class="appInputGroup inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy checkEliteDevices" type="button" ng-click="eliteDeviceSettingsCtrl.checkElite()" busy-toggle="eliteDeviceSettingsCtrl.isCheckingElite" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_ELITE_DEVICE_ACTIONS_REFRESH_STATUS\' | translate}}</button></div></div></div></div><div class="appRow" ng-if="eliteDeviceSettingsCtrl.isCloudConnected() &amp;&amp; eliteDeviceSettingsCtrl.isCurrentCountrySupported() &amp;&amp; eliteDeviceSettingsCtrl.getTosLink()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_ELITE_DEVICE_LABEL_TERMS_OF_SERVICE"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy" ng-if="!eliteDeviceSettingsCtrl.isUserAcceptedTos()"><div class="appInputGroup inlineBlock"><input type="checkbox" name="eliteDeviceAcceptTos" id="eliteDeviceAcceptTos" ng-model="eliteDeviceSettingsCtrl.tos_accepted"><label for="eliteDeviceAcceptTos" translate="SETTINGS_ELITE_DEVICE_LABEL_ACCEPT_TOS" translate-values="{                  link: eliteDeviceSettingsCtrl.getTosLink()                }"></label></div></div><div class="appInputGroup appInputGroup--cozy" ng-if="!eliteDeviceSettingsCtrl.isUserAcceptedTos() &amp;&amp; eliteDeviceSettingsCtrl.account.isSuperAdmin()"><div class="appInputGroup inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy acceptEliteDeviceTos" type="button" ng-click="eliteDeviceSettingsCtrl.acceptTos()" ng-disabled="!eliteDeviceSettingsCtrl.tos_accepted" busy-toggle="eliteDeviceSettingsCtrl.isAcceptingTos" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_CONFIRM\' | translate}}</button></div></div><div class="appInputGroup appInputGroup--cozy" ng-if="eliteDeviceSettingsCtrl.isUserAcceptedTos()"><div class="appInputGroup inlineBlock"><label><a class="appLink" ng-href="{{eliteDeviceSettingsCtrl.getTosLink()}}" target="_blank">{{eliteDeviceSettingsCtrl.getTosLink()}}</a></label></div></div></div></div><div class="appRow" ng-if="eliteDeviceSettingsCtrl.isCloudConnected()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_ELITE_DEVICE_LABEL_AVAILABLE_RESTRICTIONS"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appType--quiet verticalRhythm--cozy" translate="SETTINGS_ELITE_DEVICE_VALUES_AVAILABLE_IN_COUNTRIES"></div><div class="flexible appDescriptionList appDescriptionList--longDefinition verticalRhythm--cozy horizontalRhythmLeft--cozy"><div class="appDescriptionListRow" ng-repeat="country in eliteDeviceSettingsCtrl.getSupportedCountries() | orderBy"><dt><span class="iconText__icon icon ubnt-icon--check-2"></span><span class="iconText__text">{{country}}</span></dt></div></div></div></div></div><div class="unifiSettingsSection" ng-show="eliteDeviceSettingsCtrl.isCloudConnected()"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_ELITE_DEVICE_SECTION_CONFIGURATION"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_ELITE_DEVICE_LABEL_SHIPPING_INFO"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="shelfCenter appInputGroup appInputGroup--cozy"><div class="inflexible"><div class="appInputGroup inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy restoreFile" ng-click="eliteDeviceSettingsCtrl.updateContactInfo()">{{\'SETTINGS_ELITE_DEVICE_ACTIONS_UPDATE\' | translate}}</button></div></div></div></div></div></div></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],51:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}angular.module("app-unifi-manage-settings").controller("FirewallController",["firewallUtils",function(t){return new(function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,i,r;return n=e,(i=[{key:"isRulesetDefined",value:function(){return null!==t.getDefaultRulesetIpv4()}}])&&o(n.prototype,i),r&&o(n,r),e}())}])},{}],52:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiFirewall",{controller:"FirewallController",controllerAs:"firewallCtrl",template:t("./firewall.pug")()})},{"./firewall.pug":53}],53:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div id="firewallSettings"><div class="unifiSettingsContainer" ng-if="!firewallCtrl.isRulesetDefined()"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-security-gateway-is-required unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_FIREWALL_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required></div><div ng-if="firewallCtrl.isRulesetDefined()"><ui-view></ui-view></div></div>'}},{"pug-runtime":2}],54:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return a(t)}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("FirewallGroupsController",["BaseListAndFormController","firewallGroups","missingModelControllerMixin",function(t,e,n){return new(function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(l,t);var s=r(l);function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this)).collection=e.repository.collection,n(a(t)),t}return l}())}])},{}],55:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiFirewallGroups",{controller:"FirewallGroupsController",controllerAs:"firewallGroupsCtrl",template:t("./firewallGroups.pug")()})},{"./firewallGroups.pug":56}],56:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="firewallGroupsSettings"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-sub-menu-firewall></unifi-settings-sub-menu-firewall><div ng-if="firewallGroupsCtrl.view === \'form\'" unifi-firewall-groups-form="firewallGroupsCtrl.model" unifi-firewall-groups-form-on-save="firewallGroupsCtrl.list()" unifi-firewall-groups-form-on-cancel="firewallGroupsCtrl.list()" unifi-firewall-groups-form-is-read-only="!firewallGroupsCtrl.isAdmin()"></div><div class="verticalRhythmTop--cozy" ng-if="firewallGroupsCtrl.view === \'list\'"><unifi-firewall-groups-list unifi-firewall-groups-list-on-edit="firewallGroupsCtrl.edit(model)"></unifi-firewall-groups-list><div class="unifiSettingsFooter"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="firewallGroupsCtrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_FIREWALL_GROUPS_BUTTON_ADD"></span></button></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],57:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("FirewallGroupsFormController",["$translate","apiResults","firewallGroups","heyToasts","BaseFormController","FIREWALL",function(t,e,n,o,p,u){return new(function(c){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(g,p);var d,m,f,_=s(g);function g(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(t=_.call(this)).FIREWALL=u,t.availableFirewallGroups=[t.FIREWALL.GROUPS.ADDRESS_IPV4,t.FIREWALL.GROUPS.ADDRESS_IPV6,t.FIREWALL.GROUPS.PORT],t.groupMembersMin=1,t}return d=g,(m=[{key:"save",value:function(){var i=this;this.isSubmitting=!0;var r=angular.extend({},this.modelCopy.attributes);return r.group_members=r.group_members.filter(function(t){return!!t}),this.model.save(r,{wait:!0}).then(function(){return o.pushSuccess(t.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:t.instant("SETTINGS_ROUTING_TAB_FIREWALL_GROUPS").toLowerCase()})),n.repository.collection.add(i.model,{merge:!0}),i.reset(),!0}).catch(function(n){return o.pushError(e.appendErrorMsg(t.instant("COMMON_NOTICE_SAVE_ERROR",{section:t.instant("SETTINGS_ROUTING_TAB_FIREWALL_GROUPS").toLowerCase()}),n)),!1}).finally(function(){i.isSubmitting=!1})}},{key:"setDefaultAttrs",value:function(t){var e=t?"":"Copy";this["model"+e]&&(this["model"+e].attributes.name=this.model&&this.model.get("name")||"",this["model"+e].attributes.group_type=this.model&&this.model.get("group_type")||this.FIREWALL.GROUPS.ADDRESS_IPV4,this["model"+e].attributes.group_members=this.model&&angular.copy(this.model.get("group_members"))||[])}},{key:"onModelChange",value:function(){this.setDefaultAttrs(!0)}},{key:"reset",value:function(){r(l(g.prototype),"reset",this).call(this),this.setDefaultAttrs(!1)}}])&&i(d.prototype,m),f&&i(d,f),g}())}])},{}],58:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiFirewallGroupsForm",["SimpleFormDirective",function(e){return new e("firewallGroups",t("./firewallGroupsForm.pug")())}])},{"./firewallGroupsForm.pug":59}],59:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="firewallGroupsFormCtrl.form" ng-class="{    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': firewallGroupsFormCtrl.showValidation,    \'is-validation-hidden\': !firewallGroupsFormCtrl.showValidation  }" ng-submit="firewallGroupsFormCtrl.form.$valid &amp;&amp; firewallGroupsFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="firewallGroupsFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="firewallGroupsFormCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="firewallGroupsFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection" ng-class="{\'noMargin\': isModal}"><div class="unifiFirewallGroupsContainerBasicHeader"><div class="appRow"><div class="col--sm12" ng-if="!isModal"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="isReadOnly" translate="SETTINGS_FIREWALL_GROUPS_SECTION_VIEW" translate-values="{groupName: firewallGroupsFormCtrl.model.attributes.name}"></div><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="!isReadOnly &amp;&amp; firewallGroupsFormCtrl.model.id" translate="SETTINGS_FIREWALL_GROUPS_SECTION_EDIT" translate-values="{groupName: firewallGroupsFormCtrl.model.attributes.name}"></div><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="!isReadOnly &amp;&amp; !firewallGroupsFormCtrl.model.id" translate="SETTINGS_FIREWALL_GROUPS_SECTION_CREATE"></div></div><div class="col--sm12" ng-if="isModal"><div class="appControlModal__header noPaddingLeft noPaddingTop" ng-if="isReadOnly" translate="SETTINGS_FIREWALL_GROUPS_SECTION_VIEW" translate-values="{groupName: firewallGroupsFormCtrl.model.attributes.name}"></div><div class="appControlModal__header noPaddingLeft noPaddingTop" ng-if="!isReadOnly &amp;&amp; firewallGroupsFormCtrl.model.id" translate="SETTINGS_FIREWALL_GROUPS_SECTION_EDIT" translate-values="{groupName: firewallGroupsFormCtrl.model.attributes.name}"></div><div class="appControlModal__header noPaddingLeft noPaddingTop" ng-if="!isReadOnly &amp;&amp; !firewallGroupsFormCtrl.model.id" translate="SETTINGS_FIREWALL_GROUPS_SECTION_CREATE"></div></div></div></div><div class="unifiFirewallGroupsContainerBasic" ng-class="{\'appControlModalScrollableContent appContainer\': isModal}"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_FIREWALL_GROUPS_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="firewallGroupName" ng-model="firewallGroupsFormCtrl.modelCopy.attributes.name" ng-model-master="firewallGroupsFormCtrl.model.attributes.name" ng-maxlength="firewallGroupsFormCtrl.FIREWALL.VALIDATORS.GROUP_NAME_MAX_LENGTH" required="true"><div class="appInputFeedback appInputFeedback--danger" ng-show="firewallGroupsFormCtrl.form.firewallGroupName.$error.required" translate="VALIDATION_HINT_REQUIRED"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="firewallGroupsFormCtrl.form.firewallGroupName.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: firewallGroupsFormCtrl.FIREWALL.VALIDATORS.GROUP_NAME_MAX_LENGTH}"></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_GROUPS_LABEL_TYPE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="groupType in firewallGroupsFormCtrl.availableFirewallGroups"><input type="radio" name="firewallGroupType" id="firewallGroupType{{groupType}}" ng-value="groupType" ng-model="firewallGroupsFormCtrl.modelCopy.attributes[\'group_type\']" ng-model-master="firewallGroupsFormCtrl.model.attributes[\'group_type\']" ng-disabled="firewallGroupsFormCtrl.model.id" required="true"><label for="firewallGroupType{{groupType}}">{{ \'FIREWALL_GROUPS_TYPE_\' + groupType | toTranslationKey | translate }}</label></div></div></div></div><div class="appRow unifiFirewallGroupsMembers" ng-if="firewallGroupsFormCtrl.modelCopy.attributes.group_type === firewallGroupsFormCtrl.FIREWALL.GROUPS.ADDRESS_IPV4"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_FIREWALL_GROUPS_LABEL_ADDRESSES"></label></div><div class="col--sm9 appFormGroup noMarginBottom"'+o("unifi-repeatable-input",!0,!0,!0)+' unifi-repeatable-input-min="firewallGroupsFormCtrl.groupMembersMin" unifi-repeatable-input-values="firewallGroupsFormCtrl.modelCopy.attributes[\'group_members\']" unifi-repeatable-input-is-read-only="firewallGroupsFormCtrl.isReadOnly"><div class="remoteSubnets appInputGroup appInputGroup--cozy" ng-repeat="option in repeatableInputCtrl.getOptions() track by $index"><input type="text" name="firewallGroupsMembers[]" id="firewallGroupsMembersAddress_{{$index}}" ng-model="repeatableInputCtrl.values[$index]"'+o("unifi-validate-ip-range",!0,!0,!0)+o("unifi-validate-duplicates",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeRemoteSubnet" type="button" ng-show="!repeatableInputCtrl.isReadOnly" ng-click="repeatableInputCtrl.removeItem($index)" ng-disabled="!repeatableInputCtrl.isRemoveAllowed()" title="{{\'SETTINGS_FIREWALL_GROUPS_BUTTON_REMOVE_MEMBER\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-show="!repeatableInputCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRemoteSubnet" type="button" ng-click="repeatableInputCtrl.addItem()" ng-disabled="!repeatableInputCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_FIREWALL_GROUPS_BUTTON_ADD_MEMBER"></span></button></div></div></div><div class="appRow unifiFirewallGroupsMembers" ng-if="firewallGroupsFormCtrl.modelCopy.attributes.group_type === firewallGroupsFormCtrl.FIREWALL.GROUPS.ADDRESS_IPV6"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_FIREWALL_GROUPS_LABEL_ADDRESSES"></label></div><div class="col--sm9 appFormGroup noMarginBottom"'+o("unifi-repeatable-input",!0,!0,!0)+' unifi-repeatable-input-min="firewallGroupsFormCtrl.groupMembersMin" unifi-repeatable-input-values="firewallGroupsFormCtrl.modelCopy.attributes[\'group_members\']" unifi-repeatable-input-is-read-only="firewallGroupsFormCtrl.isReadOnly"><div class="remoteSubnets appInputGroup appInputGroup--cozy" ng-repeat="option in repeatableInputCtrl.getOptions() track by $index"><input type="text" name="firewallGroupsMembers[]" id="firewallGroupsMembersAddress_{{$index}}" ng-model="repeatableInputCtrl.values[$index]"'+o("unifi-validate-ipv6-range",!0,!0,!0)+o("unifi-validate-duplicates",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeRemoteSubnet" type="button" ng-show="!repeatableInputCtrl.isReadOnly" ng-click="repeatableInputCtrl.removeItem($index)" ng-disabled="!repeatableInputCtrl.isRemoveAllowed()" title="{{\'SETTINGS_FIREWALL_GROUPS_BUTTON_REMOVE_MEMBER\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-show="!repeatableInputCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRemoteSubnet" type="button" ng-click="repeatableInputCtrl.addItem()" ng-disabled="!repeatableInputCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_FIREWALL_GROUPS_BUTTON_ADD_MEMBER"></span></button></div></div></div><div class="appRow unifiFirewallGroupsMembers" ng-if="firewallGroupsFormCtrl.modelCopy.attributes.group_type === firewallGroupsFormCtrl.FIREWALL.GROUPS.PORT"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_FIREWALL_GROUPS_LABEL_PORTS"></label></div><div class="col--sm9 appFormGroup noMarginBottom"'+o("unifi-repeatable-input",!0,!0,!0)+' unifi-repeatable-input-min="firewallGroupsFormCtrl.groupMembersMin" unifi-repeatable-input-values="firewallGroupsFormCtrl.modelCopy.attributes[\'group_members\']" unifi-repeatable-input-is-read-only="firewallGroupsFormCtrl.isReadOnly"><div class="remoteSubnets appInputGroup appInputGroup--cozy" ng-repeat="option in repeatableInputCtrl.getOptions() track by $index"><input type="text" name="firewallGroupsMembers[]" id="firewallGroupsMembersPort_{{$index}}" ng-model="repeatableInputCtrl.values[$index]"'+o("unifi-validate-port-range",!0,!0,!0)+' unifi-validate-port-range-except-comma="true"'+o("unifi-validate-duplicates",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeRemoteSubnet" type="button" ng-show="!repeatableInputCtrl.isReadOnly" ng-click="repeatableInputCtrl.removeItem($index)" ng-disabled="!repeatableInputCtrl.isRemoveAllowed()" title="{{\'SETTINGS_FIREWALL_GROUPS_BUTTON_REMOVE_MEMBER\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-show="!repeatableInputCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRemoteSubnet" type="button" ng-click="repeatableInputCtrl.addItem()" ng-disabled="!repeatableInputCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_FIREWALL_GROUPS_BUTTON_ADD_MEMBER"></span></button></div></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--flush" ng-class="{      \'appFormFooter--standalone\': !isModal,       \'verticalRhythmTop--breezy\': !isModal,       \'appFormFooter--smash\': isModal     }"><div class="appFormFooter__left" ng-if="!isModal"><button class="appMainButton appMainButton--success firewallGroupsSaveButton" type="submit" ng-if="!isReadOnly" ng-click="firewallGroupsFormCtrl.showValidation = true" busy-toggle="firewallGroupsFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--transparent cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button></div><div class="appFormFooter__right" ng-if="isModal"><button class="appMainButton appMainButton--cozy appMainButton--transparent cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--cozy appMainButton--primary firewallGroupsSaveButton" type="submit" ng-if="!isReadOnly" ng-click="firewallGroupsFormCtrl.showValidation = true" busy-toggle="firewallGroupsFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button></div></div></form>'};var i=/["&<>]/},{"pug-runtime":2}],60:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("FirewallGroupsListController",["$translate","BaseListController","apiResults","heyToasts","firewallGroups","frame",function(t,e,n,o,l,u){return new(function(c){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(g,e);var d,m,f,_=a(g);function g(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return p(s(t=_.call.apply(_,[this].concat(n))),"defaultSortBy","name"),p(s(t),"isRemoving",{}),t}return d=g,(m=[{key:"getCollection",value:function(){return l.repository.collection}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}},{key:"remove",value:function(e){var i=this;return u.show("confirm",{title:function(){return t.instant("SETTINGS_FIREWALL_GROUPS_DELETE_CONFIRM_TITLE",{groupName:e.get("name")})},message:function(){return t.instant("SETTINGS_FIREWALL_GROUPS_DELETE_CONFIRM_MESSAGE",{groupName:e.get("name")})},options:angular.noop}).then(function(){return i.isRemoving[e.id]=!0,e.destroy({wait:!0}).then(function(){return o.pushSuccess(t.instant("SETTINGS_FIREWALL_GROUPS_DELETE_SUCCESS",{groupName:e.get("name")})),!0}).catch(function(i){return o.pushError(n.appendErrorMsg(t.instant("SETTINGS_FIREWALL_GROUPS_DELETE_ERROR",{groupName:e.get("name")}),i)),!1}).finally(function(){i.isRemoving[e.id]=!1})})}}])&&i(d.prototype,m),f&&i(d,f),g}())}])},{}],61:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiFirewallGroupsList",["ListDirective",function(e){return new e("firewallGroups",t("./firewallGroupsList.pug")(),{onEdit:"&unifiFirewallGroupsListOnEdit"})}])},{"./firewallGroupsList.pug":62}],62:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div><table class="verticalRhythmTop--comfy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="firewallGroupsTable" collection-view-sort="firewallGroupsListCtrl.view"><thead><tr><th class="firewallGroupsName" collection-view-sort-by="name"><span translate="SETTINGS_FIREWALL_GROUPS_TABLE_HEADER_NAME"></span></th><th class="firewallGroupsType" collection-view-sort-by="group_type"><span translate="SETTINGS_FIREWALL_GROUPS_TABLE_HEADER_TYPE"></span></th><th class="firewallGroupsCount"><span translate="SETTINGS_FIREWALL_GROUPS_TABLE_HEADER_COUNT"></span></th><th class="firewallGroupsActions"><span translate="SETTINGS_FIREWALL_GROUPS_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in firewallGroupsListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="firewallGroupsName">{{::model.get(\'name\')}}</td><td class="firewallGroupsType" ng-switch="model.get(\'group_type\')">{{ \'FIREWALL_GROUPS_TYPE_\' + model.get(\'group_type\') | toTranslationKey | translate }}</td><td class="firewallGroupsCount">{{::model.get(\'group_members\').length}}</td><td class="firewallGroupsActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-click="firewallGroupsListCtrl.edit(model)" ng-disabled="firewallGroupsListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="firewallGroupsListCtrl.edit(model)" ng-disabled="firewallGroupsListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-click="firewallGroupsListCtrl.remove(model)" ng-disabled="firewallGroupsListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!firewallGroupsListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_FIREWALL_GROUPS_TABLE_EMPTY"></p></div></div></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],63:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return l(t)}(this,n)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("FirewallRulesController",["$state","$stateParams","BaseListAndFormController","firewallRules","panelViewControllerMixin",function(t,e,n,o,u){return new(function(c){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(g,n);var d,m,f,_=s(g);function g(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(t=_.call(this)).collection=o.repository.collection,u(l(t),"firewallRules","useSettingsPanelView"),t}return d=g,(m=[{key:"onInitViewError",value:function(e){e.message===this.ERROR_EDIT_NOT_FOUND?(this.errorMsg=e.message,t.go(".",{action:"list",ruleset:void 0,id:void 0})):r(p(g.prototype),"onInitViewError",this).call(this,e)}},{key:"isRulesetDefined",value:function(){return!!e.ruleset}}])&&i(d.prototype,m),f&&i(d,f),g}())}])},{}],64:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiFirewallRules",{controller:"FirewallRulesController",controllerAs:"firewallRulesCtrl",template:t("./firewallRules.pug")()})},{"./firewallRules.pug":65}],65:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div id="firewallRulesSettings" ng-switch="::firewallRulesCtrl.usePanelView()"><div class="appView appView--settingsPanelLayout" ng-switch-when="true"><div class="appViewCenterPanel flexFlag flexFlag--vertical fullWidth"><div class="unifiSettingsContainer"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-sub-menu-firewall></unifi-settings-sub-menu-firewall></div><div class="appScrollable appScrollable--centerPanel unifiSettingsPanel flexFlag__body"><div class="unifiSettingsContainer verticalRhythmTop--cozy"><unifi-firewall-rules-list unifi-firewall-rules-list-on-edit="firewallRulesCtrl.edit(model, true)" unifi-firewall-rules-list-on-add="firewallRulesCtrl.add(true)"></unifi-firewall-rules-list></div></div><div class="appScrollable appScrollable--centerPanel unifiSettingsPanel flexFlag__body {{\'unifiSettingsPanel--\' + (firewallRulesCtrl.preferences.model.isSettingsDark() ? \'dark\' : \'light\')}}" ng-if="firewallRulesCtrl.view === \'form\'" ng-class="{\'is-resizing\': resizablePanelCtrl.isDragging}"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-resizable-panel",!0,!0,!0)+' unifi-resizable-panel-direction="[\'top\']" unifi-resizable-panel-initial-height="firewallRulesCtrl.getInitialPanelHeight(\'form\')" unifi-resizable-panel-on-resize-stop="firewallRulesCtrl.onPanelResizeStop(\'form\', height)"><div class="unifiSettingsContainer verticalRhythmTop--cozy" unifi-firewall-rules-form="firewallRulesCtrl.model" unifi-firewall-rules-form-on-save="firewallRulesCtrl.list(true)" unifi-firewall-rules-form-on-cancel="firewallRulesCtrl.list(true)" unifi-firewall-rules-form-is-read-only="!firewallRulesCtrl.isAdmin()"></div></div></div></div><div class="unifiSettingsContainer" ng-switch-when="false"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-sub-menu-firewall></unifi-settings-sub-menu-firewall><div ng-if="firewallRulesCtrl.view === \'form\'" unifi-firewall-rules-form="firewallRulesCtrl.model" unifi-firewall-rules-form-on-save="firewallRulesCtrl.list()" unifi-firewall-rules-form-on-cancel="firewallRulesCtrl.list()" unifi-firewall-rules-form-is-read-only="!firewallRulesCtrl.isAdmin()"></div><unifi-firewall-rules-list class="verticalRhythmTop--comfy" ng-if="firewallRulesCtrl.view === \'list\'" unifi-firewall-rules-list-on-edit="firewallRulesCtrl.edit(model)" unifi-firewall-rules-list-on-add="firewallRulesCtrl.add()"></unifi-firewall-rules-list></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],66:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("FirewallRulesFormController",["$state","$stateParams","$translate","apiResults","featureFlag","firewallGroups","firewallRules","firewallUtils","frame","heyToasts","BaseFormController","modelUtils","networks","regexUtils","FIREWALL","REGEX_PATTERNS",function(t,e,n,o,p,u,c,d,m,f,_,g,S,b,v,y){return new(function(p){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(h,_);var T,E,C,I=s(h);function h(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(t=I.call(this)).FIREWALL=v,t.availableFirewallGroups=[v.GROUPS.ADDRESS_IPV4,v.GROUPS.ADDRESS_IPV6,v.GROUPS.PORT],t.ruleset=e.ruleset,t.isAdvancedExpanded=!0,t.isSourceExpanded=!0,t.isDestinationExpanded=!0,t.networkTypeOptions=[{value:"NETv4",translationKey:"SETTINGS_FIREWALL_RULES_LABEL_NETWORK_TYPE_NETV4"},{value:"ADDRv4",translationKey:"SETTINGS_FIREWALL_RULES_LABEL_NETWORK_TYPE_ADDRV4"}],t.patterns={macAddress:b.exact(y.MAC_ADDRESS),ipv4:y.IPV4_ADDRESS},t.translations={buttonAdd:{"address-group":"SETTINGS_FIREWALL_RULES_BUTTON_ADDRESS_GROUP_ADD","ipv6-address-group":"SETTINGS_FIREWALL_RULES_BUTTON_IPV6_ADDRESS_GROUP_ADD","port-group":"SETTINGS_FIREWALL_RULES_BUTTON_PORT_GROUP_ADD"}},t}return T=h,(E=[{key:"getGroups",value:function(){return u.repository.collection}},{key:"hasSomeGroupsAvailable",value:function(t){return this.getGroups().models.some(function(e){return e.get("group_type")===t})}},{key:"getNetworks",value:function(){return S.repository.collection.filter(function(t){var e=t.get("purpose");return-1!==["corporate","guest"].indexOf(e)})}},{key:"save",value:function(){var t=this;this.isSubmitting=!0,"all"===this.modelCopy.attributes.protocol&&(this.modelCopy.attributes.protocol_match_excepted=!1),"all"===this.modelCopy.attributes.protocol_v6&&(this.modelCopy.attributes.protocol_match_excepted=!1);var e=angular.extend({},this.modelCopy.attributes);angular.isArray(e.src_firewallgroup_ids)&&"group"===this.attrSourceType||(e.src_firewallgroup_ids=[]),angular.isArray(e.dst_firewallgroup_ids)&&"group"===this.attrDestinationType||(e.dst_firewallgroup_ids=[]),e.src_networkconf_id&&"network"===this.attrSourceType||(e.src_networkconf_id=""),e.dst_networkconf_id&&"network"===this.attrDestinationType||(e.dst_networkconf_id=""),e.dst_address&&"ip_address"===this.attrDestinationType||(e.dst_address=""),e.src_address&&"ip_address"===this.attrSourceType||(e.src_address=""),!this.isIpv4IcmpTypeAvailable()&&this.isIpv4Selected()&&(e.icmp_typename=""),!this.isIpv6IcmpTypeAvailable()&&this.isIpv6Selected()&&(e.icmpv6_typename=""),this.isIpv4Selected()||(delete e.protocol,delete e.icmp_typename,delete e.src_networkconf_id,delete e.src_networkconf_type,delete e.dst_networkconf_id,delete e.dst_networkconf_type,delete e.dst_address,delete e.src_address),this.isIpv6Selected()||(delete e.protocol_v6,delete e.icmpv6_typename);var i=function(t){return!!t};return e.src_firewallgroup_ids=e.src_firewallgroup_ids.filter(i),e.dst_firewallgroup_ids=e.dst_firewallgroup_ids.filter(i),this.model.save(e,{wait:!0}).then(function(){return f.pushSuccess(n.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:n.instant("SETTINGS_ROUTING_TAB_FIREWALL_RULES").toLowerCase()})),c.repository.collection.add(t.model,{merge:!0}),t.reset(),!0}).catch(function(t){return f.pushError(o.appendErrorMsg(n.instant("COMMON_NOTICE_SAVE_ERROR",{section:n.instant("SETTINGS_ROUTING_TAB_FIREWALL_RULES").toLowerCase()}),t)),!1}).finally(function(){t.isSubmitting=!1})}},{key:"setDefaultAttrs",value:function(t){var e=this,n=c.repository.collection,o=t?"":"Copy";if(this["model"+o]){var i=this["model"+o].attributes;i.ruleset=g.modelGet(this.model,"ruleset",this.ruleset);var r=this.isIpv6Selected()?v.IPV6.VERSION:v.IPV4.VERSION,a=d.getNextHighIndex(n,i.ruleset,r),s=d.getNextLowIndex(n,i.ruleset,r);i.rule_index=1*g.modelGet(this.model,"rule_index",a),i.name=g.modelGet(this.model,"name",""),i.enabled=g.modelGet(this.model,"enabled",!0),i.action=g.modelGet(this.model,"action")||"drop",i.protocol_match_excepted=g.modelGet(this.model,"protocol_match_excepted",!1),i.logging=g.modelGet(this.model,"logging",!1),i.state_new=g.modelGet(this.model,"state_new",!1),i.state_established=g.modelGet(this.model,"state_established",!1),i.state_invalid=g.modelGet(this.model,"state_invalid",!1),i.state_related=g.modelGet(this.model,"state_related",!1),i.ipsec=g.modelGet(this.model,"ipsec",""),i.src_firewallgroup_ids=g.modelGet(this.model,"src_firewallgroup_ids",[]),i.src_mac_address=g.modelGet(this.model,"src_mac_address",""),i.dst_firewallgroup_ids=g.modelGet(this.model,"dst_firewallgroup_ids",[]),this.isIpv4Selected()&&(i.dst_address=g.modelGet(this.model,"dst_address",null),i.src_address=g.modelGet(this.model,"src_address",null),i.protocol=g.modelGet(this.model,"protocol",v.IPV4.POPULAR_PROTOCOLS[0]),i.icmp_typename=g.modelGet(this.model,"icmp_typename",""),i.src_networkconf_id=g.modelGet(this.model,"src_networkconf_id",null),i.src_networkconf_type=g.modelGet(this.model,"src_networkconf_type","NETv4"),i.dst_networkconf_id=g.modelGet(this.model,"dst_networkconf_id",null),i.dst_networkconf_type=g.modelGet(this.model,"dst_networkconf_type","NETv4")),this.isIpv6Selected()&&(i.protocol_v6=g.modelGet(this.model,"protocol_v6",v.IPV6.POPULAR_PROTOCOLS[0]),i.icmpv6_typename=g.modelGet(this.model,"icmpv6_typename",""));var l=function(t,n){var o=e.getGroups().get(n);return o&&o.get("group_type")===t},p=i.src_firewallgroup_ids.find(l.bind(this,v.GROUPS.ADDRESS_IPV4)),u=i.src_firewallgroup_ids.find(l.bind(this,v.GROUPS.ADDRESS_IPV6)),m=i.src_firewallgroup_ids.find(l.bind(this,v.GROUPS.PORT)),f=i.dst_firewallgroup_ids.find(l.bind(this,v.GROUPS.ADDRESS_IPV4)),_=i.dst_firewallgroup_ids.find(l.bind(this,v.GROUPS.ADDRESS_IPV6)),S=i.dst_firewallgroup_ids.find(l.bind(this,v.GROUPS.PORT));i.src_firewallgroup_ids=[p,u,m],i.dst_firewallgroup_ids=[f,_,S],this.attrPriority={},this.attrPriority.high=d.isHighPriority(i.rule_index)?i.rule_index:a,this.attrPriority.low=d.isLowPriority(i.rule_index)?i.rule_index:s,this.attrIpv4ProtocolNumber=1*i.protocol?i.protocol:0,this.attrIpv6ProtocolNumber=1*i.protocol_v6?i.protocol_v6:0,this.attrIpv4ProtocolName=-1!==v.IPV4.BASIC_PROTOCOLS.indexOf(i.protocol)?i.protocol:v.IPV4.BASIC_PROTOCOLS[0],this.attrIpv6ProtocolName=-1!==v.IPV6.BASIC_PROTOCOLS.indexOf(i.protocol_v6)?i.protocol_v6:v.IPV6.BASIC_PROTOCOLS[0],this.attrSourceType=(i.src_networkconf_id?"network":i.src_address&&"ip_address")||"group",this.attrDestinationType=(i.dst_networkconf_id?"network":i.dst_address&&"ip_address")||"group"}}},{key:"createGroup",value:function(t,e){var n=this;m.show("firewallGroupsCreate",{groupType:function(){return e}}).then(function(e){switch(e.get("group_type")){case v.GROUPS.ADDRESS_IPV4:n.modelCopy.attributes[t][0]=e.id;break;case v.GROUPS.ADDRESS_IPV6:n.modelCopy.attributes[t][1]=e.id;break;case v.GROUPS.PORT:n.modelCopy.attributes[t][2]=e.id}})}},{key:"onModelChange",value:function(){this.setDefaultAttrs(!0)}},{key:"reset",value:function(){r(l(h.prototype),"reset",this).call(this),this.setDefaultAttrs(!1)}},{key:"isIpv4IcmpTypeAvailable",value:function(){return this.modelCopy&&"icmp"===this.modelCopy.get("protocol")&&!1===this.modelCopy.get("protocol_match_excepted")}},{key:"isIpv6IcmpTypeAvailable",value:function(){return this.modelCopy&&"icmpv6"===this.modelCopy.get("protocol_v6")&&!1===this.modelCopy.get("protocol_match_excepted")}},{key:"isIpv4Selected",value:function(){return t.is("manage.site.settings.routingAndFirewall.firewall.rulesIpv4")}},{key:"isIpv6Selected",value:function(){return t.is("manage.site.settings.routingAndFirewall.firewall.rulesIpv6")}},{key:"isGroupTypeAllowed",value:function(t){switch(t){case v.GROUPS.ADDRESS_IPV4:return this.isIpv4Selected();case v.GROUPS.ADDRESS_IPV6:return this.isIpv6Selected();case v.GROUPS.PORT:default:return!0}}}])&&i(T.prototype,E),C&&i(T,C),h}())}])},{}],67:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiFirewallRulesForm",["SimpleFormDirective",function(e){return new e("firewallRules",t("./firewallRulesForm.pug")())}])},{"./firewallRulesForm.pug":68}],68:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("novalidate",!0,!0,!0)+' autocomplete="off" name="firewallRulesFormCtrl.form" ng-class="{      \'appForm--isLoading\': !isLoaded,      \'is-form-validation-visible\': firewallRulesFormCtrl.showValidation,      \'is-validation-hidden\': !firewallRulesFormCtrl.showValidation    }" ng-submit="firewallRulesFormCtrl.form.$valid &amp;&amp; firewallRulesFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="firewallRulesFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="firewallRulesFormCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="firewallRulesFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection"><div class="firewallContainerBasicHeader"><div class="appRow"><div class="col--sm12"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="isReadOnly" translate="SETTINGS_FIREWALL_RULES_SECTION_VIEW" translate-values="{ruleName: firewallRulesFormCtrl.model.attributes.name}"></div><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="!isReadOnly &amp;&amp; firewallRulesFormCtrl.model.id" translate="SETTINGS_FIREWALL_RULES_SECTION_EDIT" translate-values="{ruleName: firewallRulesFormCtrl.model.attributes.name}"></div><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="!isReadOnly &amp;&amp; !firewallRulesFormCtrl.model.id" translate="SETTINGS_FIREWALL_RULES_SECTION_CREATE"></div></div></div></div><div class="firewallContainerBasic"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_FIREWALL_RULES_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="firewallRuleName" ng-model="firewallRulesFormCtrl.modelCopy.attributes.name" ng-model-master="firewallRulesFormCtrl.model.attributes.name" ng-maxlength="firewallRulesFormCtrl.FIREWALL.VALIDATORS.RULE_NAME_MAX_LENGTH" required="true"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="firewallRulesFormCtrl.form.firewallRuleName.$error.required" translate="VALIDATION_HINT_REQUIRED"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="firewallRulesFormCtrl.form.firewallRuleName.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: firewallRulesFormCtrl.FIREWALL.VALIDATORS.RULE_NAME_MAX_LENGTH}"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_ENABLED"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{ \'COMMON_TOGGLE_ON\' | translate }}" data-off="{{ \'COMMON_TOGGLE_OFF\' | translate }}"><input type="checkbox" name="firewallRuleEnabled" id="firewallRuleEnabled" ng-model="firewallRulesFormCtrl.modelCopy.attributes.enabled" ng-model-master="firewallRulesFormCtrl.model.attributes.enabled"><label for="firewallRuleEnabled"></label></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_PRIORITY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="priority in [\'high\', \'low\']"><input type="radio" name="firewallRulePriority" id="firewallRulePriority{{priority}}" ng-value="firewallRulesFormCtrl.attrPriority[priority]" ng-model="firewallRulesFormCtrl.modelCopy.attributes.rule_index" ng-model-master="firewallRulesFormCtrl.model.attributes.rule_index" required="true"><label for="firewallRulePriority{{priority}}">{{ \'FIREWALL_RULES_TYPE_PRIORITY_\' + priority | uppercase | translate }}</label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_ACTION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="action in [\'drop\', \'reject\', \'accept\']"><input type="radio" name="firewallRuleAction" id="firewallRuleAction{{action}}" ng-value="action" ng-model="firewallRulesFormCtrl.modelCopy.attributes.action" ng-model-master="firewallRulesFormCtrl.model.attributes.action" required="true"><label for="firewallRuleAction{{action}}">{{ \'FIREWALL_RULES_TYPE_ACTION_\' + action | uppercase | translate }}</label></div></div></div></div><div class="appRow" ng-if="firewallRulesFormCtrl.isIpv4Selected()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_IPV4"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy" ng-repeat="popularProtocol in firewallRulesFormCtrl.FIREWALL.IPV4.POPULAR_PROTOCOLS"><input type="radio" name="firewallRuleIpv4Protocol" id="firewallRuleIpv4Protocol{{popularProtocol}}" ng-value="popularProtocol" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol" required="true"><label for="firewallRuleIpv4Protocol{{popularProtocol}}">{{ \'FIREWALL_RULES_TYPE_PROTOCOL_\' + popularProtocol | toTranslationKey | translate }}</label></div></div><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="firewallRuleIpv4Protocol" ng-value="firewallRulesFormCtrl.attrIpv4ProtocolName" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol" required="true"><label for="firewallRuleIpv4ProtocolName" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_BY_NAME"></label><select name="firewallRuleIpv4ProtocolName" id="firewallRuleIpv4ProtocolName" ng-focus="firewallRulesFormCtrl.modelCopy.attributes.protocol=firewallRulesFormCtrl.attrIpv4ProtocolName" ng-change="firewallRulesFormCtrl.modelCopy.attributes.protocol=firewallRulesFormCtrl.attrIpv4ProtocolName" ng-model="firewallRulesFormCtrl.attrIpv4ProtocolName" ng-options="value as \'FIREWALL_RULES_TYPE_PROTOCOL_\' + value | toTranslationKey | translate for value in firewallRulesFormCtrl.FIREWALL.IPV4.BASIC_PROTOCOLS track by value"></select></div></div><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="firewallRuleIpv4Protocol" ng-value="firewallRulesFormCtrl.attrIpv4ProtocolNumber" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol" required="true"><label for="firewallRuleIpv4ProtocolNumber" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_BY_NUMBER"></label><input type="number" name="firewallRuleIpv4ProtocolNumber" id="firewallRuleIpv4ProtocolNumber" min="0" max="255" ng-focus="firewallRulesFormCtrl.modelCopy.attributes.protocol=firewallRulesFormCtrl.attrIpv4ProtocolNumber" ng-change="firewallRulesFormCtrl.modelCopy.attributes.protocol=firewallRulesFormCtrl.attrIpv4ProtocolNumber" ng-model="firewallRulesFormCtrl.attrIpv4ProtocolNumber"></div></div><div class="appInputGroup" ng-show="firewallRulesFormCtrl.modelCopy.attributes.protocol !== \'all\'"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="firewallRuleIpv4ProtocolExcepted" id="firewallRuleIpv4ProtocolExcepted" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol_match_excepted" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol_match_excepted"><label for="firewallRuleIpv4ProtocolExcepted" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_MATCH_EXCEPTED"></label></div></div></div></div><div class="appRow" ng-if="firewallRulesFormCtrl.isIpv6Selected()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_IPV6"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy" ng-repeat="popularProtocol in firewallRulesFormCtrl.FIREWALL.IPV6.POPULAR_PROTOCOLS"><input type="radio" name="firewallRuleIpv6Protocol" id="firewallRuleIpv6Protocol{{popularProtocol}}" ng-value="popularProtocol" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol_v6" required="true"><label for="firewallRuleIpv6Protocol{{popularProtocol}}">{{ \'FIREWALL_RULES_TYPE_PROTOCOL_\' + popularProtocol | toTranslationKey | translate }}</label></div></div><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="firewallRuleIpv6Protocol" ng-value="firewallRulesFormCtrl.attrIpv6ProtocolName" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol_v6" required="true"><label for="firewallRuleIpv6ProtocolName" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_BY_NAME"></label><select name="firewallRuleIpv6ProtocolName" id="firewallRuleIpv6ProtocolName" ng-focus="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6=firewallRulesFormCtrl.attrIpv6ProtocolName" ng-change="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6=firewallRulesFormCtrl.attrIpv6ProtocolName" ng-model="firewallRulesFormCtrl.attrIpv6ProtocolName" ng-options="value as \'FIREWALL_RULES_TYPE_PROTOCOL_\' + value | toTranslationKey | translate for value in firewallRulesFormCtrl.FIREWALL.IPV6.BASIC_PROTOCOLS track by value"></select></div></div><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="firewallRuleIpv6Protocol" ng-value="firewallRulesFormCtrl.attrIpv6ProtocolNumber" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol_v6" required="true"><label for="firewallRuleIpv6ProtocolNumber" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_BY_NUMBER"></label><input type="number" name="firewallRuleIpv6ProtocolNumber" id="firewallRuleIpv6ProtocolNumber" min="0" max="255" ng-focus="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6=firewallRulesFormCtrl.attrIpv6ProtocolNumber" ng-change="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6=firewallRulesFormCtrl.attrIpv6ProtocolNumber" ng-model="firewallRulesFormCtrl.attrIpv6ProtocolNumber"></div></div><div class="appInputGroup" ng-show="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6 !== \'all\'"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="firewallRuleIpv6ProtocolExcepted" id="firewallRuleIpv6ProtocolExcepted" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol_match_excepted" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol_match_excepted"><label for="firewallRuleIpv6ProtocolExcepted" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_MATCH_EXCEPTED"></label></div></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.isIpv4IcmpTypeAvailable()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_ICMP_TYPE_IPV4"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><select name="firewallRuleIpv4IcmpType" id="firewallRuleIpv4IcmpType" ng-model="firewallRulesFormCtrl.modelCopy.attributes.icmp_typename" ng-model-master="firewallRulesFormCtrl.model.attributes.icmp_typename" ng-options="value as \'FIREWALL_RULES_ICMP_TYPE_\' + value | toTranslationKey | translate for value in firewallRulesFormCtrl.FIREWALL.IPV4.ICMP_TYPES track by value"></select></div></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.isIpv6IcmpTypeAvailable()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_ICMP_TYPE_IPV6"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><select name="firewallRuleIpv6IcmpType" id="firewallRuleIpv6IcmpType" ng-model="firewallRulesFormCtrl.modelCopy.attributes.icmpv6_typename" ng-model-master="firewallRulesFormCtrl.model.attributes.icmpv6_typename" ng-options="value as \'FIREWALL_RULES_ICMP_TYPE_\' + value | toTranslationKey | translate for value in firewallRulesFormCtrl.FIREWALL.IPV6.ICMP_TYPES track by value"></select></div></div></div></div></div><div class="firewallContainerAdvancedHeader"><div class="appRow"><div class="col--sm12"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-click="firewallRulesFormCtrl.isAdvancedExpanded = !firewallRulesFormCtrl.isAdvancedExpanded" ng-class="firewallRulesFormCtrl.isAdvancedExpanded ? [\'appCollapserType\'] : \'appExpanderType\'" translate="SETTINGS_FIREWALL_RULES_LABEL_ADVANCED"></div></div></div></div><div class="firewallContainerAdvanced" ng-show="firewallRulesFormCtrl.isAdvancedExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_LOGGING"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="firewallRuleLogging" id="firewallRuleLogging" ng-model="firewallRulesFormCtrl.modelCopy.attributes.logging" ng-model-master="firewallRulesFormCtrl.model.attributes.logging"><label for="firewallRuleLogging" translate="SETTINGS_FIREWALL_RULES_VALUES_LOGGING"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_STATE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy" ng-repeat="state in [\'new\', \'established\', \'invalid\', \'related\']"><input type="checkbox" name="firewallRuleState" id="firewallRuleState{{state}}" ng-model="firewallRulesFormCtrl.modelCopy.attributes[\'state_\' + state]" ng-model-master="firewallRulesFormCtrl.model.attributes[\'state_\' + state]"><label for="firewallRuleState{{state}}">{{ \'SETTINGS_FIREWALL_RULES_VALUES_STATE_\' + state | uppercase | translate }}</label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_IPSEC"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy" ng-repeat="ipsec in [\'\', \'match-ipsec\', \'match-none\']"><input type="radio" name="firewallRuleIpsec" id="firewallRuleIpsec{{ipsec}}" ng-value="ipsec" ng-model="firewallRulesFormCtrl.modelCopy.attributes.ipsec" ng-model-master="firewallRulesFormCtrl.model.attributes.ipsec"><label for="firewallRuleIpsec{{ipsec}}">{{ \'FIREWALL_RULES_TYPE_IPSEC_\' + ipsec | toTranslationKey | translate }}</label></div></div></div></div></div><div class="firewallContainerSourceHeader"><div class="appRow"><div class="col--sm12"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-click="firewallRulesFormCtrl.isSourceExpanded = !firewallRulesFormCtrl.isSourceExpanded" ng-class="firewallRulesFormCtrl.isSourceExpanded ? [\'appCollapserType\'] : \'appExpanderType\'" translate="SETTINGS_FIREWALL_RULES_LABEL_SOURCE"></div></div></div></div><div class="firewallContainerSource" ng-show="firewallRulesFormCtrl.isSourceExpanded"><div class="appRow" ng-if="firewallRulesFormCtrl.isIpv4Selected()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_SOURCE_TYPE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="sourceType in [\'group\', \'network\', \'ip_address\']"><input type="radio" name="firewallRuleSourceType" id="firewallRuleSourceType{{sourceType}}" ng-value="sourceType" ng-model="firewallRulesFormCtrl.attrSourceType"><label for="firewallRuleSourceType{{sourceType}}">{{ \'SETTINGS_FIREWALL_RULES_LABEL_SOURCE_\' + sourceType | uppercase | translate }}</label></div></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.attrSourceType === \'group\'" ng-repeat="groupType in firewallRulesFormCtrl.availableFirewallGroups" ng-if="firewallRulesFormCtrl.isGroupTypeAllowed(groupType)"><div class="col--sm3"><label class="appLabel appLabel--primary">{{\'SETTINGS_FIREWALL_RULES_LABEL_SOURCE_\' + groupType | toTranslationKey | translate }}</label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select name="firewallRuleSourceGroup[]" ng-model="firewallRulesFormCtrl.modelCopy.attributes.src_firewallgroup_ids[$index]" ng-model-master="firewallRulesFormCtrl.model.attributes.src_firewallgroup_ids[$index]" ng-options="group.id as group.get(\'name\') for group in firewallRulesFormCtrl.getGroups().models | filter:{attributes:{group_type: groupType}}:true" ng-disabled="!firewallRulesFormCtrl.hasSomeGroupsAvailable(groupType)"><option translate="SETTINGS_FIREWALL_RULES_SELECT_GROUP"></option></select><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="firewallRulesFormCtrl.createGroup(\'src_firewallgroup_ids\', groupType)">{{firewallRulesFormCtrl.translations.buttonAdd[groupType] | translate}}</button></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.attrSourceType === \'network\'"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_SOURCE_NETWORK"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select name="firewallRuleSourceNetwork" id="firewallRuleSourceNetwork" ng-model="firewallRulesFormCtrl.modelCopy.attributes.src_networkconf_id" ng-model-master="firewallRulesFormCtrl.model.attributes.src_networkconf_id" ng-options="network.id as network.get(\'name\') for network in firewallRulesFormCtrl.getNetworks()" ng-required="firewallRulesFormCtrl.attrSourceType === \'network\'"><option unifi-option-placeholder="SETTINGS_FIREWALL_RULES_SELECT_NETWORK"></option></select><select name="firewallRuleSourceNetworkType" id="firewallRuleSourceNetworkType" ng-model="firewallRulesFormCtrl.modelCopy.attributes.src_networkconf_type" ng-model-master="firewallRulesFormCtrl.model.attributes.src_networkconf_type" ng-options="option.value as option.translationKey | translate for option in firewallRulesFormCtrl.networkTypeOptions"></select></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.attrSourceType === \'ip_address\'"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_SOURCE_IPV4_ADDRESS"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="text" name="firewallRuleSourceIpv4Address" id="firewallRuleSourceIpv4Address" ng-model="firewallRulesFormCtrl.modelCopy.attributes.src_address" ng-model-master="firewallRulesFormCtrl.model.attributes.src_address" ng-pattern="firewallRulesFormCtrl.patterns.ipv4"></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_SOURCE_MAC"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="text" name="firewallRuleSourceMac" id="firewallRuleSourceMac" ng-model="firewallRulesFormCtrl.modelCopy.attributes.src_mac_address" ng-model-master="firewallRulesFormCtrl.model.attributes.src_mac_address" ng-pattern="firewallRulesFormCtrl.patterns.macAddress"></div></div></div></div></div><div class="firewallContainerDestinationHeader"><div class="appRow"><div class="col--sm12"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-click="firewallRulesFormCtrl.isDestinationExpanded = !firewallRulesFormCtrl.isDestinationExpanded" ng-class="firewallRulesFormCtrl.isDestinationExpanded ? [\'appCollapserType\'] : \'appExpanderType\'" translate="SETTINGS_FIREWALL_RULES_LABEL_DESTINATION"></div></div></div></div><div class="firewallContainerDestination" ng-show="firewallRulesFormCtrl.isDestinationExpanded"><div class="appRow" ng-if="firewallRulesFormCtrl.isIpv4Selected()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_DESTINATION_TYPE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="destinationType in [\'group\', \'network\', \'ip_address\']"><input type="radio" name="firewallRuleDestinationType" id="firewallRuleDestinationType{{destinationType}}" ng-value="destinationType" ng-model="firewallRulesFormCtrl.attrDestinationType"><label for="firewallRuleDestinationType{{destinationType}}">{{ \'SETTINGS_FIREWALL_RULES_LABEL_DESTINATION_\' + destinationType | uppercase | translate }}</label></div></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.attrDestinationType === \'group\'" ng-repeat="groupType in firewallRulesFormCtrl.availableFirewallGroups" ng-if="firewallRulesFormCtrl.isGroupTypeAllowed(groupType)"><div class="col--sm3"><label class="appLabel appLabel--primary">{{\'SETTINGS_FIREWALL_RULES_LABEL_DESTINATION_\' + groupType | toTranslationKey | translate }}</label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select name="firewallRuleDestinationGroup[]" ng-model="firewallRulesFormCtrl.modelCopy.attributes.dst_firewallgroup_ids[$index]" ng-model-master="firewallRulesFormCtrl.model.attributes.dst_firewallgroup_ids[$index]" ng-options="group.id as group.get(\'name\') for group in firewallRulesFormCtrl.getGroups().models | filter:{attributes:{group_type: groupType}}:true" ng-disabled="!firewallRulesFormCtrl.hasSomeGroupsAvailable(groupType)"><option translate="SETTINGS_FIREWALL_RULES_SELECT_GROUP"></option></select><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="firewallRulesFormCtrl.createGroup(\'dst_firewallgroup_ids\', groupType)">{{firewallRulesFormCtrl.translations.buttonAdd[groupType] | translate}}</button></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.attrDestinationType === \'network\'"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_DESTINATION_NETWORK"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select name="firewallRuleDestinationNetwork" id="firewallRuleDestinationNetwork" ng-model="firewallRulesFormCtrl.modelCopy.attributes.dst_networkconf_id" ng-model-master="firewallRulesFormCtrl.model.attributes.dst_networkconf_id" ng-options="network.id as network.get(\'name\') for network in firewallRulesFormCtrl.getNetworks()" ng-required="firewallRulesFormCtrl.attrDestinationType === \'network\'"><option unifi-option-placeholder="SETTINGS_FIREWALL_RULES_SELECT_NETWORK"></option></select><select name="firewallRuleDestinationNetworkType" id="firewallRuleDestinationNetworkType" ng-model="firewallRulesFormCtrl.modelCopy.attributes.dst_networkconf_type" ng-model-master="firewallRulesFormCtrl.model.attributes.dst_networkconf_type" ng-options="option.value as option.translationKey | translate for option in firewallRulesFormCtrl.networkTypeOptions"></select></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.attrDestinationType === \'ip_address\'"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_DESTINATION_IPV4_ADDRESS"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="text" name="firewallRuleDestinationIpv4Address" id="firewallRuleDestinationIpv4Address" ng-model="firewallRulesFormCtrl.modelCopy.attributes.dst_address" ng-model-master="firewallRulesFormCtrl.model.attributes.dst_address" ng-pattern="firewallRulesFormCtrl.patterns.ipv4"></div></div></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success firewallRulesSaveButton" type="submit" ng-if="!isReadOnly" ng-click="firewallRulesFormCtrl.showValidation = true" busy-toggle="firewallRulesFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--transparent cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":2}],69:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("FirewallRulesListController",["$state","$stateParams","$translate","BaseListController","FirewallRulesetFilter","apiResults","bowser","featureFlag","firewallGroups","firewallRules","firewallUtils","frame","heyToasts","networkUtils","networks","preferences","FIREWALL",function(t,e,n,o,s,l,p,u,c,d,m,f,_,g,S,b,v){return new(function(u){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(C,o);var S,y,T,E=a(C);function C(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,C),(t=E.call(this)).filter=new s,t.preferences=b,t.isRemoving={},t.isMoving=!1,t.initRulesets(),t.initSortBy(),t.sortableConfig={animation:100,sort:!0,forceFallback:!!p.is("firefox"),handle:".unifiSettingsSortableHandle",ghostClass:"unifiSettingsSortablePlaceholder",chosenClass:"unifiSettingsSortableChosen",filter:".unifiFirewallRulesSortableDisabled",onMove:function(e){var n=e.dragged.attributes["data-rule-index"].value,o=e.related.attributes["data-rule-index"].value;return!t.isMoving&&m.getPriority(n)===m.getPriority(o)},onEnd:function(){t.saveRulesOrder()}},t.translations={ruleset:{GUEST_IN:"SETTINGS_FIREWALL_RULESET_LABEL_GUEST_IN",GUEST_LOCAL:"SETTINGS_FIREWALL_RULESET_LABEL_GUEST_LOCAL",GUEST_OUT:"SETTINGS_FIREWALL_RULESET_LABEL_GUEST_OUT",LAN_IN:"SETTINGS_FIREWALL_RULESET_LABEL_LAN_IN",LAN_LOCAL:"SETTINGS_FIREWALL_RULESET_LABEL_LAN_LOCAL",LAN_OUT:"SETTINGS_FIREWALL_RULESET_LABEL_LAN_OUT",WAN_IN:"SETTINGS_FIREWALL_RULESET_LABEL_WAN_IN",WAN_LOCAL:"SETTINGS_FIREWALL_RULESET_LABEL_WAN_LOCAL",WAN_OUT:"SETTINGS_FIREWALL_RULESET_LABEL_WAN_OUT",GUESTv6_IN:"SETTINGS_FIREWALL_RULESET_LABEL_GUEST_IN",GUESTv6_LOCAL:"SETTINGS_FIREWALL_RULESET_LABEL_GUEST_LOCAL",GUESTv6_OUT:"SETTINGS_FIREWALL_RULESET_LABEL_GUEST_OUT",LANv6_IN:"SETTINGS_FIREWALL_RULESET_LABEL_LAN_IN",LANv6_LOCAL:"SETTINGS_FIREWALL_RULESET_LABEL_LAN_LOCAL",LANv6_OUT:"SETTINGS_FIREWALL_RULESET_LABEL_LAN_OUT",WANv6_IN:"SETTINGS_FIREWALL_RULESET_LABEL_WAN_IN",WANv6_LOCAL:"SETTINGS_FIREWALL_RULESET_LABEL_WAN_LOCAL",WANv6_OUT:"SETTINGS_FIREWALL_RULESET_LABEL_WAN_OUT"}},t}return S=C,(y=[{key:"getCollection",value:function(){return d.repository.collection}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}},{key:"add",value:function(){if(!this.onAdd)throw new Error("You must pass an onAdd function to the directive");this.onAdd()}},{key:"remove",value:function(t){var e=this;return f.show("confirm",{title:function(){return n.instant("SETTINGS_FIREWALL_RULES_DELETE_CONFIRM_TITLE",{ruleName:t.get("name")})},message:function(){return n.instant("SETTINGS_FIREWALL_RULES_DELETE_CONFIRM_MESSAGE",{ruleName:t.get("name")})},options:angular.noop}).then(function(){return e.isRemoving[t.id]=!0,t.destroy({wait:!0}).then(function(){return _.pushSuccess(n.instant("SETTINGS_FIREWALL_RULES_DELETE_SUCCESS",{ruleName:t.get("name")})),!0}).catch(function(e){return _.pushError(l.appendErrorMsg(n.instant("SETTINGS_FIREWALL_RULES_DELETE_ERROR",{ruleName:t.get("name")}),e)),!1}).finally(function(){e.isRemoving[t.id]=!1})})}},{key:"initRulesets",value:function(){this.rulesetsV4=m.RULESETS_V4,this.rulesetsV6=m.RULESETS_V6}},{key:"initSortBy",value:function(){this.defaultSortBy="rule_index"}},{key:"initFilters",value:function(){e.ruleset&&this.filter.updateRuleset(e.ruleset)}},{key:"updateRuleset",value:function(e){t.go(".",{ruleset:e})}},{key:"isRulesetSelected",value:function(t){return e.ruleset===t}},{key:"isIpv4Selected",value:function(){return t.is("manage.site.settings.routingAndFirewall.firewall.rulesIpv4")}},{key:"isIpv6Selected",value:function(){return t.is("manage.site.settings.routingAndFirewall.firewall.rulesIpv6")}},{key:"isPredefinedRule",value:function(t){return m.isPredefinedRule(t)}},{key:"isNumeric",value:function(t){return Number.isInteger(t)}},{key:"hasGroupsId",value:function(t,e){var n=t.get(e);return n&&n.some(function(t){return!!t})}},{key:"getGroupsName",value:function(t,e){var n=t.get(e),o=c.repository.collection;return n.map(function(t){var e=o.get(t);return e?e.get("name"):t})}},{key:"getNetworkName",value:function(t,e){var n=t.get(e);return g.getNetworkName(n)}},{key:"saveRulesOrder",value:function(){var t=this;this.isMoving=!0;var o=this.isIpv6Selected()?v.IPV6.VERSION:v.IPV4.VERSION;this.view.disableRefresh(),m.saveRulesOrder(this.view.getModels(),e.ruleset,o).then(function(e){e.forEach(function(e){t.getCollection().get(e._id).set("rule_index",e.rule_index)})}).catch(function(){return _.pushError(n.instant("SETTINGS_FIREWALL_RULES_DRAG_AND_DROP_SAVE_ERROR"))}).finally(function(){t.view.enableRefresh(),t.view.refresh(),t.isMoving=!1})}}])&&i(S.prototype,y),T&&i(S,T),C}())}])},{}],70:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiFirewallRulesList",["ListDirective",function(e){return new e("firewallRules",t("./firewallRulesList.pug")(),{onEdit:"&unifiFirewallRulesListOnEdit",onAdd:"&unifiFirewallRulesListOnAdd"})}])},{"./firewallRulesList.pug":71}],71:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup" ng-if="firewallRulesListCtrl.isIpv4Selected()" ng-class="{\'appMainButtonGroup--dark\': firewallRulesListCtrl.preferences.model.isSettingsDark()}"><li class="button appMainButton appMainButton--cozy" ng-repeat="ruleset in firewallRulesListCtrl.rulesetsV4" ng-click="firewallRulesListCtrl.updateRuleset(ruleset)" ng-class="{\'is-button-selected\': firewallRulesListCtrl.isRulesetSelected(ruleset) }" translate="{{firewallRulesListCtrl.translations.ruleset[ruleset]}}"></li></ul><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup verticalRhythmTop--cozy" ng-if="firewallRulesListCtrl.isIpv6Selected()" ng-class="{\'appMainButtonGroup--dark\': firewallRulesListCtrl.preferences.model.isSettingsDark()}"><li class="button appMainButton appMainButton--cozy" ng-repeat="ruleset in firewallRulesListCtrl.rulesetsV6" ng-click="firewallRulesListCtrl.updateRuleset(ruleset)" ng-class="{\'is-button-selected\': firewallRulesListCtrl.isRulesetSelected(ruleset) }" translate="{{firewallRulesListCtrl.translations.ruleset[ruleset]}}"></li></ul><table class="verticalRhythmTop--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="firewallRulesTable"><thead><tr><th class="firewallRulesSortable"></th><th class="firewallRulesIndex"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_INDEX"></span></th><th class="firewallRulesEnabled"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_ENABLED"></span></th><th class="firewallRulesName"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_NAME"></span></th><th class="firewallRulesAction"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_ACTION"></span></th><th class="firewallRulesProtocol"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_PROTOCOL"></span></th><th class="firewallRulesSource"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_SOURCE"></span></th><th class="firewallRulesDestination"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_DESTINATION"></span></th><th class="firewallRulesActions"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody ng-sortable="firewallRulesListCtrl.sortableConfig"><tr ng-repeat="model in firewallRulesListCtrl.view.getModels()" data-id="{{model.id}}" data-rule-index="{{model.get(\'rule_index\')}}" ng-class="{          \'unifiFirewallRulesSortableDisabled\': firewallRulesListCtrl.isPredefinedRule(model)        }"><td class="firewallRulesSortable"><button class="appMainButton appMainButton--tertiary appMainButton--condensed unifiSettingsSortableHandle"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-disabled="firewallRulesListCtrl.isMoving || firewallRulesListCtrl.isPredefinedRule(model) || firewallRulesListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--arrows-updown-leftright"></span></button></td><td class="firewallRulesIndex">{{model.get(\'rule_index\')}}</td><td class="firewallRulesEnabled" ng-bind-html="model.get(\'enabled\') | enabledIcon"></td><td class="firewallRulesName">{{model.get(\'name\')}}</td><td class="firewallRulesAction" ng-switch="model.get(\'action\')"><span ng-switch-when="drop" translate="FIREWALL_RULES_TYPE_ACTION_DROP"></span><span ng-switch-when="reject" translate="FIREWALL_RULES_TYPE_ACTION_REJECT"></span><span ng-switch-when="accept" translate="FIREWALL_RULES_TYPE_ACTION_ACCEPT"></span></td><td class="firewallRulesProtocol" ng-if="firewallRulesListCtrl.isIpv4Selected()"><span ng-if="model.get(\'protocol_match_excepted\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_PROTOCOL_EXCEPT"></span><span ng-if="!firewallRulesListCtrl.isNumeric(model.get(\'protocol\'))" translate="{{\'FIREWALL_RULES_TYPE_PROTOCOL_\' + model.get(\'protocol\') | toTranslationKey}}"></span><span ng-if="firewallRulesListCtrl.isNumeric(model.get(\'protocol\'))">{{model.get(\'protocol\')}}</span></td><td class="firewallRulesProtocol" ng-if="firewallRulesListCtrl.isIpv6Selected()"><span ng-if="model.get(\'protocol_match_excepted\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_PROTOCOL_EXCEPT"></span><span ng-if="!firewallRulesListCtrl.isNumeric(model.get(\'protocol_v6\'))" translate="{{\'FIREWALL_RULES_TYPE_PROTOCOL_\' + model.get(\'protocol_v6\') | toTranslationKey}}"></span><span ng-if="firewallRulesListCtrl.isNumeric(model.get(\'protocol_v6\'))">{{model.get(\'protocol_v6\')}}</span></td><td class="firewallRulesSource"><ul class="list list--cozy"><li class="allowWrap" ng-if="firewallRulesListCtrl.hasGroupsId(model, \'src_firewallgroup_ids\')">{{\'SETTINGS_FIREWALL_RULES_TABLE_HEADER_SOURCE_GROUPS\' | translate}}<div class="inlineBlock noWrap horizontalRhythmLeft--smash" ng-repeat="groupName in firewallRulesListCtrl.getGroupsName(model, \'src_firewallgroup_ids\') track by $index" ng-if="groupName">{{groupName}}</div></li><li ng-if="model.get(\'src_networkconf_id\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_SOURCE_NETWORK" translate-values="{value: firewallRulesListCtrl.getNetworkName(model, \'src_networkconf_id\')}"></li><li ng-if="model.get(\'src_networkconf_id\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_SOURCE_NETWORK_TYPE" translate-values="{value: (\'SETTINGS_FIREWALL_RULES_LABEL_NETWORK_TYPE_\' + model.get(\'src_networkconf_type\') | toTranslationKey | translate ) }"></li><li ng-if="model.get(\'src_address\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_SOURCE_IP_ADDRESS" translate-values="{value: model.get(\'src_address\')}"></li><li ng-if="model.get(\'src_mac_address\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_SOURCE_MAC" translate-values="{value: model.get(\'src_mac_address\')}"></li></ul></td><td class="firewallRulesDestination"><ul class="list list--cozy"><li class="allowWrap" ng-if="firewallRulesListCtrl.hasGroupsId(model, \'dst_firewallgroup_ids\')">{{\'SETTINGS_FIREWALL_RULES_TABLE_HEADER_DESTINATION_GROUPS\' | translate}}<div class="inlineBlock noWrap horizontalRhythmLeft--smash" ng-repeat="groupName in firewallRulesListCtrl.getGroupsName(model, \'dst_firewallgroup_ids\') track by $index" ng-if="groupName">{{groupName}}</div></li><li ng-if="model.get(\'dst_networkconf_id\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_DESTINATION_NETWORK" translate-values="{value: firewallRulesListCtrl.getNetworkName(model, \'dst_networkconf_id\')}"></li><li ng-if="model.get(\'dst_networkconf_id\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_DESTINATION_NETWORK_TYPE" translate-values="{value: (\'SETTINGS_FIREWALL_RULES_LABEL_NETWORK_TYPE_\' + model.get(\'dst_networkconf_type\') | toTranslationKey | translate ) }"></li><li ng-if="model.get(\'dst_address\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_DESTINATION_IP_ADDRESS" translate-values="{value: model.get(\'dst_address\')}"></li></ul></td><td class="firewallRulesActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-click="firewallRulesListCtrl.edit(model)" ng-disabled="firewallRulesListCtrl.isPredefinedRule(model) || firewallRulesListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="firewallRulesListCtrl.edit(model)" ng-disabled="firewallRulesListCtrl.isPredefinedRule(model) || firewallRulesListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-click="firewallRulesListCtrl.remove(model)" ng-disabled="firewallRulesListCtrl.isPredefinedRule(model) || firewallRulesListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!firewallRulesListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_FIREWALL_RULES_TABLE_EMPTY"></p></div></div></div><div class="unifiSettingsFooter"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="firewallRulesListCtrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_FIREWALL_RULES_BUTTON_ADD"></span></button></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],72:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage").controller("FirewallSettingsController",["BaseSettingsController","system",function(t,e){return new(function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(u,t);var o,s,l,p=a(u);function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=p.call(this)).settingsSectionTranslationKey="SETTINGS_FIREWALL_SETTINGS_SECTION_NAME",t.settingsSectionTranslationKeys={usg:"SETTINGS_FIREWALL_SETTINGS_SECTION_NAME"},t.inputs={modules:[{attr:"ftp_module",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_MODULES_FTP"},{attr:"gre_module",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_MODULES_GRE"},{attr:"h323_module",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_MODULES_H323"},{attr:"pptp_module",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_MODULES_PPTP"},{attr:"sip_module",default:!1,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_MODULES_SIP"},{attr:"tftp_module",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_MODULES_TFTP"}],timeouts:[{attr:"icmp_timeout",default:30,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_ICMP",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_ICMP"},{attr:"other_timeout",default:600,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_OTHER",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_OTHER"},{attr:"tcp_close_timeout",default:10,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_CLOSE",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_CLOSE"},{attr:"tcp_close_wait_timeout",default:60,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_CLOSE_WAIT",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_CLOSE_WAIT"},{attr:"tcp_established_timeout",default:7440,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_ESTABLISHED",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_ESTABLISHED"},{attr:"tcp_fin_wait_timeout",default:120,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_FIN_WAIT",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_FIN_WAIT"},{attr:"tcp_last_ack_timeout",default:30,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_LAST_ACK",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_LAST_ACK"},{attr:"tcp_syn_recv_timeout",default:60,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_SYN_RECV",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_SYN_RECV"},{attr:"tcp_syn_sent_timeout",default:120,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_SYN_SENT",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_SYN_SENT"},{attr:"tcp_time_wait_timeout",default:120,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_TIME_WAIT",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_TIME_WAIT"},{attr:"udp_other_timeout",default:30,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_UDP_OTHER",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_UDP_OTHER"},{attr:"udp_stream_timeout",default:180,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_UDP_STREAM",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_UDP_STREAM"}],options:[{attr:"broadcast_ping",default:!1,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_OPTIONS_BROADCAST_PING",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_OPTIONS_BROADCAST_PING"},{attr:"receive_redirects",default:!1,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_OPTIONS_RECEIVE_REDIRECTS",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_OPTIONS_RECEIVE_REDIRECTS"},{attr:"send_redirects",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_OPTIONS_SEND_REDIRECTS",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_OPTIONS_SEND_REDIRECTS"},{attr:"syn_cookies",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_OPTIONS_SYN_COOKIES",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_OPTIONS_SYN_COOKIES"}],logging:[{attr:"firewall_wan_default_log",default:!1,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_LOGGING_WAN",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_LOGGING"},{attr:"firewall_lan_default_log",default:!1,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_LOGGING_LAN"},{attr:"firewall_guest_default_log",default:!1,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_LOGGING_GUEST"}]},e.isUdm()&&delete t.inputs.options,t.isRequired={},t}return o=u,(s=[{key:"onModuleChange",value:function(){this.isRequired.gre_module=!!this.forms.usg.modelCopy.attributes.pptp_module}},{key:"save",value:function(){var t=this,e=[];return this.isSubmitting=!0,this.inputs.timeouts.forEach(function(e){null===t.forms.usg.modelCopy.attributes[e.attr]&&(t.forms.usg.modelCopy.attributes[e.attr]="")}),angular.forEach(["usg"],function(n){e.push(t.saveSection(t.getSettingFromKey(n),t.forms[n].modelCopy.attributes,n))}),this.afterSave(e).finally(function(){t.isSubmitting=!1})}},{key:"getDefaultAttrs",value:function(){var t=this,e={};return this.inputs.modules&&this.inputs.modules.forEach(function(n){!Object.prototype.hasOwnProperty.call(n,"default")||t.model&&t.model.has(n.attr)||(e[n.attr]=n.default)}),this.inputs.options&&this.inputs.options.forEach(function(n){!Object.prototype.hasOwnProperty.call(n,"default")||t.model&&t.model.has(n.attr)||(e[n.attr]=n.default)}),this.inputs.timeouts&&this.inputs.timeouts.forEach(function(n){!Object.prototype.hasOwnProperty.call(n,"default")||t.model&&t.model.has(n.attr)||(e[n.attr]=n.default)}),this.inputs.logging&&this.inputs.logging.forEach(function(n){!Object.prototype.hasOwnProperty.call(n,"default")||t.model&&t.model.has(n.attr)||(e[n.attr]=n.default)}),e}},{key:"onModelChange",value:function(){this.setDefaultAttrs(!0)}}])&&i(o.prototype,s),l&&i(o,l),u}())}])},{}],73:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiFirewallSettings",{controller:"FirewallSettingsController",controllerAs:"firewallSettingsCtrl",template:t("./firewallSettings.pug")()})},{"./firewallSettings.pug":74}],74:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="firewallSettings"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-sub-menu-firewall></unifi-settings-sub-menu-firewall><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="firewallSettingsCtrl.form" ng-class="{      \'is-form-validation-visible\': firewallSettingsCtrl.showValidation,      \'is-validation-hidden\': !firewallSettingsCtrl.showValidation    }" ng-submit="firewallSettingsCtrl.form.$valid &amp;&amp; firewallSettingsCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="firewallSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="firewallSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="firewallSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!firewallSettingsCtrl.isAdmin()"><ng-form name="firewallSettingsCtrl.forms.usg" unifi-model-form="firewallSettingsCtrl.getSettingFromKey(\'usg\', firewallSettingsCtrl.getDefaultAttrs())"><div class="unifiSettingsSection" ng-if="firewallSettingsCtrl.inputs.modules.length"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_FIREWALL_SETTINGS_HEADER_CONNTRACK_MODULES"></div><div class="appRow appRow--condensed" ng-repeat="input in firewallSettingsCtrl.inputs.modules"><div class="col--sm3 col--xs4"><label class="appLabel appLabel--primary" for="firewallModules{{$index}}" translate="{{input.label}}"></label></div><div class="col--sm9 col--xs8"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle appToggle--inline" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                    \'appToggle--invalid\': firewallSettingsCtrl.showValidation &amp;&amp; firewallSettingsCtrl.forms.usg[\'firewallModules\' + $index].$invalid                  }"><input type="checkbox" name="firewallModules{{$index}}" id="firewallModules{{$index}}" ng-model="modelFormCtrl.modelCopy.attributes[input.attr]" ng-model-master="modelFormCtrl.model.attributes[input.attr]" ng-change="firewallSettingsCtrl.onModuleChange(input.attr)" ng-required="firewallSettingsCtrl.isRequired[input.attr]"><label for="firewallModules{{$index}}"></label></div><unifi-tooltip class="ubntTooltip--small" ng-if="input.tooltip"><content translate="{{::input.tooltip}}"></content></unifi-tooltip></div></div></div></div><div class="unifiSettingsSection" ng-if="firewallSettingsCtrl.inputs.timeouts.length"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_FIREWALL_SETTINGS_HEADER_STATE_TIMEOUTS"></div><div class="appRow appRow--condensed" ng-repeat="input in firewallSettingsCtrl.inputs.timeouts"><div class="col--sm3 col--xs4"><label class="appLabel appLabel--primary" for="firewallTimeouts{{$index}}" translate="{{input.label}}"></label></div><div class="col--sm9 col--xs8"><div class="appInputGroup appInputGroup--cozy"><input class="input--mediumNumber" type="number" min="1" max="21474836" id="firewallTimeouts{{$index}}" name="firewallTimeouts{{$index}}" ng-model="modelFormCtrl.modelCopy.attributes[input.attr]" ng-model-master="modelFormCtrl.model.attributes[input.attr]" ng-attr-placeholder="{{input.default}}"><label class="appLabel--boxInline" translate="DATETIME_SECONDS_FULL"></label><unifi-tooltip class="ubntTooltip--small" ng-if="input.tooltip"><content translate="{{::input.tooltip}}"></content></unifi-tooltip></div></div></div></div><div class="unifiSettingsSection" ng-if="firewallSettingsCtrl.inputs.options.length"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_FIREWALL_SETTINGS_HEADER_FIREWALL_OPTIONS"></div><div class="appRow appRow--condensed" ng-repeat="input in firewallSettingsCtrl.inputs.options"><div class="col--sm3 col--xs4"><label class="appLabel appLabel--primary" for="firewallOptions{{$index}}" translate="{{input.label}}"></label></div><div class="col--sm9 col--xs8"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle appToggle--inline" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="firewallOptions{{$index}}" id="firewallOptions{{$index}}" ng-model="modelFormCtrl.modelCopy.attributes[input.attr]" ng-model-master="modelFormCtrl.model.attributes[input.attr]"><label for="firewallOptions{{$index}}"></label></div><unifi-tooltip class="ubntTooltip--small" ng-if="input.tooltip"><content translate="{{::input.tooltip}}"></content></unifi-tooltip></div></div></div></div><div class="unifiSettingsSection" ng-if="firewallSettingsCtrl.inputs.logging.length"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_FIREWALL_SETTINGS_HEADER_LOGGING"></div><div class="appRow appRow--condensed" ng-repeat="input in firewallSettingsCtrl.inputs.logging"><div class="col--sm3 col--xs4"><label class="appLabel appLabel--primary" for="firewallLogging{{$index}}" translate="{{input.label}}"></label></div><div class="col--sm9 col--xs8"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle appToggle--inline" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="firewallLogging{{$index}}" id="firewallLogging{{$index}}" ng-model="modelFormCtrl.modelCopy.attributes[input.attr]" ng-model-master="modelFormCtrl.model.attributes[input.attr]"><label for="firewallLogging{{$index}}"></label></div><unifi-tooltip class="ubntTooltip--small" ng-if="input.tooltip"><content translate="{{::input.tooltip}}"></content></unifi-tooltip></div></div></div></div></ng-form></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythm--cozy verticalRhythmTop--breezy"'+o("unifi-if-role-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="firewallSettingsCtrl.showValidation = true" busy-toggle="firewallSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="firewallSettingsCtrl.reset()" ng-disabled="firewallSettingsCtrl.form.$pristine">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],75:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("GeoIpFilteringController",["_","BaseSettingsController","geoIpFilteringUtils","settings","system",function(t,e,n,o,l){return new(function(u){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(_,e);var c,d,m,f=a(_);function _(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_),p(s(t=f.call(this)),"system",l),p(s(t),"settingsSection","geoip_blocking"),p(s(t),"settingsKey","usg"),p(s(t),"availableToSelectCountries",[]),p(s(t),"filteredCountries",[]),t.maxAllowedCountries=l.isUdm()?150:15,t.prepareDefaultCountries(),t.resetCountrySelection(),t}return c=_,(d=[{key:"save",value:function(){var t=this;this.isSubmitting=!0;var e=this.filteredCountries.map(function(t){return t.country}).join(","),n={geo_ip_filtering_enabled:this.forms.usg.modelCopy.attributes.geo_ip_filtering_enabled,geo_ip_filtering_block:this.forms.usg.modelCopy.attributes.geo_ip_filtering_block,geo_ip_filtering_countries:e,geo_ip_filtering_traffic_direction:this.forms.usg.modelCopy.attributes.geo_ip_filtering_traffic_direction},i=this.site?this.site.id:void 0,r=o.buildSettingFromKey(this.settingsKey,{},i),a=this.saveSection(r,n,this.settingsKey);return this.afterSave([a]).finally(function(){t.isSubmitting=!1})}},{key:"getModel",value:function(){return this.getSettingFromKey(this.settingsKey,{geo_ip_filtering_enabled:!1,geo_ip_filtering_block:"block",geo_ip_filtering_countries:"",geo_ip_filtering_traffic_direction:"both"})}},{key:"prepareDefaultCountries",value:function(){var t=this;this.allCountries=n.getCountryMap(),(this.getSettingFromKey(this.settingsKey,{}).get("geo_ip_filtering_countries")||"").split(",").forEach(function(e){e&&(t.allCountries[e].available=!1)})}},{key:"resetCountrySelection",value:function(){var e=this;this.availableToSelectCountries=[],this.filteredCountries=[],angular.forEach(this.allCountries,function(t,n){t.available?e.availableToSelectCountries.push({value:n,text:t.name}):e.filteredCountries.push({name:t.name,country:n})}),this.availableToSelectCountries=t.sortBy(this.availableToSelectCountries,"text"),this.filteredCountries=t.sortBy(this.filteredCountries,"name")}},{key:"addCountry",value:function(){this.filteredCountries.length<this.maxAllowedCountries&&(this.allCountries[this.selectedCountry]&&(this.allCountries[this.selectedCountry].available=!1),this.resetCountrySelection())}},{key:"removeCountry",value:function(t){this.allCountries[t.country].available=!0,this.resetCountrySelection()}}])&&i(c.prototype,d),m&&i(c,m),_}())}])},{}],76:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiGeoIpFiltering",{controller:"GeoIpFilteringController",controllerAs:"geoIpFilteringCtrl",template:t("./geoIpFiltering.pug")()})},{"./geoIpFiltering.pug":77}],77:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="geoIpFilteringSettings"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="geoIpFilteringCtrl.form" ng-class="{      \'is-form-validation-visible\': geoIpFilteringCtrl.showValidation,      \'is-validation-hidden\': !geoIpFilteringCtrl.showValidation    }" ng-submit="geoIpFilteringCtrl.form.$valid &amp;&amp; geoIpFilteringCtrl.save()" unifi-disable-coming-soon="\'routingAndFirewallGeoIpFiltering\'"><unifi-config-changed unifi-config-changed-on-reset="geoIpFilteringCtrl.resolveDivergence()" unifi-config-changed-on-ignore="geoIpFilteringCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="geoIpFilteringCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!geoIpFilteringCtrl.isAdmin()"><ng-form name="geoIpFilteringCtrl.forms.usg" unifi-model-form="geoIpFilteringCtrl.getModel()"><div class="unifiSettingsSection"><div class="appRow appRow--cozy"><div class="col--xs3"><label class="appLabel appLabel--primary appLabel--boxAlign" for="geoipFilteringEnabled" translate="SETTINGS_GEO_IP_FILTERING_LABEL_ENABLE"></label></div><div class="col--xs9"><div class="appInputGroup appInputGroup--cozy inlineBlock"><div class="toggle appToggle floatLeft" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="geoipFilteringEnabled" id="geoipFilteringEnabled" ng-model="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_enabled" ng-model-master="modelFormCtrl.model.attributes.geo_ip_filtering_enabled"><label for="geoipFilteringEnabled"></label></div><unifi-tooltip class="ubntTooltip--small inlineBlock mt-1" ng-if="!geoIpFilteringCtrl.system.isUdm()"><content translate="SETTINGS_GEO_IP_FILTERING_LABEL_TOOLTIP_ENABLE"></content></unifi-tooltip></div><unifi-notify-device-requirement class="horizontalRhythmLeft--condensed" unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></div></div><div class="unifiSettingsSection" ng-if="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_enabled"><div class="appRow appRow--comfy"><div class="col--xs3"><label class="appLabel appLabel--primary appLabel--boxAlign" for="selectCountry" translate="SETTINGS_GEO_IP_FILTERING_LABEL_COUNTRY"></label></div><div class="col--xs9 col--sm4"><div class="appInputGroup appInputGroup--cozy"><select class="select--full" type="text" id="selectCountry" name="selectCountry" ng-model="geoIpFilteringCtrl.selectedCountry" ng-options="country.value as country.text for country in geoIpFilteringCtrl.availableToSelectCountries" ng-change="geoIpFilteringCtrl.addCountry()" ng-disabled="geoIpFilteringCtrl.filteredCountries.length &gt;= geoIpFilteringCtrl.maxAllowedCountries"><option'+o("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div><div class="col xs9 col-xsOffset3 col--sm4 colsmOffset0" ng-if="geoIpFilteringCtrl.filteredCountries.length &gt;= geoIpFilteringCtrl.maxAllowedCountries"><div class="appType--micro appType--quiet appLabel appLabel--boxAlign italicized" translate="SETTINGS_GEO_IP_FILTERING_TOOLTIP_FILTER_MAX_REACHED" translate-values="{max_countries: geoIpFilteringCtrl.maxAllowedCountries}"></div></div></div><div class="appRow appRow--comfy" ng-if="geoIpFilteringCtrl.filteredCountries.length"><div class="col--xs3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GEO_IP_FILTERING_LABEL_COUNTRIES"></label></div><div class="col--xs9"><unifi-tag-list unifi-tag-list-tags="geoIpFilteringCtrl.filteredCountries" unifi-tag-list-name-property="\'name\'" unifi-tag-list-on-remove="geoIpFilteringCtrl.removeCountry(tag)"></unifi-tag-list></div></div><div class="appRow appRow--comfy"><div class="col--xs3"><label class="appLabel appLabel--primary" for="action" translate="SETTINGS_GEO_IP_FILTERING_LABEL_ACTION"></label></div><div class="col--xs9"><div class="appInputGroup appInputGroup--cozy inline-block"><input type="radio" name="action" id="actionBlock" value="block" ng-model="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_block" ng-model-master="modelFormCtrl.model.attributes.geo_ip_filtering_block"><label for="actionBlock" translate="SETTINGS_GEO_IP_FILTERING_VALUE_BLOCK"></label><input type="radio" name="action" id="actionAllow" value="allow" ng-model="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_block" ng-model-master="modelFormCtrl.model.attributes.geo_ip_filtering_block"><label for="actionAllow" translate="SETTINGS_GEO_IP_FILTERING_VALUE_ALLOW"></label></div></div></div><div class="appRow appRow--comfy"><div class="col--xs3"><label class="appLabel appLabel--primary" for="trafficDirection" translate="SETTINGS_GEO_IP_FILTERING_LABEL_TRAFFIC_DIRECTION"></label></div><div class="col--xs9"><div class="appInputGroup appInputGroup--cozy inline-block"><input type="radio" name="trafficDirection" id="trafficDirectionIncoming" value="ingress" ng-model="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_traffic_direction" ng-model-master="modelFormCtrl.model.attributes.geo_ip_filtering_traffic_direction"><label for="trafficDirectionIncoming" translate="SETTINGS_GEO_IP_FILTERING_VALUE_INCOMING"></label><input type="radio" name="trafficDirection" id="trafficDirectionOutgoing" value="egress" ng-model="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_traffic_direction" ng-model-master="modelFormCtrl.model.attributes.geo_ip_filtering_traffic_direction"><label for="trafficDirectionOutgoing" translate="SETTINGS_GEO_IP_FILTERING_VALUE_OUTGOING"></label><input type="radio" name="trafficDirection" id="trafficDirectionBoth" value="both" ng-model="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_traffic_direction" ng-model-master="modelFormCtrl.model.attributes.geo_ip_filtering_traffic_direction"><label for="trafficDirectionBoth" translate="SETTINGS_GEO_IP_FILTERING_VALUE_BOTH"></label></div></div></div></div></ng-form></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythm--cozy verticalRhythmTop--breezy"'+o("unifi-if-role-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="geoIpFilteringCtrl.showValidation = true" busy-toggle="geoIpFilteringCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="geoIpFilteringCtrl.reset()" ng-disabled="geoIpFilteringCtrl.form.$pristine">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],78:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("GuestControlSettingsController",["_","$q","$translate","BaseSettingsController","bowser","countries","currencyUtils","customPortalPreview","frame","guestPortalImage","heyToasts","HotspotPackageModel","hotspotPackages","preferences","siteUtils","system","UseWebrtc","HOTSPOT_LANGUAGES","HOTSPOT_PORTAL_OVERRIDE_TEMPLATE_HELP","REGEX_PATTERNS","TERMS_OF_SERVICE_DEFAULT","URLS",function(t,e,n,o,l,p,u,c,d,m,f,_,g,S,b,v,y,T,E,C,I,h){var N=["logo","bg_image"],w="portal_customized_";function L(t){return w+t+"_enabled"}function A(t){return w+t+"_filename"}return new(function(w){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(k,o);var O,G,R,F=a(k);function k(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,k),(e=F.call(this))._=t,e.countryCodes=p.getCountryCodes(),e.countryNamesMap=p.getCountryNamesMap(),e.preferences=S,e.system=v,e.UseWebrtc=y,e.HOTSPOT_PORTAL_OVERRIDE_TEMPLATE_HELP=E,e.URLS=h,e.gotoHotspotManager=b.gotoHotspotManager.bind(b),e.isRadiusDisconnectReceiverRunning=v.isRadiusDisconnectReceiverRunning.bind(v),e.isFacebookWifiRegistered=v.isFacebookWifiRegistered.bind(v),e.getActiveSiteDisplayName=b.getActiveSiteDisplayName.bind(b),e.settingsSection="guest_control",e.hotspotPackages=g.repository.collection,e.hotspotPackagesCopy=g.clonePackagesWithDefaults(),e.hotspotPackagesToRemove=[],e.portalPreviewMode="desktop",e.patterns={hostname:C.HOSTNAME,hostnameOrSubnet:C.HOSTNAME_OR_IPV4_SUBNET,ipv6HostnameOrSubnet:C.HOSTNAME_OR_IPV6_SUBNET,ipAddress:C.IPV4_ADDRESS,ipv6Address:C.IPV6_ADDRESS,portNumber:C.PORT_NUMBER,subnet:C.IPV4_SUBNET,ipv6Subnet:C.IPV6_SUBNET,url:C.URL},e.restrictedSubnetMin=0,e.restrictedSubnetMax=1e3,e.allowedSubnetMin=0,e.allowedSubnetMax=1e3,e.guestAccessFormDefaults={auth:"none",expire:480,redirect_enabled:!1,ec_enabled:!0,redirect_url:"",template_engine:"angular",radius_auth_type:"mschapv2",facebook_wifi_gw_name:e.getActiveSiteDisplayName()},e.expirationOptions=[{value:480,translationKey:"DATETIME_HOURS_FULL_PARAMETERIZED",translationParams:{hours:8}},{value:1440,translationKey:"DATETIME_HOURS_FULL_PARAMETERIZED",translationParams:{hours:24}},{value:2880,translationKey:"DATETIME_DAYS_FULL_PARAMETERIZED",translationParams:{days:2}},{value:4320,translationKey:"DATETIME_DAYS_FULL_PARAMETERIZED",translationParams:{days:3}},{value:5760,translationKey:"DATETIME_DAYS_FULL_PARAMETERIZED",translationParams:{days:4}},{value:10080,translationKey:"DATETIME_DAYS_FULL_PARAMETERIZED",translationParams:{days:7}},{value:"custom",translationKey:"COMMON_LABEL_CUSTOM"}],e.gatewayOptions=[{id:"paypal",translationKey:"SETTINGS_GUEST_CONTROL_GATEWAY_PAYPAL"},{id:"stripe",translationKey:"SETTINGS_GUEST_CONTROL_GATEWAY_STRIPE"},{id:"quickpay",translationKey:"SETTINGS_GUEST_CONTROL_GATEWAY_QUICKPAY"},{id:"authorize",translationKey:"SETTINGS_GUEST_CONTROL_GATEWAY_AUTHORIZE"},{id:"merchantwarrior",translationKey:"SETTINGS_GUEST_CONTROL_GATEWAY_MERCHANT_WARRIOR"},{id:"ippay",translationKey:"SETTINGS_GUEST_CONTROL_GATEWAY_IP_PAY"}],e.welcomeTextPositionOptions=[{id:"under_logo",translationKey:"SETTINGS_GUEST_CONTROL_PACKAGE_OPTIONS_WELCOME_TEXT_POSITION_UNDER_LOGO"},{id:"above_boxes",translationKey:"SETTINGS_GUEST_CONTROL_PACKAGE_OPTIONS_WELCOME_TEXT_POSITION_ABOVE_BOXES"}],e.radiusAuthenticationTypeOptions=[{id:"chap",label:"CHAP"},{id:"mschapv2",label:"MS-CHAPv2"}],e.sortablePackagesConfig={animation:100,sort:!0,forceFallback:!!l.is("firefox"),handle:".unifiSettingsSortableHandle",ghostClass:"unifiSettingsSortablePlaceholder",onEnd:e.updatePackagesOrder.bind(s(e))},e}return O=k,(G=[{key:"getLanguages",value:function(){var t=this.forms.guest_access||{};return t&&t.modelCopy&&t.modelCopy.attributes.portal_customized_languages||[]}},{key:"getAvailableLanguages",value:function(){var t=this.getLanguages(),e=this.forms.guest_access;return(e&&e.modelCopy&&e.modelCopy.attributes.portal_customized?T.ALL_LANGUAGES:T.BUILT_IN_LANGUAGES).filter(function(e){return-1===t.indexOf(e)})}},{key:"addLanguage",value:function(t){this.forms.guest_access.modelCopy.attributes.portal_customized_languages.push(t)}},{key:"removeLanguage",value:function(t){var e=this.forms.guest_access.modelCopy.attributes.portal_customized_languages;e.splice(e.indexOf(t),1)}},{key:"isBuiltInLanguage",value:function(t){return-1!==T.BUILT_IN_LANGUAGES.indexOf(t)}},{key:"filterLanguages",value:function(){if(!this.forms.guest_access.modelCopy.attributes.portal_customized){var e=this.forms.guest_access.modelCopy.attributes.portal_customized_languages;this.forms.guest_access.modelCopy.attributes.portal_customized_languages=t.intersection(e,T.BUILT_IN_LANGUAGES)}}},{key:"getPortalPreviewModel",value:function(){return this.forms.guest_access&&this.forms.guest_access.modelCopy?c.getPreviewModel(this.forms.guest_access.modelCopy,this.hotspotPackagesCopy,this.portalPreviewMode):void 0}},{key:"save",value:function(){var t=this;this.isSubmitting=!0;var e=this.getSettingFromKey("guest_access"),n=this.forms.guest_access.modelCopy;return this.beforeSave().then(function(){var o=[t.saveSection(e,n.attributes)];return n.get("payment_enabled")&&(t.hotspotPackagesCopy.models.forEach(function(t){o.push(t.save())}),t.hotspotPackagesToRemove.forEach(function(t){o.push(t.destroy())})),t.afterSave(o).then(function(){t.hotspotPackages.set(t.hotspotPackagesCopy.models)})}).then(function(){v.repository.refresh()}).finally(function(){t.isSubmitting=!1,t.hotspotPackagesToRemove=[]})}},{key:"beforeSave",value:function(){return this.savePortalImages()}},{key:"savePortalImages",value:function(){return"angular"===this.forms.guest_access.modelCopy.attributes.template_engine?this.removeOldCustomPortalImages().then(this.uploadNewCustomPortalImages.bind(this)):e.when()}},{key:"removeOldCustomPortalImages",value:function(){var t=[],n=this.getSettingFromKey("guest_access"),o=this.forms.guest_access.modelCopy;return N.forEach(function(e){var i=o.get(L(e)),r=n.get(A(e)),a=o.get(A(e)),s=!i&&!!r,l=i&&angular.isObject(a),p=!!r&&i&&!a;if(s||!!r&&l||p){var u=m.removeFile(r).catch(function(){}).then(function(){(s||p)&&o.set(A(e),"")});t.push(u)}}),e.all(t)}},{key:"uploadNewCustomPortalImages",value:function(){var t=[],o=this.forms.guest_access.modelCopy;return N.forEach(function(i){var r=o.get(L(i)),a=o.get(A(i));if(r&&angular.isObject(a)){var s=m.uploadFile(a.file).then(function(t){o.set(A(i),t)}).catch(function(){return f.pushError(n.instant("COMMON_NOTICE_UPLOAD_ERROR")),e.reject()});t.push(s)}}),e.all(t)}},{key:"resetPortalCustomization",value:function(){this.forms.guest_access.modelCopy.resetPortalCustomization()}},{key:"formatHotspotPackage",value:function(t){var e=[t.get("name")];return 0!==t.get("amount")&&e.push("("+u.formatAmount(t.get("amount"),t.get("currency"))+")"),e.join(" ")}},{key:"removeHotspotPackage",value:function(t){this.hotspotPackagesCopy.remove(t),t.isNew()||this.hotspotPackagesToRemove.push(t),this.form.$setDirty()}},{key:"editHotspotPackage",value:function(t){d.show("hotspotPackage",{model:function(){return t.deepCopy()},freePackageExists:this.freePackageExists(t)}).then(function(e){t.set(e.attributes)})}},{key:"addHotspotPackage",value:function(){var t=this;d.show("hotspotPackage",{model:function(){return new _},freePackageExists:this.freePackageExists()}).then(function(e){t.hotspotPackagesCopy.add(e)})}},{key:"freePackageExists",value:function(t){var e=this;return function(){return e.hotspotPackagesCopy.models.filter(function(e){return e!==t}).some(function(t){return 0===t.get("amount")})}}},{key:"editTermsOfService",value:function(t){if(t.get("portal_customized_tos_enabled"))return t.get("portal_customized_tos")||t.set("portal_customized_tos",I),d.show("simpleTextEditor",{title:function(){return n.instant("SETTINGS_GUEST_CONTROL_TERMS_OF_SERVICE_MODAL_TITLE")},text:function(){return t.get("portal_customized_tos")}}).then(function(e){t.set("portal_customized_tos",e)});t.set("portal_customized_tos","")}},{key:"editWelcomeText",value:function(t){if(t.get("portal_customized_welcome_text_enabled"))return d.show("simpleTextEditor",{title:function(){return n.instant("SETTINGS_GUEST_CONTROL_WELCOME_TEXT_MODAL_TITLE")},text:function(){return t.get("portal_customized_welcome_text")}}).then(function(e){t.set("portal_customized_welcome_text",e)});t.set("portal_customized_welcome_text","")}},{key:"updatePackagesOrder",value:function(){this.hotspotPackagesCopy.each(function(t,e){t.set("index",e)})}},{key:"isAnyJspAuthenticationMethodEnabled",value:function(){var t=this.forms.guest_access&&this.forms.guest_access.modelCopy?this.forms.guest_access.modelCopy.attributes:{};return t.voucher_enabled||t.payment_enabled}},{key:"isAnySocialAuthenticationMethodEnabled",value:function(){var t=this.forms.guest_access&&this.forms.guest_access.modelCopy?this.forms.guest_access.modelCopy.attributes:{};return t.facebook_enabled||t.google_enabled}},{key:"isRadiusDisconnectReceiverEnabled",value:function(){var t=this.getSettingFromKey("guest_access");return!!t&&!!t.get("radius_enabled")&&!!t.get("radius_disconnect_enabled")}}])&&i(O.prototype,G),R&&i(O,R),k}())}])},{}],79:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiGuestControlSettings",{controller:"GuestControlSettingsController",controllerAs:"guestControlSettingsCtrl",template:t("./guestControlSettings.pug")()})},{"./guestControlSettings.pug":80}],80:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="guestControlSettings"><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="guestControlSettingsCtrl.form" ng-class="{      \'is-form-validation-visible\': guestControlSettingsCtrl.showValidation,      \'is-validation-hidden\': !guestControlSettingsCtrl.showValidation    }" ng-submit="guestControlSettingsCtrl.form.$valid &amp;&amp; guestControlSettingsCtrl.save()"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title">{{::\'SETTINGS_NAV_GUEST_CONTROL\' | translate}}<span class="appBadgeContainer appBadgeContainer--header"><unifi-notify-coming-soon class="inline horizontalRhythmLeft--condensed" unifi-notify-coming-soon-feature="\'guestControl\'"></unifi-notify-coming-soon></span></div></div><unifi-config-changed unifi-config-changed-on-reset="guestControlSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="guestControlSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="guestControlSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!guestControlSettingsCtrl.isAdmin()" unifi-disable-coming-soon="\'guestControl\'"><ng-form name="guestControlSettingsCtrl.forms.guest_access" unifi-model-form="guestControlSettingsCtrl.getSettingFromKey(\'guest_access\', guestControlSettingsCtrl.guestAccessFormDefaults)"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_SECTION_GUEST_POLICIES"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_ENABLED"></label></div><div class="col--sm5 appFormGroup appFormGroup--condensed"><div class="appInputGroup appInputGroup--comfy"><input type="checkbox" name="guestControlEnable" id="guestControlEnable" ng-model="modelFormCtrl.modelCopy.attributes.portal_enabled" ng-model-master="modelFormCtrl.model.attributes.portal_enabled"><label for="guestControlEnable" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLED"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="controller"></unifi-notify-device-requirement></div></div></div><fieldset class="appFieldset appFieldset--quiet" ng-show="modelFormCtrl.setVisibility(\'portal-enabled\', modelFormCtrl.modelCopy.attributes.portal_enabled)"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_AUTHENTICATION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlAuth" id="guestControlAuthNone" value="none" ng-model="modelFormCtrl.modelCopy.attributes.auth" ng-model-master="modelFormCtrl.model.attributes.auth"><label for="guestControlAuthNone" translate="SETTINGS_GUEST_CONTROL_VALUES_AUTH_NO_AUTHENTICATION"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlAuth" id="guestControlAuthHotspot" value="hotspot" ng-model="modelFormCtrl.modelCopy.attributes.auth" ng-model-master="modelFormCtrl.model.attributes.auth"><label for="guestControlAuthHotspot" translate="SETTINGS_GUEST_CONTROL_VALUES_AUTH_HOTSPOT"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-if="::(\'enableFacebookWifi\' | featureFlagEnable)"><input type="radio" name="guestControlAuth" id="guestControlAuthFacebookWifi" value="facebook_wifi" ng-model="modelFormCtrl.modelCopy.attributes.auth" ng-model-master="modelFormCtrl.model.attributes.auth" ng-change="modelFormCtrl.modelCopy.attributes.redirect_https = false"><label for="guestControlAuthFacebookWifi" translate="SETTINGS_GUEST_CONTROL_VALUES_AUTH_FACEBOOK_WIFI"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlAuth" id="guestControlAuthCustom" value="custom" ng-model="modelFormCtrl.modelCopy.attributes.auth" ng-model-master="modelFormCtrl.model.attributes.auth"><label for="guestControlAuthCustom" translate="SETTINGS_GUEST_CONTROL_VALUES_AUTH_EXTERNAL_PORTAL_SERVER"></label></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.setVisibility(\'expiration\', [\'none\', \'hotspot\', \'facebook_wifi\'].indexOf(modelFormCtrl.modelCopy.attributes.auth) !== -1)"><div class="col--sm3"><label class="appLabel appLabel--primary">{{(modelFormCtrl.getVisibility(\'hotspot\') ? \'SETTINGS_GUEST_CONTROL_LABEL_DEFAULT_EXPIRATION\' : \'SETTINGS_GUEST_CONTROL_LABEL_EXPIRATION\') | translate}}</label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><select name="guestControlExpiration" ng-model="modelFormCtrl.modelCopy.attributes.expire" ng-model-master="modelFormCtrl.model.attributes.expire" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\', \'expiration\'])" ng-options="option.value as option.translationKey | translate:option.translationParams:\'messageformat\' for option in guestControlSettingsCtrl.expirationOptions"><option'+o("unifi-option-placeholder",!0,!0,!0)+'></option></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-if="modelFormCtrl.modelCopy.attributes.expire === \'custom\'"><input class="input--smallNumber" type="number" name="guestControlCustomExpireNum" min="1" max="1000000" ng-model="modelFormCtrl.modelCopy.attributes.expire_number" ng-model-master="modelFormCtrl.model.attributes.expire_number" ng-model-master-cleanup="true" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\', \'expiration\']) &amp;&amp; modelFormCtrl.modelCopy.attributes.expire === \'custom\'"'+o("unifi-string-to-integer-input",!0,!0,!0)+'><select name="guestControlCustomExpireUnit" ng-model="modelFormCtrl.modelCopy.attributes.expire_unit" ng-model-master="modelFormCtrl.model.attributes.expire_unit" ng-model-master-cleanup="true" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\', \'expiration\']) &amp;&amp; modelFormCtrl.modelCopy.attributes.expire === \'custom\'"><option'+o("unifi-option-placeholder",!0,!0,!0)+'></option><option value="1"><span>{{\'DATETIME_MINUTES_FULL\' | translate}}</span></option><option value="60"><span>{{\'DATETIME_HOURS_FULL\' | translate}}</span></option><option value="1440"><span>{{\'DATETIME_DAYS_FULL\' | translate}}</span></option></select></div></div><div class="appInputFeedback appInputFeedback--danger" ng-if="modelFormCtrl.form.guestControlCustomExpireNum.$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: 1, max: 1000000}"></div></div></div><div class="appRow" ng-show="modelFormCtrl.setVisibility(\'landing-page\', [\'none\', \'hotspot\'].indexOf(modelFormCtrl.modelCopy.attributes.auth) !== -1)"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_LANDING_PAGE"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlRedirect" id="guestControlRedirectFalse" ng-value="false" ng-model="modelFormCtrl.modelCopy.attributes.redirect_enabled" ng-model-master="modelFormCtrl.model.attributes.redirect_enabled"><label for="guestControlRedirectFalse" translate="SETTINGS_GUEST_CONTROL_VALUES_LANDING_ORIGINAL_URL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlRedirect" id="guestControlRedirectTrue" ng-value="true" ng-model="modelFormCtrl.modelCopy.attributes.redirect_enabled" ng-model-master="modelFormCtrl.model.attributes.redirect_enabled"><label for="guestControlRedirectTrue" translate="SETTINGS_GUEST_CONTROL_VALUES_LANDING_PROMOTIONAL_URL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" name="guestControlRedirectUrl" ng-model="modelFormCtrl.modelCopy.attributes.redirect_url" ng-model-master="modelFormCtrl.model.attributes.redirect_url" ng-disabled="!modelFormCtrl.modelCopy.attributes.redirect_enabled" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\', \'landing-page\']) &amp;&amp; modelFormCtrl.modelCopy.attributes.redirect_enabled" ng-pattern="guestControlSettingsCtrl.patterns.url" placeholder="http://"></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.setVisibility(\'custom-portal-ip\', modelFormCtrl.modelCopy.attributes.auth === \'custom\')"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_CUSTOM_PORTAL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><label class="appLabel--boxInline" for="guestControlPortalIpAddress" translate="SETTINGS_GUEST_CONTROL_VALUES_IP_ADDRESS"></label><input type="text" id="guestControlPortalIpAddress" name="guestControlPortalIpAddress" ng-model="modelFormCtrl.modelCopy.attributes.custom_ip" ng-model-master="modelFormCtrl.model.attributes.custom_ip" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\', \'custom-portal-ip\'])" ng-pattern="guestControlSettingsCtrl.patterns.ipAddress"></div><div class="appInputGroup appInputGroup--cozy" ng-if="::(\'enableIpv6GuestControl\' | featureFlagEnable)"><label class="appLabel--boxInline" for="guestControlPortalIpv6Address" translate="SETTINGS_GUEST_CONTROL_VALUES_IPV6_ADDRESS"></label><input type="text" id="guestControlPortalIpv6Address" name="guestControlPortalIpv6Address" ng-model="modelFormCtrl.modelCopy.attributes.custom_ipv6" ng-model-master="modelFormCtrl.model.attributes.custom_ipv6" ng-pattern="guestControlSettingsCtrl.patterns.ipv6Address"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_REDIRECTION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="guestControlPortalToHttps" id="guestControlPortalToHttps" ng-model="modelFormCtrl.modelCopy.attributes.redirect_to_https" ng-model-master="modelFormCtrl.model.attributes.redirect_to_https"><label for="guestControlPortalToHttps" translate="SETTINGS_GUEST_CONTROL_VALUES_REDIRECT_TO_HTTPS"></label><unifi-tooltip class="ubntTooltip--small" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_REDIRECT_TO_HTTPS"></content></unifi-tooltip></div></div><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlPortalUseHostname" id="guestControlPortalUseHostname" ng-disabled="guestControlSettingsCtrl.system.isUnifiGo()" ng-model="modelFormCtrl.modelCopy.attributes.portal_use_hostname" ng-model-master="modelFormCtrl.model.attributes.portal_use_hostname" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'new-angular-engine\']) &amp;&amp; guestControlSettingsCtrl.isAnySocialAuthenticationMethodEnabled()"><label for="guestControlPortalUseHostname" translate="SETTINGS_GUEST_CONTROL_VALUES_REDIRECT_USING_HOSTNAME"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><div class="appIconInput appIconInput--left"><div class="appIconInput__icon" ng-show="!modelFormCtrl.modelCopy.attributes.redirect_to_https">http://</div><div class="appIconInput__icon" ng-show="modelFormCtrl.modelCopy.attributes.redirect_to_https">https://</div><input type="text" name="guestControlPortalHostname" ng-model="modelFormCtrl.modelCopy.attributes.portal_hostname" ng-model-master="modelFormCtrl.model.attributes.portal_hostname" ng-disabled="!modelFormCtrl.modelCopy.attributes.portal_use_hostname || guestControlSettingsCtrl.system.isUnifiGo()" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\']) &amp;&amp; modelFormCtrl.modelCopy.attributes.portal_use_hostname" style="padding-left: {{modelFormCtrl.modelCopy.attributes.redirect_to_https ? 41 : 36}}px"></div></div><div class="appInputGroup appInputGroup--cozy noMarginTop" ng-if="guestControlSettingsCtrl.forms.guest_access.guestControlPortalUseHostname.$invalid" ng-show="guestControlSettingsCtrl.showValidation"><div class="appInputFeedback appInputFeedback--danger" translate="SETTINGS_GUEST_CONTROL_VALIDATION_USE_HOSTNAME"></div></div></div><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="guestControlPortalHttps" id="guestControlPortalHttps" ng-model="modelFormCtrl.modelCopy.attributes.redirect_https" ng-model-master="modelFormCtrl.model.attributes.redirect_https" ng-disabled="modelFormCtrl.modelCopy.attributes.auth === \'facebook_wifi\' || (modelFormCtrl.getVisibility(\'hotspot\') &amp;&amp; (modelFormCtrl.modelCopy.attributes.facebook_enabled || modelFormCtrl.modelCopy.attributes.google_enabled))"><label for="guestControlPortalHttps" translate="SETTINGS_GUEST_CONTROL_VALUES_REDIRECT_HTTPS"></label><unifi-tooltip class="ubntTooltip--small" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_REDIRECT_HTTPS"></content></unifi-tooltip></div></div><div class="appInputGroup" ng-show="modelFormCtrl.setVisibility(\'custom\', modelFormCtrl.modelCopy.attributes.auth !== \'custom\')"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="guestControlPortalEc" id="guestControlPortalEc" ng-model="modelFormCtrl.modelCopy.attributes.ec_enabled" ng-model-master="modelFormCtrl.model.attributes.ec_enabled"><label for="guestControlPortalEc" translate="SETTINGS_GUEST_CONTROL_VALUES_REDIRECT_EC"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_REDIRECT_EC"></content></unifi-tooltip></div></div></div></div></fieldset></div>\x3c!-- Portal Customization--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility(\'portal-enabled\') &amp;&amp; modelFormCtrl.setVisibility(\'portal-customization\', [\'none\', \'hotspot\'].indexOf(modelFormCtrl.modelCopy.attributes.auth) !== -1)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_PORTAL_CUSTOMIZATION"></span></div><fieldset class="appFieldset appFieldset--quiet"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_TEMPLATE_ENGINE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlTemplateEngine" id="guestControlTemplateEngineAngular" value="angular" ng-model="modelFormCtrl.modelCopy.attributes.template_engine" ng-model-master="modelFormCtrl.model.attributes.template_engine"><label for="guestControlTemplateEngineAngular" translate="SETTINGS_GUEST_CONTROL_VALUES_TEMPLATE_ENGINE_ANGULAR"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlTemplateEngine" id="guestControlTemplateEngineJSP" value="jsp" ng-model="modelFormCtrl.modelCopy.attributes.template_engine" ng-model-master="modelFormCtrl.model.attributes.template_engine"><label for="guestControlTemplateEngineJSP" translate="SETTINGS_GUEST_CONTROL_VALUES_TEMPLATE_ENGINE_JSP"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_OVERRIDE_DEFAULT_TEMPLATES"></label></div></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--comfy"><input type="checkbox" name="guestControlCustomPortal" id="guestControlCustomPortal" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized" ng-model-master="modelFormCtrl.model.attributes.portal_customized" ng-change="guestControlSettingsCtrl.filterLanguages()"><label for="guestControlCustomPortal" translate="SETTINGS_GUEST_CONTROL_VALUES_OVERRIDE_DEFAULT_TEMPLATES"></label><unifi-tooltip class="ubntTooltip--small" unifi-tooltip-clickable="true" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_PROMPT_OVERRIDE_DEFAULT_TEMPLATES" translate-values="{helpLink: guestControlSettingsCtrl.HOTSPOT_PORTAL_OVERRIDE_TEMPLATE_HELP[modelFormCtrl.modelCopy.attributes.template_engine]}"></content></unifi-tooltip></div><div class="appInputGroup appInputGroup--cozy" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\' &amp;&amp; modelFormCtrl.modelCopy.attributes.portal_customized"><unifi-hotspot-overrides-upgrade></unifi-hotspot-overrides-upgrade></div></div></div><div class="appRow" ng-show="modelFormCtrl.setVisibility(\'new-angular-engine\', modelFormCtrl.modelCopy.attributes.template_engine === \'angular\')"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_PORTAL_CUSTOMIZATION_TITLE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="text" name="guestControlCustomPortalTitle" id="guestControlCustomPortalTitle" ng-maxlength="128" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_title" ng-model-master="modelFormCtrl.model.attributes.portal_customized_title" placeholder="{{ \'SETTINGS_GUEST_CONTROL_PLACEHOLDER_PORTAL_CUSTOMIZATION_TITLE\' | translate }}"></div></div></div><div class="appRow" ng-show="modelFormCtrl.getVisibility(\'new-angular-engine\')"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_WELCOME_TEXT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlWelcomeText" id="guestControlWelcomeText" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_welcome_text_enabled" ng-model-master="modelFormCtrl.model.attributes.portal_customized_welcome_text_enabled" ng-change="guestControlSettingsCtrl.editWelcomeText(modelFormCtrl.modelCopy)"><label for="guestControlWelcomeText" translate="SETTINGS_GUEST_CONTROL_VALUES_WELCOME_TEXT"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="modelFormCtrl.setVisibility(\'welcome-text\', modelFormCtrl.modelCopy.attributes.portal_customized_welcome_text_enabled)"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="guestControlSettingsCtrl.editWelcomeText(modelFormCtrl.modelCopy)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button></div></div><div class="appInputGroup appInputGroup--cozy" ng-show="modelFormCtrl.getVisibility(\'new-angular-engine\') &amp;&amp; modelFormCtrl.modelCopy.attributes.portal_customized_welcome_text_enabled"><label class="appLabel appLabel--boxInline" for="welcomeTextPosition" translate="SETTINGS_GUEST_CONTROL_LABEL_WELCOME_TEXT_POSITION"></label><select name="welcomeTextPosition" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_welcome_text_position" ng-model-master="modelFormCtrl.model.attributes.portal_customized_welcome_text_position" ng-options="position.id as position.translationKey | translate for position in guestControlSettingsCtrl.welcomeTextPositionOptions" ng-required="modelFormCtrl.getVisibility([\'welcome-text\'])"><option'+o("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div></div><div class="appRow" ng-show="modelFormCtrl.getVisibility(\'new-angular-engine\')"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_TERMS_OF_SERVICE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlTermsOfService" id="guestControlTermsOfService" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_tos_enabled" ng-model-master="modelFormCtrl.model.attributes.portal_customized_tos_enabled" ng-change="guestControlSettingsCtrl.editTermsOfService(modelFormCtrl.modelCopy)"><label for="guestControlTermsOfService" translate="SETTINGS_GUEST_CONTROL_VALUES_TERMS_OF_SERVICE"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="modelFormCtrl.modelCopy.attributes.portal_customized_tos_enabled"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="guestControlSettingsCtrl.editTermsOfService(modelFormCtrl.modelCopy)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.getVisibility(\'new-angular-engine\')"><div class="col--sm3"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_LANGUAGES"></label></div></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><table class="appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="hotspotLanguages"><thead><th class="unifiSettingsGuestControlTable__languageCode" colspan="2"><span translate="SETTINGS_GUEST_CONTROL_LANGUAGE_OPTIONS_TABLE_HEADER_CODE"></span></th><th><span translate="SETTINGS_GUEST_CONTROL_LANGUAGE_OPTIONS_TABLE_HEADER_LANGUAGE"></span></th><th><span translate="SETTINGS_GUEST_CONTROL_LANGUAGE_OPTIONS_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="languageCode in guestControlSettingsCtrl.getLanguages() | orderBy"><td class="unifiSettingsGuestControlTable__languageCode"><span>{{languageCode}}</span></td><td class="wrappable appTableCell--smash"><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_CUSTOM_LANGUAGE" translate-values="{directory: languageCode}"></content></unifi-tooltip></td><td>{{\'LANGUAGE_\' + languageCode.toUpperCase() | translate}}</td><td class="appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="guestControlSettingsCtrl.removeLanguage(languageCode)" title="{{\'COMMON_ACTIONS_DELETE\' | translate}}" ng-disabled="languageCode === \'en\'"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-if="guestControlSettingsCtrl.getAvailableLanguages().length &gt; 0"><select ng-model="languageToAdd" ng-options="(\'LANGUAGE_\' + languageCode.toUpperCase() | translate) + \' [\' + languageCode + \']\' for languageCode in guestControlSettingsCtrl.getAvailableLanguages()"><option'+o("unifi-option-placeholder",!0,!0,!0)+'></option></select><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="guestControlSettingsCtrl.addLanguage(languageToAdd); languageToAdd = null" ng-disabled="!languageToAdd"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_GUEST_CONTROL_LANGUAGE_OPTIONS_ACTIONS_ADD_LANGUAGE"></span></button></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="modelFormCtrl.getVisibility(\'new-angular-engine\')"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_PORTAL_CUSTOMIZATION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appRow"><div class="col--lg4"><div class="appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" id="guestControlCustomPortalEnableLogo" name="guestControlCustomPortalEnableLogo" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_logo_enabled" ng-model-master="modelFormCtrl.model.attributes.portal_customized_logo_enabled"><label for="guestControlCustomPortalEnableLogo" translate="SETTINGS_GUEST_CONTROL_LABEL_PORTAL_CUSTOMIZATION_ENABLE_LOGO"></label><unifi-upload-guest-portal-image ng-show="modelFormCtrl.modelCopy.attributes.portal_customized_logo_enabled" unifi-upload-guest-portal-image-label-change="SETTINGS_GUEST_CONTROL_ACTIONS_PORTAL_CUSTOMIZATION_CHANGE_IMAGE" unifi-upload-guest-portal-image-label-upload="SETTINGS_GUEST_CONTROL_ACTIONS_PORTAL_CUSTOMIZATION_UPLOAD_IMAGE" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_logo_filename" ng-model-master="modelFormCtrl.model.attributes.portal_customized_logo_filename"></unifi-upload-guest-portal-image></div></div><div class="appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" id="guestControlCustomPortalEnableBackgroundImage" name="guestControlCustomPortalEnableBackgroundImage" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_bg_image_enabled" ng-model-master="modelFormCtrl.model.attributes.portal_customized_bg_image_enabled"><label for="guestControlCustomPortalEnableBackgroundImage" translate="SETTINGS_GUEST_CONTROL_LABEL_PORTAL_CUSTOMIZATION_ENABLE_BACKGROUND_IMAGE"></label><unifi-upload-guest-portal-image ng-show="modelFormCtrl.modelCopy.attributes.portal_customized_bg_image_enabled" unifi-upload-guest-portal-image-label-change="SETTINGS_GUEST_CONTROL_ACTIONS_PORTAL_CUSTOMIZATION_CHANGE_IMAGE" unifi-upload-guest-portal-image-label-upload="SETTINGS_GUEST_CONTROL_ACTIONS_PORTAL_CUSTOMIZATION_UPLOAD_IMAGE" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_bg_image_filename" ng-model-master="modelFormCtrl.model.attributes.portal_customized_bg_image_filename"></unifi-upload-guest-portal-image></div><div class="appInputGroup appInputGroup--cozy" ng-show="modelFormCtrl.modelCopy.attributes.portal_customized_bg_image_enabled"><input type="checkbox" id="guestControlCustomPortalTileBackgroundImage" name="guestControlCustomPortalTileBackgroundImage" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_bg_image_tile" ng-model-master="modelFormCtrl.model.attributes.portal_customized_bg_image_tile"><label for="guestControlCustomPortalTileBackgroundImage" translate="SETTINGS_GUEST_CONTROL_LABEL_PORTAL_CUSTOMIZATION_TILE_BACKGROUND_IMAGE"></label></div></div><div class="appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_bg_color"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.isSettingsDark()}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_bg_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalBgColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BACKGROUND_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+o("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalBgColor" name="guestControlCustomPortalBgColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_bg_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_bg_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_text_color"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.isSettingsDark()}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_text_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalTextColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_TEXT_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+o("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalTextColor" name="guestControlCustomPortalTextColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_text_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_text_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_button_color"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.isSettingsDark()}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_button_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalButtonColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BUTTON_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+o("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalButtonColor" name="guestControlCustomPortalButtonColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_button_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_button_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_button_text_color"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.isSettingsDark()}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_button_text_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalButtonTextColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BUTTON_TEXT_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+o("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalButtonTextColor" name="guestControlCustomPortalButtonTextColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_button_text_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_button_text_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_link_color"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.isSettingsDark()}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_link_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalLinkColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_LINK_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+o("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalLinkColor" name="guestControlCustomPortalLinkColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_link_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_link_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_color"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.isSettingsDark()}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_box_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalBoxColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BOX_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+o("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalBoxColor" name="guestControlCustomPortalBoxColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_box_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_text_color"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.isSettingsDark()}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_box_text_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalBoxTextColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BOX_TEXT_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+o("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalBoxTextColor" name="guestControlCustomPortalBoxTextColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_text_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_box_text_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_link_color"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.isSettingsDark()}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_box_link_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalBoxLinkColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BOX_LINK_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+o("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalBoxLinkColor" name="guestControlCustomPortalBoxLinkColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_link_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_box_link_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><input'+o("unifi-truthy-checkbox",!0,!0,!0)+' unifi-truthy-checkbox-false-value="100" unifi-truthy-checkbox-default-true-value="30" type="checkbox" id="guestControlCustomPortalBoxOpacityCheckbox" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_opacity"><label for="guestControlCustomPortalBoxOpacityCheckbox" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BOX_OPACITY"></label><div class="appIconInput appIconInput--right"><div class="appIconInput__icon">%</div><input class="appIconInput__input" min="0" max="100" maxlength="3" id="guestControlCustomPortalBoxOpacity" name="guestControlCustomPortalBoxOpacity" type="number" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_opacity" ng-model-master="modelFormCtrl.model.attributes.portal_customized_box_opacity" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></div></div><div class="col--lg8 visible--desktop"><button class="appMainButton appMainButton--tertiary appMainButton--condensed floatRight" type="button" ng-click="guestControlSettingsCtrl.resetPortalCustomization()"><span class="button__icon icon ubnt-icon--reset"></span><span translate="SETTINGS_GUEST_CONTROL_ACTIONS_PORTAL_CUSTOMIZATION_RESET_STYLE"></span></button><unifi-custom-portal-preview ng-if="modelFormCtrl.getVisibility([\'portal-enabled\', \'new-angular-engine\']) &amp;&amp; !modelFormCtrl.getVisibility([\'facebook-wifi\']) &amp;&amp; !guestControlSettingsCtrl.UseWebrtc" unifi-custom-portal-preview-mode="guestControlSettingsCtrl.portalPreviewMode" unifi-custom-portal-preview-model="guestControlSettingsCtrl.getPortalPreviewModel()" unifi-custom-portal-preview-is-dark="guestControlSettingsCtrl.preferences.model.isSettingsDark()"></unifi-custom-portal-preview><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTop" ng-if="modelFormCtrl.getVisibility([\'portal-enabled\', \'new-angular-engine\']) &amp;&amp; guestControlSettingsCtrl.UseWebrtc"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_GUEST_CONTROL_LABEL_CUSTOM_PORTAL_PREVIEW_LOCAL_ONLY"></p></div></div></div></div></div></div></div></fieldset></div>\x3c!-- Hotspot--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'hotspot\', modelFormCtrl.modelCopy.attributes.portal_enabled &amp;&amp; modelFormCtrl.modelCopy.attributes.auth === \'hotspot\')"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_HOTSPOT"></span><a class="appMainButton appMainButton--tertiary appMainButton--condensed floatRight" ng-click="guestControlSettingsCtrl.gotoHotspotManager()"><span class="button__icon icon ubnt-icon--popout"></span><span translate="SETTINGS_GUEST_CONTROL_VALUES_GO_TO_HOTSPOT_MANAGER"></span></a></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_API"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnableApi" id="guestControlEnableApi"'+o("checked",!0,!0,!0)+o("disabled",!0,!0,!0)+'><label for="guestControlEnableApi" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_API_AUTHORIZATION"></label><unifi-tooltip class="ubntTooltip--small" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_API_AUTHORIZATION"></content></unifi-tooltip></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_VOUCHERS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnableVouchers" id="guestControlEnableVouchers" ng-model="modelFormCtrl.modelCopy.attributes.voucher_enabled" ng-model-master="modelFormCtrl.model.attributes.voucher_enabled" ng-required="modelFormCtrl.getVisibility([\'hotspot\']) &amp;&amp; modelFormCtrl.modelCopy.attributes.template_engine === \'jsp\' &amp;&amp; !guestControlSettingsCtrl.isAnyJspAuthenticationMethodEnabled()"><label for="guestControlEnableVouchers" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_VOUCHER_AUTHORIZATION"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_PAYMENTS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnablePayments" id="guestControlEnablePayments" ng-model="modelFormCtrl.modelCopy.attributes.payment_enabled" ng-model-master="modelFormCtrl.model.attributes.payment_enabled" ng-required="modelFormCtrl.getVisibility([\'hotspot\']) &amp;&amp; modelFormCtrl.modelCopy.attributes.template_engine === \'jsp\' &amp;&amp; !guestControlSettingsCtrl.isAnyJspAuthenticationMethodEnabled()"><label for="guestControlEnablePayments" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_PAYMENT_AUTHORIZATION"></label></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><div class="col--sm3"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_PASSWORD"></label></div></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnablePassword" id="guestControlEnablePassword" ng-model="modelFormCtrl.modelCopy.attributes.password_enabled" ng-model-master="modelFormCtrl.model.attributes.password_enabled"><label for="guestControlEnablePassword" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_PASSWORD_AUTHORIZATION"></label></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><div class="col--sm3"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS"></label></div></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnableRadius" id="guestControlEnableRadius" ng-model="modelFormCtrl.modelCopy.attributes.radius_enabled" ng-model-master="modelFormCtrl.model.attributes.radius_enabled"><label for="guestControlEnableRadius" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_RADIUS_AUTHORIZATION"></label><unifi-tooltip class="ubntTooltip--small" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_RADIUS_AUTHORIZATION"></content></unifi-tooltip></div></div></div><div class="appRow"><div class="col--sm6"><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><div class="col--sm6"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_FACEBOOK"></label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span></div></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnableFacebook" id="guestControlEnableFacebook" ng-model="modelFormCtrl.modelCopy.attributes.facebook_enabled" ng-model-master="modelFormCtrl.model.attributes.facebook_enabled" ng-change="modelFormCtrl.modelCopy.attributes.redirect_https = false"><label for="guestControlEnableFacebook" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_FACEBOOK_AUTHORIZATION"></label></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><div class="col--sm6"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_GOOGLE"></label></div></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnableGoogle" id="guestControlEnableGoogle" ng-model="modelFormCtrl.modelCopy.attributes.google_enabled" ng-model-master="modelFormCtrl.model.attributes.google_enabled" ng-change="modelFormCtrl.modelCopy.attributes.redirect_https = false"><label for="guestControlEnableGoogle" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_GOOGLE_AUTHORIZATION"></label></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><div class="col--sm6"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_WECHAT"></label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span></div></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnableWechat" id="guestControlEnableWechat" ng-model="modelFormCtrl.modelCopy.attributes.wechat_enabled" ng-model-master="modelFormCtrl.model.attributes.wechat_enabled"><label for="guestControlEnableWechat" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_WECHAT_AUTHORIZATION"></label><unifi-tooltip class="ubntTooltip--small"><prompt class="icon ubnt-icon--mobile-phone"></prompt><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_WECHAT_MOBILE"></content></unifi-tooltip></div></div></div></div><div class="col--sm6"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy" ng-show="modelFormCtrl.getVisibility([\'hotspot\', \'new-angular-engine\']) &amp;&amp; guestControlSettingsCtrl.isAnySocialAuthenticationMethodEnabled() &amp;&amp; !modelFormCtrl.modelCopy.attributes.portal_use_hostname"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p translate="SETTINGS_GUEST_CONTROL_INFO_BOX_OAUTH_REDIRECT_URI"></p></div></div></div></div></div><div class="appRow" ng-if="guestControlSettingsCtrl.forms.guest_access.guestControlEnablePayments.$invalid" ng-show="guestControlSettingsCtrl.showValidation"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputFeedback appInputFeedback--danger" translate="SETTINGS_GUEST_CONTROL_VALIDATION_HINT_AUTHORIZATION"></div></div></div></div>\x3c!-- Vouchers--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility(\'hotspot\', \'portal-customization\') &amp;&amp; modelFormCtrl.setVisibility(\'voucher-customization\', modelFormCtrl.modelCopy.attributes.voucher_enabled)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_VOUCHER_CUSTOMIZATION"></span></div><fieldset class="appFieldset appFieldset--quiet"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_TEMPLATE_ENGINE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlVoucherTemplateEngine" id="guestControlVoucherTemplateEngineJSP" value="jsp" checked="checked"'+o("disabled",!0,!0,!0)+'><label for="guestControlTemplateEngineJSP" translate="SETTINGS_GUEST_CONTROL_VALUES_TEMPLATE_ENGINE_JSP"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_OVERRIDE_DEFAULT_TEMPLATES"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlCustomVoucher" id="guestControlCustomVoucher" ng-model="modelFormCtrl.modelCopy.attributes.voucher_customized" ng-model-master="modelFormCtrl.model.attributes.voucher_customized"><label for="guestControlCustomVoucher" translate="SETTINGS_GUEST_CONTROL_VALUES_OVERRIDE_DEFAULT_TEMPLATES"></label><unifi-tooltip class="ubntTooltip--small" unifi-tooltip-clickable="true" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_PROMPT_OVERRIDE_DEFAULT_TEMPLATES" translate-values="{helpLink: guestControlSettingsCtrl.HOTSPOT_PORTAL_OVERRIDE_TEMPLATE_HELP[modelFormCtrl.modelCopy.attributes.template_engine]}"></content></unifi-tooltip></div></div></div></fieldset></div>\x3c!-- Payments--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility(\'hotspot\') &amp;&amp; modelFormCtrl.setVisibility(\'payments-enabled\', modelFormCtrl.modelCopy.attributes.payment_enabled)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_PAYMENTS"></span></div><fieldset class="appFieldset appFieldset--quiet verticalRhythm--cozy" ng-show="modelFormCtrl.setVisibility(\'new-payments-enabled\', modelFormCtrl.modelCopy.attributes.payment_enabled &amp;&amp; modelFormCtrl.modelCopy.attributes.template_engine === \'angular\')"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_PAYMENT_PACKAGES"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><table class="appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="hotspotPackages"><thead><th class="appTableCell--smash"'+o("unifi-if-role-admin",!0,!0,!0)+'></th><th><span translate="SETTINGS_GUEST_CONTROL_PACKAGE_OPTIONS_TABLE_HEADER_PACKAGE"></span></th><th><span translate="SETTINGS_GUEST_CONTROL_PACKAGE_OPTIONS_TABLE_HEADER_ACTIONS"></span></th></thead><tbody ng-sortable="guestControlSettingsCtrl.sortablePackagesConfig"><tr ng-repeat="model in guestControlSettingsCtrl.hotspotPackagesCopy.models"><td class="appTableCell--smash"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed unifiSettingsSortableHandle"><span class="button__icon icon ubnt-icon--arrows-updown-leftright"></span></button></td><td>{{ guestControlSettingsCtrl.formatHotspotPackage(model) }}</td><td class="appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="guestControlSettingsCtrl.editHotspotPackage(model)" title="{{\'COMMON_ACTIONS_EDIT\' | translate}}"><span class="button__icon icon ubnt-icon--pencil"></span><span class="button__label" translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="guestControlSettingsCtrl.removeHotspotPackage(model)" title="{{\'COMMON_ACTIONS_DELETE\' | translate}}"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><button class="appMainButton appMainButton--tertiary appMainButton--condensed addHotspotPackage" type="button" ng-click="guestControlSettingsCtrl.addHotspotPackage()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_GUEST_CONTROL_PACKAGE_OPTIONS_ACTIONS_ADD_PACKAGE"></span></button></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="modelFormCtrl.setVisibility(\'payment-gateway\', modelFormCtrl.modelCopy.attributes.payment_enabled)"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select name="guestControlGateway" ng-model="modelFormCtrl.modelCopy.attributes.gateway" ng-model-master="modelFormCtrl.model.attributes.gateway" ng-options="gateway.id as gateway.translationKey | translate for gateway in guestControlSettingsCtrl.gatewayOptions" ng-required="modelFormCtrl.getVisibility([\'hotspot\', \'payment-gateway\'])"><option'+o("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div><div class="col--sm4" ng-show="modelFormCtrl.setVisibility(\'missingGateway\', !modelFormCtrl.modelCopy.attributes.gateway &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body" translate="SETTINGS_GUEST_CONTROL_INFO_BOX_MISSING_GATEWAY"></div></div></div></div></div></fieldset></div>\x3c!-- PayPal--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'paypal\', modelFormCtrl.modelCopy.attributes.gateway === \'paypal\' &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_GATEWAY_PAYPAL"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_USERNAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlPaypalU" ng-model="modelFormCtrl.modelCopy.attributes.x_paypal_username" ng-model-master="modelFormCtrl.model.attributes.x_paypal_username" ng-required="modelFormCtrl.getVisibility([\'paypal\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_PASSWORD"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlPaypalP" ng-model="modelFormCtrl.modelCopy.attributes.x_paypal_password" ng-model-master="modelFormCtrl.model.attributes.x_paypal_password" ng-required="modelFormCtrl.getVisibility([\'paypal\'])"></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_SIGNATURE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlPaypalSignature" ng-model="modelFormCtrl.modelCopy.attributes.x_paypal_signature" ng-model-master="modelFormCtrl.model.attributes.x_paypal_signature" ng-required="modelFormCtrl.getVisibility([\'paypal\'])"></div></div><div class="appRow"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="guestControlPaypalSandbox" id="guestControlPaypalSandbox" ng-model="modelFormCtrl.modelCopy.attributes.paypal_use_sandbox" ng-model-master="modelFormCtrl.model.attributes.paypal_use_sandbox"><label for="guestControlPaypalSandbox" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_USE_SANDBOX_ACCOUNT"></label><a class="ubntLink" href="https://developer.paypal.com/" target="_blank" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_APPLY_SANDBOX_ACCOUNT"></a></div></div></div></div>\x3c!-- Stripe--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'stripe\', modelFormCtrl.modelCopy.attributes.gateway === \'stripe\' &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_GATEWAY_STRIPE"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_API_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlStripeApiKey" ng-model="modelFormCtrl.modelCopy.attributes.x_stripe_api_key" ng-model-master="modelFormCtrl.model.attributes.x_stripe_api_key" ng-required="modelFormCtrl.getVisibility([\'stripe\'])"></div></div></div>\x3c!-- QuickPay--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'quickpay\', modelFormCtrl.modelCopy.attributes.gateway === \'quickpay\' &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_GATEWAY_QUICKPAY"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_MERCHANT_ID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlQuickPayMerchantId" ng-model="modelFormCtrl.modelCopy.attributes.x_quickpay_merchantid" ng-model-master="modelFormCtrl.model.attributes.x_quickpay_merchantid" ng-required="modelFormCtrl.getVisibility([\'quickpay\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_API_USER_API_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlQuickPayApiKey" ng-model="modelFormCtrl.modelCopy.attributes.x_quickpay_apikey" ng-model-master="modelFormCtrl.model.attributes.x_quickpay_apikey" ng-required="modelFormCtrl.getVisibility([\'quickpay\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_AGREEMENT_ID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlQuickPayAgreementId" ng-model="modelFormCtrl.modelCopy.attributes.x_quickpay_agreementid" ng-model-master="modelFormCtrl.model.attributes.x_quickpay_agreementid" ng-required="modelFormCtrl.getVisibility([\'quickpay\'])"></div></div><div class="appRow"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="guestControlQuickPayTestMode" id="guestControlQuickPayTestMode" ng-model="modelFormCtrl.modelCopy.attributes.quickpay_testmode" ng-model-master="modelFormCtrl.model.attributes.quickpay_testmode"><label for="guestControlQuickPayTestMode" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_QUICKPAY_TEST_MODE"></label></div></div></div></div>\x3c!-- Authorize.net--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'authorize\', modelFormCtrl.modelCopy.attributes.gateway === \'authorize\' &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_GATEWAY_AUTHORIZE"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_API_LOGIN_ID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlAuthorizeLoginId" ng-model="modelFormCtrl.modelCopy.attributes.x_authorize_loginid" ng-model-master="modelFormCtrl.model.attributes.x_authorize_loginid" ng-required="modelFormCtrl.getVisibility([\'authorize\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_TRANSACTION_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlAuthorizeTransactionKey" ng-model="modelFormCtrl.modelCopy.attributes.x_authorize_transactionkey" ng-model-master="modelFormCtrl.model.attributes.x_authorize_transactionkey" ng-required="modelFormCtrl.getVisibility([\'authorize\'])"></div></div><div class="appRow"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="guestControlAuthorizeSandbox" id="guestControlAuthorizeSandbox" ng-model="modelFormCtrl.modelCopy.attributes.authorize_use_sandbox" ng-model-master="modelFormCtrl.model.attributes.authorize_use_sandbox"><label for="guestControlAuthorizeSandbox" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_USE_TEST_ACCOUNT"></label><a class="ubntLink" href="http://developer.authorize.net/testaccount/" target="_blank" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_APPLY_TEST_ACCOUNT"></a></div></div></div></div>\x3c!-- Merchant Warrior--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'merchantwarrior\', modelFormCtrl.modelCopy.attributes.gateway === \'merchantwarrior\' &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_GATEWAY_MERCHANT_WARRIOR"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_MERCHANT_UUID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlMerchantWarriorMerchantUuid" ng-model="modelFormCtrl.modelCopy.attributes.x_merchantwarrior_merchantuuid" ng-model-master="modelFormCtrl.model.attributes.x_merchantwarrior_merchantuuid" ng-required="modelFormCtrl.getVisibility([\'merchantwarrior\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_API_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlMerchantWarriorApiKey" ng-model="modelFormCtrl.modelCopy.attributes.x_merchantwarrior_apikey" ng-model-master="modelFormCtrl.model.attributes.x_merchantwarrior_apikey" ng-required="modelFormCtrl.getVisibility([\'merchantwarrior\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_API_PASSPHRASE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlMerchantWarriorApiPassphrase" ng-model="modelFormCtrl.modelCopy.attributes.x_merchantwarrior_apipassphrase" ng-model-master="modelFormCtrl.model.attributes.x_merchantwarrior_apipassphrase" ng-required="modelFormCtrl.getVisibility([\'merchantwarrior\'])"></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="guestControlMerchantWarriorSandbox" id="guestControlMerchantWarriorSandbox" ng-model="modelFormCtrl.modelCopy.attributes.merchantwarrior_use_sandbox" ng-model-master="modelFormCtrl.model.attributes.merchantwarrior_use_sandbox"><label for="guestControlMerchantWarriorSandbox" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_USE_TEST_ACCOUNT"></label><a class="ubntLink" href="https://www.merchantwarrior.com/join" target="_blank" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_APPLY_TEST_ACCOUNT"></a></div></div></div></div>\x3c!-- IpPay--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'ippay\', modelFormCtrl.modelCopy.attributes.gateway === \'ippay\' &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_GATEWAY_IP_PAY"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_TERMINAL_ID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlIpPayTerminalId" ng-model="modelFormCtrl.modelCopy.attributes.x_ippay_terminalid" ng-model-master="modelFormCtrl.model.attributes.x_ippay_terminalid" ng-required="modelFormCtrl.getVisibility([\'ippay\'])"></div></div><div class="appRow"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="guestControlIpPaySandbox" id="guestControlIpPaySandbox" ng-model="modelFormCtrl.modelCopy.attributes.ippay_use_sandbox" ng-model-master="modelFormCtrl.model.attributes.ippay_use_sandbox"><label for="guestControlIpPaySandbox" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_USE_TEST_ACCOUNT"></label><a class="ubntLink" href="http://www.converge-tech.com/IPPay-s/1821.htm" target="_blank" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_APPLY_TEST_ACCOUNT"></a></div></div></div></div>\x3c!-- PASSWORD--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility([\'hotspot\', \'new-angular-engine\']) &amp;&amp; modelFormCtrl.setVisibility(\'password-enabled\', modelFormCtrl.modelCopy.attributes.password_enabled)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_PASSWORD"></span></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_PASSWORD_SECRET"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlPasswordSecret" ng-model="modelFormCtrl.modelCopy.attributes.x_password" ng-model-master="modelFormCtrl.model.attributes.x_password" ng-required="modelFormCtrl.getVisibility([\'password-enabled\'])"></unifi-password-reveal></div></div></div>\x3c!-- RADIUS--\x3e<div class="unifiSettingsSection" ng-if="modelFormCtrl.getVisibility([\'hotspot\', \'new-angular-engine\']) &amp;&amp; modelFormCtrl.setVisibility(\'radius-enabled\', modelFormCtrl.modelCopy.attributes.radius_enabled)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_RADIUS"></span></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_PROFILE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><unifi-radius-selector unifi-radius-selector-radius-profile-id="modelFormCtrl.modelCopy.attributes.radiusprofile_id" unifi-radius-selector-is-required="modelFormCtrl.modelCopy.attributes.radius_enabled"></unifi-radius-selector></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_AUTHENTICATION_TYPE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><select name="radiusAuthenticationType" ng-model="modelFormCtrl.modelCopy.attributes.radius_auth_type" ng-model-master="modelFormCtrl.model.attributes.radius_auth_type" ng-options="authType.id as authType.label for authType in guestControlSettingsCtrl.radiusAuthenticationTypeOptions"></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_DISCONNECT"></label></div><div class="col--sm9"><div class="appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--smash"><input type="checkbox" name="guestControlRadiusDisconnectEnable" id="guestControlRadiusDisconnectEnable" ng-model="modelFormCtrl.modelCopy.attributes.radius_disconnect_enabled" ng-model-master="modelFormCtrl.model.attributes.radius_disconnect_enabled"><label for="guestControlRadiusDisconnectEnable" translate="SETTINGS_GUEST_CONTROL_VALUES_RADIUS_DISCONNECT_ENABLE"></label></div></div><div class="appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--smash"><label for="guestControlRadiusDisconnectPort" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_DISCONNECT_PORT" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.radius_disconnect_enabled}"></label><input type="text" name="guestControlRadiusDisconnectPort" id="guestControlRadiusDisconnectPort" size="5" ng-model="modelFormCtrl.modelCopy.attributes.radius_disconnect_port" ng-model-master="modelFormCtrl.model.attributes.radius_disconnect_port" ng-disabled="!modelFormCtrl.modelCopy.attributes.radius_disconnect_enabled" ng-required="modelFormCtrl.modelCopy.attributes.radius_disconnect_enabled" ng-pattern="guestControlSettingsCtrl.patterns.portNumber" placeholder="3799"'+o("unifi-use-placeholder",!0,!0,!0)+'></div></div><div class="appFormGroup appFormGroup--smash"><div class="appInputGroup appInputGroup--smash"><h5 class="noMarginBottom"><span class="appBadge" ng-class="{                        \'appBadge--medium\': !guestControlSettingsCtrl.isRadiusDisconnectReceiverEnabled(),                        \'appBadge--success\': guestControlSettingsCtrl.isRadiusDisconnectReceiverEnabled() &amp;&amp; guestControlSettingsCtrl.isRadiusDisconnectReceiverRunning(),                        \'appBadge--danger\': guestControlSettingsCtrl.isRadiusDisconnectReceiverEnabled() &amp;&amp; !guestControlSettingsCtrl.isRadiusDisconnectReceiverRunning()                      }"><span ng-if="!guestControlSettingsCtrl.isRadiusDisconnectReceiverEnabled()" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_DISCONNECT_STATUS_DISABLED"></span><span ng-if="guestControlSettingsCtrl.isRadiusDisconnectReceiverEnabled() &amp;&amp; !guestControlSettingsCtrl.isRadiusDisconnectReceiverRunning()" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_DISCONNECT_STATUS_NOT_RUNNING"></span><span ng-if="guestControlSettingsCtrl.isRadiusDisconnectReceiverEnabled() &amp;&amp; guestControlSettingsCtrl.isRadiusDisconnectReceiverRunning()" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_DISCONNECT_STATUS_RUNNING"></span></span></h5></div></div></div></div></div>\x3c!-- Facebook--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility([\'hotspot\', \'new-angular-engine\']) &amp;&amp; modelFormCtrl.setVisibility(\'facebook-enabled\', modelFormCtrl.modelCopy.attributes.facebook_enabled)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_FACEBOOK"></span></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_FACEBOOK_APP_ID"></label><unifi-tooltip class="ubntTooltip--small" unifi-tooltip-clickable="true"><content translate="DEVICE_PROPERTIES_TOOLTIP_LOAD_AVERAGE" translate-values="{helpLink: \'https://developers.facebook.com/docs/apps/register\'}"></content></unifi-tooltip></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlFacebookAppId" ng-model="modelFormCtrl.modelCopy.attributes.facebook_app_id" ng-model-master="modelFormCtrl.model.attributes.facebook_app_id" ng-required="modelFormCtrl.getVisibility([\'facebook-enabled\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_FACEBOOK_APP_SECRET"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlFacebookAppSecret" ng-model="modelFormCtrl.modelCopy.attributes.x_facebook_app_secret" ng-model-master="modelFormCtrl.model.attributes.x_facebook_app_secret" ng-required="modelFormCtrl.getVisibility([\'facebook-enabled\'])"></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_OAUTH_SCOPE"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_OAUTH_SCOPE"></content></unifi-tooltip></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlFacebookScopeEmail" id="guestControlFacebookScopeEmail" ng-model="modelFormCtrl.modelCopy.attributes.facebook_scope_email" ng-model-master="modelFormCtrl.model.attributes.facebook_scope_email"><label for="guestControlFacebookScopeEmail" translate="SETTINGS_GUEST_CONTROL_VALUES_OAUTH_SCOPE_EMAIL"></label></div></div></div></div>\x3c!-- Google--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility([\'hotspot\', \'new-angular-engine\']) &amp;&amp; modelFormCtrl.setVisibility(\'google-enabled\', modelFormCtrl.modelCopy.attributes.google_enabled)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_GOOGLE"></span></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GOOGLE_CLIENT_ID"></label><unifi-tooltip class="ubntTooltip--small" unifi-tooltip-clickable="true"><content class="appLinkContainer" translate="SETTINGS_GUEST_CONTROL_TOOLTIP_GOOGLE_APP" translate-values="{helpLink: guestControlSettingsCtrl.URLS.GOOGLE_WIFI_HELP}"></content></unifi-tooltip></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlGoogleClientId" ng-model="modelFormCtrl.modelCopy.attributes.google_client_id" ng-model-master="modelFormCtrl.model.attributes.google_client_id" ng-required="modelFormCtrl.getVisibility([\'google-enabled\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GOOGLE_CLIENT_SECRET"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlGoogleClientSecret" ng-model="modelFormCtrl.modelCopy.attributes.x_google_client_secret" ng-model-master="modelFormCtrl.model.attributes.x_google_client_secret" ng-required="modelFormCtrl.getVisibility([\'google-enabled\'])"></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_OAUTH_SCOPE"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_OAUTH_SCOPE"></content></unifi-tooltip></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlGoogleScopeEmail" id="guestControlGoogleScopeEmail" ng-model="modelFormCtrl.modelCopy.attributes.google_scope_email" ng-model-master="modelFormCtrl.model.attributes.google_scope_email"><label for="guestControlGoogleScopeEmail" translate="SETTINGS_GUEST_CONTROL_VALUES_OAUTH_SCOPE_EMAIL"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GOOGLE_DOMAIN"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_GOOGLE_DOMAIN"></content></unifi-tooltip></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlGoogleDomain" ng-model="modelFormCtrl.modelCopy.attributes.google_domain" ng-model-master="modelFormCtrl.model.attributes.google_domain" ng-pattern="guestControlSettingsCtrl.patterns.hostname"></div></div></div>\x3c!-- Facebook WiFi--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility(\'portal-enabled\') &amp;&amp; modelFormCtrl.setVisibility(\'facebook-wifi\', modelFormCtrl.modelCopy.attributes.auth === \'facebook_wifi\')" ng-switch="guestControlSettingsCtrl.isFacebookWifiRegistered()"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_FACEBOOK_WIFI"></span></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_FACEBOOK_WIFI_GATEWAY_NAME"></label></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="text" name="guestControlFacebookWifiGatewayName" id="guestControlFacebookWifiGatewayName" ng-model="modelFormCtrl.modelCopy.attributes.facebook_wifi_gw_name" ng-model-master="modelFormCtrl.model.attributes.facebook_wifi_gw_name" ng-required="modelFormCtrl.getVisibility(\'portal-enabled\', \'facebook-wifi\')"></div><div class="appInputGroup" ng-switch-when="true" ng-show="modelFormCtrl.modelCopy.attributes.facebook_wifi_gw_name !== modelFormCtrl.model.attributes.facebook_wifi_gw_name"><div class="appInfoBox appInfoBox--cozy appInfoBox--danger verticalRhythmTop--cozy"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_GUEST_CONTROL_INFO_BOX_FACEBOOK_WIFI_REREGISTER"></p></div></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_FACEBOOK_WIFI_BLOCK_HTTPS"></label></div><div class="col--sm6 appFormGroup appFormGroup--condensed"><div class="appInputGroup appInputGroup--comfy"><input type="checkbox" name="guestControlFacebookWifiBlockHttps" id="guestControlFacebookWifiBlockHttps" ng-model="modelFormCtrl.modelCopy.attributes.facebook_wifi_block_https" ng-model-master="modelFormCtrl.model.attributes.facebook_wifi_block_https"><label for="guestControlFacebookWifiBlockHttps" translate="SETTINGS_GUEST_CONTROL_VALUES_FACEBOOK_WIFI_BLOCK_HTTPS"></label></div><div class="appInfoBox appInfoBox--cozy appInfoBox--warning" ng-if="modelFormCtrl.modelCopy.attributes.facebook_wifi_block_https"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_GUEST_CONTROL_INFO_BOX_FACEBOOK_WIFI_HTTPS_BLOCKING"></p></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_FACEBOOK_WIFI_GATEWAY_CONFIGURATION"></label><unifi-tooltip class="ubntTooltip--small" unifi-tooltip-clickable="true"><content class="appLinkContainer" translate="SETTINGS_GUEST_CONTROL_TOOLTIP_FACEBOOK_WIFI" translate-values="{helpLink: guestControlSettingsCtrl.URLS.FACEBOOK_WIFI_HELP}"></content></unifi-tooltip></div><div class="col--sm6"><div class="appInfoBox appInfoBox--cozy" ng-switch-when="false"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_GUEST_CONTROL_INFO_BOX_FACEBOOK_WIFI_CONFIGURATION"></p></div></div></div><div class="appFormGroup appFormGroup--cozy" ng-switch-when="true"><div class="appInputGroup appInputGroup--comfy"><a class="appMainButton appMainButton--tertiary appMainButton--cozy" ng-href="{{guestControlSettingsCtrl.URLS.FACEBOOK_WIFI_CONFIG_PREFIX + modelFormCtrl.model.attributes.facebook_wifi_gw_id}}" ng-if="modelFormCtrl.modelCopy.attributes.facebook_wifi_gw_name === modelFormCtrl.model.attributes.facebook_wifi_gw_name" target="_blank"><span class="button__icon icon ubnt-icon--popout"></span><span translate="SETTINGS_GUEST_CONTROL_VALUES_GO_TO_FACEBOOK_WIFI_CONFIG"></span></a><button class="appMainButton appMainButton--tertiary appMainButton--cozy" ng-if="modelFormCtrl.modelCopy.attributes.facebook_wifi_gw_name !== modelFormCtrl.model.attributes.facebook_wifi_gw_name" disabled="true"><span class="button__icon icon ubnt-icon--popout"></span><span translate="SETTINGS_GUEST_CONTROL_VALUES_GO_TO_FACEBOOK_WIFI_CONFIG"></span></button></div></div></div></div></div>\x3c!-- We-Chat--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility([\'hotspot\', \'new-angular-engine\']) &amp;&amp; modelFormCtrl.setVisibility(\'wechat-enabled\', modelFormCtrl.modelCopy.attributes.wechat_enabled)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_WECHAT"></span></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_WECHAT_APP_ID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlWechatAppId" ng-model="modelFormCtrl.modelCopy.attributes.wechat_app_id" ng-model-master="modelFormCtrl.model.attributes.wechat_app_id" ng-required="modelFormCtrl.getVisibility([\'wechat-enabled\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_WECHAT_APP_SECRET"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlWechatAppSecret" ng-model="modelFormCtrl.modelCopy.attributes.x_wechat_app_secret" ng-model-master="modelFormCtrl.model.attributes.x_wechat_app_secret" ng-required="modelFormCtrl.getVisibility([\'wechat-enabled\'])"></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_WECHAT_SHOP_ID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlWechatShopId" ng-model="modelFormCtrl.modelCopy.attributes.wechat_shop_id" ng-model-master="modelFormCtrl.model.attributes.wechat_shop_id" ng-required="modelFormCtrl.getVisibility([\'wechat-enabled\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_WECHAT_SECRET_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlWechatSecretKey" ng-model="modelFormCtrl.modelCopy.attributes.x_wechat_secret_key" ng-model-master="modelFormCtrl.model.attributes.x_wechat_secret_key" ng-required="modelFormCtrl.getVisibility([\'wechat-enabled\'])"></unifi-password-reveal></div></div></div>\x3c!-- Access Control--\x3e<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_SECTION_ACCESS_CONTROL"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_PRE_AUTHORIZATION_ACCESS"></label><unifi-tooltip class="ubntTooltip--small" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_PRE_AUTHORIZATION"></content></unifi-tooltip></div><div class="col--sm9 appFormGroup appFormGroup--cozy"'+o("unifi-repeatable-form",!0,!0,!0)+' unifi-repeatable-form-min="guestControlSettingsCtrl.allowedSubnetMin" unifi-repeatable-form-max="guestControlSettingsCtrl.allowedSubnetMax" unifi-repeatable-form-model="modelFormCtrl.modelCopy" unifi-repeatable-form-attrs="[\'allowed_subnet_{key}\']" unifi-repeatable-form-is-read-only="!guestControlSettingsCtrl.isAdmin()"><div class="allowedSubnets appInputGroup appInputGroup--cozy" ng-repeat="i in repeatableFormCtrl.getOptions() track by $index"><input type="text" name="guestControlAllowedSubnet{{$index}}" id="guestControlAllowedSubnet{{$index}}" ng-model="repeatableFormCtrl.model.attributes[\'allowed_subnet_\' + ($index + 1)]" ng-pattern="guestControlSettingsCtrl.patterns.hostnameOrSubnet"'+o("required",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeAllowedSubnet" type="button" ng-show="!repeatableFormCtrl.isReadOnly" ng-click="repeatableFormCtrl.removeItem($index + 1)" ng-disabled="!repeatableFormCtrl.isRemoveAllowed()" title="{{\'SETTINGS_COMMON_LABEL_REMOVE_SUBNET_IPV4\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-if="!repeatableFormCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addAllowedSubnet" type="button" ng-click="repeatableFormCtrl.addItem()" ng-disabled="!repeatableFormCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_COMMON_LABEL_ADD_HOSTNAME_OR_SUBNET_IPV4"></span></button></div></div><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy" ng-if="::(\'enableIpv6GuestControl\' | featureFlagEnable)"'+o("unifi-repeatable-form",!0,!0,!0)+' unifi-repeatable-form-min="guestControlSettingsCtrl.allowedSubnetMin" unifi-repeatable-form-max="guestControlSettingsCtrl.allowedSubnetMax" unifi-repeatable-form-model="modelFormCtrl.modelCopy" unifi-repeatable-form-attrs="[\'allowed_subnetv6_{key}\']" unifi-repeatable-form-is-read-only="!guestControlSettingsCtrl.isAdmin()"><div class="allowedSubnets appInputGroup appInputGroup--cozy" ng-repeat="i in repeatableFormCtrl.getOptions() track by $index"><input type="text" name="guestControlAllowedSubnetV6{{$index}}" id="guestControlAllowedSubnetV6{{$index}}" ng-model="repeatableFormCtrl.model.attributes[\'allowed_subnetv6_\' + ($index + 1)]" ng-pattern="guestControlSettingsCtrl.patterns.ipv6HostnameOrSubnet"'+o("required",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeAllowedSubnet" type="button" ng-show="!repeatableFormCtrl.isReadOnly" ng-click="repeatableFormCtrl.removeItem($index + 1)" ng-disabled="!repeatableFormCtrl.isRemoveAllowed()" title="{{\'SETTINGS_COMMON_LABEL_REMOVE_SUBNET_IPV6\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-if="!repeatableFormCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addAllowedSubnet" type="button" ng-click="repeatableFormCtrl.addItem()" ng-disabled="!repeatableFormCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_COMMON_LABEL_ADD_HOSTNAME_OR_SUBNET_IPV6"></span></button></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_POST_AUTHORIZATION_RESTRICTIONS"></label><unifi-tooltip class="ubntTooltip--small" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_POST_AUTHORIZATION"></content></unifi-tooltip></div><div class="col--sm9 appFormGroup appFormGroup--cozy"'+o("unifi-repeatable-form",!0,!0,!0)+' unifi-repeatable-form-min="guestControlSettingsCtrl.restrictedSubnetMin" unifi-repeatable-form-max="guestControlSettingsCtrl.restrictedSubnetMax" unifi-repeatable-form-model="modelFormCtrl.modelCopy" unifi-repeatable-form-attrs="[\'restricted_subnet_{key}\']" unifi-repeatable-form-is-read-only="!guestControlSettingsCtrl.isAdmin()"><div class="restrictedSubnets appInputGroup appInputGroup--cozy" ng-repeat="i in repeatableFormCtrl.getOptions() track by $index"><input type="text" name="guestControlRestrictedSubnet{{$index}}" id="guestControlRestrictedSubnet{{$index}}" ng-model="repeatableFormCtrl.model.attributes[\'restricted_subnet_\' + ($index + 1)]" ng-pattern="guestControlSettingsCtrl.patterns.hostnameOrSubnet"'+o("required",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeRestrictedSubnet" type="button" ng-show="!repeatableFormCtrl.isReadOnly" ng-click="repeatableFormCtrl.removeItem($index + 1)" ng-disabled="!repeatableFormCtrl.isRemoveAllowed()" title="{{\'SETTINGS_COMMON_LABEL_REMOVE_SUBNET_IPV4\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-if="!repeatableFormCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRestrictedSubnet" type="button" ng-click="repeatableFormCtrl.addItem()" ng-disabled="!repeatableFormCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_COMMON_LABEL_ADD_HOSTNAME_OR_SUBNET_IPV4"></span></button></div></div><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy" ng-if="::(\'enableIpv6GuestControl\' | featureFlagEnable)"'+o("unifi-repeatable-form",!0,!0,!0)+' unifi-repeatable-form-min="guestControlSettingsCtrl.restrictedSubnetMin" unifi-repeatable-form-max="guestControlSettingsCtrl.restrictedSubnetMax" unifi-repeatable-form-model="modelFormCtrl.modelCopy" unifi-repeatable-form-attrs="[\'restricted_subnetv6_{key}\']" unifi-repeatable-form-is-read-only="!guestControlSettingsCtrl.isAdmin()"><div class="restrictedSubnets appInputGroup appInputGroup--cozy" ng-repeat="i in repeatableFormCtrl.getOptions() track by $index"><input type="text" name="guestControlRestrictedV6Subnet{{$index}}" id="guestControlRestrictedV6Subnet{{$index}}" ng-model="repeatableFormCtrl.model.attributes[\'restricted_subnetv6_\' + ($index + 1)]" ng-pattern="guestControlSettingsCtrl.patterns.ipv6HostnameOrSubnet"'+o("required",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeRestrictedSubnet" type="button" ng-show="!repeatableFormCtrl.isReadOnly" ng-click="repeatableFormCtrl.removeItem($index + 1)" ng-disabled="!repeatableFormCtrl.isRemoveAllowed()" title="{{\'SETTINGS_COMMON_LABEL_REMOVE_SUBNET_IPV6\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-if="!repeatableFormCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRestrictedSubnet" type="button" ng-click="repeatableFormCtrl.addItem()" ng-disabled="!repeatableFormCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_COMMON_LABEL_ADD_HOSTNAME_OR_SUBNET_IPV6"></span></button></div></div></div></div></ng-form></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+o("unifi-if-role-admin",!0,!0,!0)+' unifi-disable-coming-soon="\'guestControl\'"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="guestControlSettingsCtrl.showValidation = true" busy-toggle="guestControlSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="guestControlSettingsCtrl.reset()" ng-disabled="guestControlSettingsCtrl.form.$pristine">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],81:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return a(t)}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("Hotspot2Controller",["hotspot2","BaseListAndFormController","missingModelControllerMixin",function(t,e,n){return new(function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(l,e);var s=r(l);function l(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=s.call(this)).collection=t.repository.collection,n(a(e)),e}return l}())}])},{}],82:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiHotspot2",{controller:"Hotspot2Controller",controllerAs:"hotspot2Ctrl",template:t("./hotspot2.pug")()})},{"./hotspot2.pug":83}],83:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="hotspot2Settings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><div ng-if="hotspot2Ctrl.view === \'form\'" unifi-hotspot2-form="hotspot2Ctrl.model" unifi-hotspot2-form-attrs="hotspot2Ctrl.sharedAttrs" unifi-hotspot2-form-on-save="hotspot2Ctrl.list()" unifi-hotspot2-form-on-cancel="hotspot2Ctrl.list()" unifi-hotspot2-form-is-read-only="!hotspot2Ctrl.isAdmin()" unifi-disable-coming-soon="\'servicesHotspot2\'"></div><div ng-if="hotspot2Ctrl.view === \'list\'" unifi-disable-coming-soon="\'servicesHotspot2\'"><unifi-hotspot2-list unifi-hotspot2-list-on-edit="hotspot2Ctrl.edit(model)"></unifi-hotspot2-list><div class="unifiSettingsFooter"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="hotspot2Ctrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_BUTTON_ADD"></span></button><label class="appType--micro appType--quiet italicized" translate="SETTINGS_HOTSPOT2_SQUARE_NOT_SUPPORTED_NOTE"></label></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],84:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return l(t)}(this,n)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("Hotspot2FormController",["$translate","apiResults","heyToasts","hotspot2","now","BaseFormController",function(t,e,n,o,c,d){return new(function(m){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(b,d);var f,_,g,S=s(b);function b(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return u(l(t=S.call.apply(S,[this].concat(n))),"isInterworkingExpanded",!0),u(l(t),"isMetricsExpanded",!0),t}return f=b,(_=[{key:"save",value:function(){var i=this;this.isSubmitting=!0;var r=angular.extend({},this.modelCopy.attributes);return!1===r.hessid_used&&delete r.hessid,r.gas_advanced||(delete r.gas_frag_limit,delete r.gas_comeback_delay),r.save_timestamp=c(),this.model.save(r,{wait:!0}).then(function(){return n.pushSuccess(t.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:t.instant("SETTINGS_NAV_HOTSPOT2").toLowerCase()})),o.repository.collection.add(i.model,{merge:!0}),i.reset(),!0}).catch(function(o){return n.pushError(e.appendErrorMsg(t.instant("COMMON_NOTICE_SAVE_ERROR",{section:t.instant("SETTINGS_NAV_HOTSPOT2").toLowerCase()}),o)),!1}).finally(function(){i.isSubmitting=!1})}},{key:"setDefaultAttrs",value:function(t){var e=t?"":"Copy";if(this["model"+e]){var n,o,i,r,a,s,l,p,u,c,d,m,f,_,g,S,b,v,y=this["model"+e].attributes;y.deauth_req_timeout=null!==(n=null===(o=this.model)||void 0===o?void 0:o.get("deauth_req_timeout"))&&void 0!==n?n:60,y.ipaddr_type_avail_v4=null!==(i=null===(r=this.model)||void 0===r?void 0:r.get("ipaddr_type_avail_v4"))&&void 0!==i?i:7,y.ipaddr_type_avail_v6=null!==(a=null===(s=this.model)||void 0===s?void 0:s.get("ipaddr_type_avail_v6"))&&void 0!==a?a:2,y.network_auth_type=null!==(l=null===(p=this.model)||void 0===p?void 0:p.get("network_auth_type"))&&void 0!==l?l:-1,y.qos_map_dcsp=null!==(u=null===(c=this.model)||void 0===c?void 0:c.get("qos_map_dcsp"))&&void 0!==u?u:[];for(var T=0;T<8;T++)y.qos_map_dcsp[T]||(y.qos_map_dcsp[T]={low:255,high:255});y.hessid_used=null!==(d=null===(m=this.model)||void 0===m?void 0:m.get("hessid_used"))&&void 0!==d&&d,y.gas_advanced=null!==(f=null===(_=this.model)||void 0===_?void 0:_.get("gas_advanced"))&&void 0!==f&&f,y.disable_dgaf=null===(g=null===(S=this.model)||void 0===S?void 0:S.get("disable_dgaf"))||void 0===g||g,y.metrics_info_link_status=null!==(b=null===(v=this.model)||void 0===v?void 0:v.get("metrics_info_link_status"))&&void 0!==b?b:"up"}}},{key:"onModelChange",value:function(){this.setDefaultAttrs(!0)}},{key:"reset",value:function(){r(p(b.prototype),"reset",this).call(this),this.setDefaultAttrs(!1)}}])&&i(f.prototype,_),g&&i(f,g),b}())}])},{}],85:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2Form",["SimpleFormDirective",function(e){return new e("hotspot2",t("./hotspot2Form.pug")())}])},{"./hotspot2Form.pug":86}],86:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" ng-class="{    \'is-form-validation-visible\': hotspot2FormCtrl.showValidation,    \'is-validation-hidden\': !hotspot2FormCtrl.showValidation  }" name="hotspot2FormCtrl.form" ng-submit="hotspot2FormCtrl.form.$valid &amp;&amp; hotspot2FormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="hotspot2FormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="hotspot2FormCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="hotspot2FormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+o("translate",!0,!0,!0)+' translate-values="{hotspot2Name: hotspot2FormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_HOTSPOT2_SECTION_VIEW\' : (hotspot2FormCtrl.model.id ? \'SETTINGS_HOTSPOT2_SECTION_EDIT\' : \'SETTINGS_HOTSPOT2_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_NAME"></label></div><div class="col--sm3 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="hotspot2Name" ng-model="hotspot2FormCtrl.modelCopy.attributes.name" ng-model-master="hotspot2FormCtrl.model.attributes.name"'+o("required",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="hotspot2FormCtrl.form.hotspot2Name.$error.required" translate="VALIDATION_HINT_REQUIRED"></div></div></div></div><unifi-hotspot2-section-interworking unifi-hotspot2-section-interworking-form="hotspot2FormCtrl.form" unifi-hotspot2-section-interworking-network-type="hotspot2FormCtrl.modelCopy.attributes.network_type" unifi-hotspot2-section-interworking-network-access-internet="hotspot2FormCtrl.modelCopy.attributes.network_access_internet" unifi-hotspot2-section-interworking-network-access-asra="hotspot2FormCtrl.modelCopy.attributes.network_access_asra" unifi-hotspot2-section-interworking-network-access-esr="hotspot2FormCtrl.modelCopy.attributes.network_access_esr" unifi-hotspot2-section-interworking-network-access-uesa="hotspot2FormCtrl.modelCopy.attributes.network_access_uesa" unifi-hotspot2-section-interworking-hessid-used="hotspot2FormCtrl.modelCopy.attributes.hessid_used" unifi-hotspot2-section-interworking-hessid="hotspot2FormCtrl.modelCopy.attributes.hessid" unifi-hotspot2-section-interworking-anqp-domain-id="hotspot2FormCtrl.modelCopy.attributes.anqp_domain_id" unifi-hotspot2-section-interworking-network-availv4="hotspot2FormCtrl.modelCopy.attributes.ipaddr_type_avail_v4" unifi-hotspot2-section-interworking-network-availv6="hotspot2FormCtrl.modelCopy.attributes.ipaddr_type_avail_v6" unifi-hotspot2-section-interworking-network-auth-type="hotspot2FormCtrl.modelCopy.attributes.network_auth_type" unifi-hotspot2-section-interworking-network-auth-url="hotspot2FormCtrl.modelCopy.attributes.network_auth_url" unifi-hotspot2-section-interworking-dgaf-disable="hotspot2FormCtrl.modelCopy.attributes.disable_dgaf" unifi-hotspot2-section-interworking-deauth-req-timeout="hotspot2FormCtrl.modelCopy.attributes.deauth_req_timeout" unifi-hotspot2-section-interworking-gas-advanced="hotspot2FormCtrl.modelCopy.attributes.gas_advanced" unifi-hotspot2-section-interworking-gas-frag-limit="hotspot2FormCtrl.modelCopy.attributes.gas_frag_limit" unifi-hotspot2-section-interworking-gas-comeback-delay="hotspot2FormCtrl.modelCopy.attributes.gas_comeback_delay" unifi-hotspot2-section-interworking-osu-ssid="hotspot2FormCtrl.modelCopy.attributes.osu_ssid" unifi-hotspot2-section-interworking-venue-group="hotspot2FormCtrl.modelCopy.attributes.venue_group" unifi-hotspot2-section-interworking-venue-type="hotspot2FormCtrl.modelCopy.attributes.venue_type" unifi-hotspot2-section-interworking-is-expanded="hotspot2FormCtrl.isInterworkingExpanded"></unifi-hotspot2-section-interworking><unifi-hotspot2-section-interworking-venue-name unifi-hotspot2-section-interworking-venue-name-list="hotspot2FormCtrl.modelCopy.attributes.venue_name" unifi-hotspot2-section-interworking-venue-name-is-expanded="hotspot2FormCtrl.isInterworkingExpanded"></unifi-hotspot2-section-interworking-venue-name><unifi-hotspot2-section-friendly-name unifi-hotspot2-section-friendly-name-list="hotspot2FormCtrl.modelCopy.attributes.friendly_name"></unifi-hotspot2-section-friendly-name><unifi-hotspot2-section-nai-realm unifi-hotspot2-section-nai-realm-list="hotspot2FormCtrl.modelCopy.attributes.nai_realm_list"></unifi-hotspot2-section-nai-realm><unifi-hotspot2-section-domain-name unifi-hotspot2-section-domain-name-list="hotspot2FormCtrl.modelCopy.attributes.domain_name_list"></unifi-hotspot2-section-domain-name><unifi-hotspot2-section-roaming-consortium unifi-hotspot2-section-roaming-consortium-list="hotspot2FormCtrl.modelCopy.attributes.roaming_consortium_list"></unifi-hotspot2-section-roaming-consortium><unifi-hotspot2-section-cellular-network unifi-hotspot2-section-cellular-network-list="hotspot2FormCtrl.modelCopy.attributes.cellular_network_list"></unifi-hotspot2-section-cellular-network><unifi-hotspot2-section-icons unifi-hotspot2-section-icons-list="hotspot2FormCtrl.modelCopy.attributes.icons"></unifi-hotspot2-section-icons><unifi-hotspot2-section-osu unifi-hotspot2-section-osu-list="hotspot2FormCtrl.modelCopy.attributes.osu" unifi-hotspot2-section-osu-icons="hotspot2FormCtrl.modelCopy.attributes.icons"></unifi-hotspot2-section-osu><unifi-hotspot2-section-capab unifi-hotspot2-section-capab-list="hotspot2FormCtrl.modelCopy.attributes.capab"></unifi-hotspot2-section-capab><unifi-hotspot2-section-terms unifi-hotspot2-section-terms-filename="hotspot2FormCtrl.modelCopy.attributes.t_c_filename" unifi-hotspot2-section-terms-timestamp="hotspot2FormCtrl.modelCopy.attributes.t_c_timestamp"></unifi-hotspot2-section-terms><unifi-hotspot2-section-qos unifi-hotspot2-section-qos-status="hotspot2FormCtrl.modelCopy.attributes.qos_map_status" unifi-hotspot2-section-qos-exceptions-list="hotspot2FormCtrl.modelCopy.attributes.qos_map_exceptions" unifi-hotspot2-section-qos-map-list="hotspot2FormCtrl.modelCopy.attributes.qos_map_dcsp"></unifi-hotspot2-section-qos><unifi-hotspot2-section-metrics unifi-hotspot2-section-metrics-is-expanded="hotspot2FormCtrl.isMetricsExpanded" unifi-hotspot2-section-metrics-status="hotspot2FormCtrl.modelCopy.attributes.metrics_status" unifi-hotspot2-section-metrics-info-link-status="hotspot2FormCtrl.modelCopy.attributes.metrics_info_link_status" unifi-hotspot2-section-metrics-info-symmetric="hotspot2FormCtrl.modelCopy.attributes.metrics_info_symmetric" unifi-hotspot2-section-metrics-info-at-capacity="hotspot2FormCtrl.modelCopy.attributes.metrics_info_at_capacity" unifi-hotspot2-section-metrics-downlink-speed="hotspot2FormCtrl.modelCopy.attributes.metrics_downlink_speed" unifi-hotspot2-section-metrics-uplink-speed="hotspot2FormCtrl.modelCopy.attributes.metrics_uplink_speed" unifi-hotspot2-section-metrics-downlink-load="hotspot2FormCtrl.modelCopy.attributes.metrics_downlink_load" unifi-hotspot2-section-metrics-uplink-load="hotspot2FormCtrl.modelCopy.attributes.metrics_uplink_load" unifi-hotspot2-section-metrics-measurement="hotspot2FormCtrl.modelCopy.attributes.metrics_measurement" unifi-hotspot2-section-metrics-downlink-speed-set="hotspot2FormCtrl.modelCopy.attributes.metrics_downlink_speed_set" unifi-hotspot2-section-metrics-uplink-speed-set="hotspot2FormCtrl.modelCopy.attributes.metrics_uplink_speed_set" unifi-hotspot2-section-metrics-downlink-load-set="hotspot2FormCtrl.modelCopy.attributes.metrics_downlink_load_set" unifi-hotspot2-section-metrics-uplink-load-set="hotspot2FormCtrl.modelCopy.attributes.metrics_uplink_load_set" unifi-hotspot2-section-metrics-measurement-set="hotspot2FormCtrl.modelCopy.attributes.metrics_measurement_set"></unifi-hotspot2-section-metrics></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveHotspot2" ng-if="!isReadOnly" ng-click="hotspot2FormCtrl.showValidation = true" busy-toggle="hotspot2FormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--transparent cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_BACK"></button></div></div></form>'};var i=/["&<>]/},{"pug-runtime":2}],87:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("Hotspot2ListController",["$translate","BaseListController","frame","heyToasts","hotspot2",function(t,e,n,o,l){return new(function(u){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(_,e);var c,d,m,f=a(_);function _(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return p(s(t=f.call.apply(f,[this].concat(n))),"defaultSortBy","name"),p(s(t),"isRemoving",{}),t}return c=_,(d=[{key:"getCollection",value:function(){return l.repository.collection}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}},{key:"remove",value:function(e){var i=this;return n.show("confirm",{title:function(){return t.instant("SETTINGS_HOTSPOT2_DELETE_CONFIRM_TITLE",{hotspot2Name:e.get("name")})},message:function(){return t.instant("SETTINGS_HOTSPOT2_DELETE_CONFIRM_MESSAGE",{hotspot2Name:e.get("name")})},options:angular.noop}).then(function(){return i.isRemoving[e.id]=!0,e.destroy({wait:!0}).then(function(){return o.pushSuccess(t.instant("SETTINGS_HOTSPOT2_DELETE_SUCCESS",{hotspot2Name:e.get("name")})),!0}).catch(function(){return o.pushError(t.instant("SETTINGS_HOTSPOT2_DELETE_ERROR",{hotspot2Name:e.get("name")})),!1}).finally(function(){i.isRemoving[e.id]=!1})})}}])&&i(c.prototype,d),m&&i(c,m),_}())}])},{}],88:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2List",["ListDirective",function(e){return new e("hotspot2",t("./hotspot2List.pug")(),{onEdit:"&unifiHotspot2ListOnEdit"})}])},{"./hotspot2List.pug":89}],89:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div><table class="verticalRhythmTop--condensed appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="hotspot2Table" collection-view-sort="hotspot2ListCtrl.view"><thead><tr><th class="hotspot2Name" collection-view-sort-by="name"><span translate="SETTINGS_HOTSPOT2_TABLE_HEADER_NAME"></span></th><th class="hotspot2Actions"><span translate="SETTINGS_HOTSPOT2_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in hotspot2ListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="hotspot2Name">{{::model.get(\'name\')}}</td><td class="hotspot2Actions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-click="hotspot2ListCtrl.edit(model)" ng-disabled="hotspot2ListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="hotspot2ListCtrl.edit(model)" ng-disabled="hotspot2ListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-click="hotspot2ListCtrl.remove(model)" ng-disabled="hotspot2ListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!hotspot2ListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_TABLE_EMPTY"></p></div></div></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],90:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}angular.module("app-unifi-manage-settings").controller("Hotspot2SectionCapabController",["$timeout","frame","HOTSPOT2_CAPAB_STATUS_LIST",function(t,e,n){return new(function(){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.entry={},this.maxListSize=255,this.statusOptions=[{id:n.unknown,translationKey:"SETTINGS_HOTSPOT2_CAPAB_STATUS_VALUES_CLOSED"},{id:n.closed,translationKey:"SETTINGS_HOTSPOT2_CAPAB_STATUS_VALUES_CLOSED"},{id:n.open,translationKey:"SETTINGS_HOTSPOT2_CAPAB_STATUS_VALUES_ENABLED"}]}var r,a,s;return r=i,(a=[{key:"$onInit",value:function(){var e=this;t(function(){e.isExpanded=!!e.list&&e.list.length},0)}},{key:"editEntry",value:function(t,n){var o,i=this.list;o=angular.copy(t,o),e.show("hotspot2CapabListEntry",{entry:function(){return o}}).then(function(t){i[n]=t})}},{key:"addEntry",value:function(){var t=this;if(this.list){if(this.list.length>=this.maxListSize)return}else this.list=[];e.show("hotspot2CapabListEntry",{entry:function(){return{}}}).then(function(e){t.list.push(e)})}},{key:"removeEntry",value:function(t){this.list&&this.list.splice(t,1)}}])&&o(r.prototype,a),s&&o(r,s),i}())}])},{}],91:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionCapab",[function(){return{scope:{list:"=unifiHotspot2SectionCapabList"},controller:"Hotspot2SectionCapabController",controllerAs:"hotspot2SectionCapabCtrl",bindToController:!0,template:t("./hotspot2SectionCapab.pug")()}}])},{"./hotspot2SectionCapab.pug":92}],92:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionCapabCtrl.isExpanded = !hotspot2SectionCapabCtrl.isExpanded" ng-class="hotspot2SectionCapabCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_CAPAB_LIST"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionCapabCtrl.isExpanded"><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="verticalRhythmTop--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" name="capabList"><thead><th class="capabListProtocol"><span translate="SETTINGS_HOTSPOT2_CAPAB_TABLE_HEADER_PROTOCOL"></span></th><th class="capabListPort"><span translate="SETTINGS_HOTSPOT2_CAPAB_TABLE_HEADER_PORT"></span></th><th class="capabListStatus"><span translate="SETTINGS_HOTSPOT2_CAPAB_TABLE_HEADER_STATUS"></span></th><th class="capabListActions"'+o("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_CAPAB_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="entry in hotspot2SectionCapabCtrl.list track by (\'\' + $index + entry.protocol + entry.port + entry.status)"><td class="capabListProtocol">{{::entry.protocol}}</td><td class="capabListPort">{{::entry.port}}</td><td class="capabListStatus">{{::entry.status}}</td><td class="capabListActions appTableCell--actions"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="hotspot2SectionCapabCtrl.editEntry(entry, $index)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="hotspot2SectionCapabCtrl.removeEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!hotspot2SectionCapabCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_CAPAB_TABLE_EMPTY"></p></div></div></div><div class="appInputGroup appInputGroup--cozy inlineBlock"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionCapabCtrl.addEntry()" ng-disabled="hotspot2SectionCapabCtrl.list.length &gt;= hotspot2SectionCapabCtrl.maxListSize"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_CAPAB_LIST_ACTIONS_ADD"></span></button></div></div></div></fieldset></div>'};var i=/["&<>]/},{"pug-runtime":2}],93:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}angular.module("app-unifi-manage-settings").controller("Hotspot2SectionCellularNetworkController",["$timeout",function(t){return new(function(){function e(){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.entry={},this.maxListSize=100,this.patterns={mcc:/^\d{2,3}$/,mnc:/^\d{2,3}$/},t(function(){n.isExpanded=!!n.list&&n.list.length},0)}var n,i,r;return n=e,(i=[{key:"addListEntry",value:function(){this.list=this.list||[],this.form.$valid&&this.list.length<this.maxListSize?(this.showValidation=!1,this.list.push(this.entry),this.entry={},this.form.$setPristine()):this.showValidation=!0}},{key:"removeListEntry",value:function(t){this.list&&this.list.splice(t,1)}}])&&o(n.prototype,i),r&&o(n,r),e}())}])},{}],94:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionCellularNetwork",[function(){return{scope:{list:"=unifiHotspot2SectionCellularNetworkList"},controller:"Hotspot2SectionCellularNetworkController",controllerAs:"hotspot2SectionCellularNetworkCtrl",bindToController:!0,template:t("./hotspot2SectionCellularNetwork.pug")()}}])},{"./hotspot2SectionCellularNetwork.pug":95}],95:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionCellularNetworkCtrl.isExpanded = !hotspot2SectionCellularNetworkCtrl.isExpanded" ng-class="hotspot2SectionCellularNetworkCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_3GPP_CELLULAR_NETWORK_LIST"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionCellularNetworkCtrl.isExpanded"><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped"><thead><th class="3gppName"><span translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_NAME"></span></th><th class="3gppMcc"><span translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_MCC"></span></th><th class="3gppMnc"><span translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_MNC"></span></th><th class="3gppActions"'+o("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="cellularNetwork in hotspot2SectionCellularNetworkCtrl.list track by (\'\' + $index + cellularNetwork.name + cellularNetwork.mcc + cellularNetwork.mnc)"><td class="gppName">{{::cellularNetwork.name}}</td><td class="gppMcc">{{(\'000\' + cellularNetwork.mcc).slice(-3)}}</td><td class="gppMnc">{{(\'000\' + cellularNetwork.mnc).slice(-3)}}</td><td class="gppActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="hotspot2SectionCellularNetworkCtrl.removeListEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!hotspot2SectionCellularNetworkCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_3GPP_TABLE_EMPTY"></p></div></div></div><ng-form'+(o("unifi-if-role-admin",!0,!0,!0)+o("unifi-isolated-form",!0,!0,!0))+' ng-class="{            \'is-form-validation-visible\': hotspot2SectionCellularNetworkCtrl.showValidation,            \'is-validation-hidden\': !hotspot2SectionCellularNetworkCtrl.showValidation          }" name="hotspot2SectionCellularNetworkCtrl.form"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_NAME"></label><input type="text" name="cellularName" ng-model="hotspot2SectionCellularNetworkCtrl.entry.name"'+o("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_MCC"></label><input type="text" name="cellularMcc" placeholder="001" ng-model="hotspot2SectionCellularNetworkCtrl.entry.mcc" ng-pattern="hotspot2SectionCellularNetworkCtrl.patterns.mcc" ng-minlength="2"'+o("unifi-use-placeholder",!0,!0,!0)+o("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_MNC"></label><input type="text" name="cellularMnc" placeholder="001" ng-model="hotspot2SectionCellularNetworkCtrl.entry.mnc" ng-pattern="hotspot2SectionCellularNetworkCtrl.patterns.mcc" ng-minlength="2"'+o("unifi-use-placeholder",!0,!0,!0)+o("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionCellularNetworkCtrl.addListEntry()" ng-disabled="hotspot2SectionCellularNetworkCtrl.form.$pristine || !hotspot2SectionCellularNetworkCtrl.form.$valid"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_3GPP_ACTIONS_ADD"></span></button></div></div></ng-form></div></div></fieldset></div>'};var i=/["&<>]/},{"pug-runtime":2}],96:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}angular.module("app-unifi-manage-settings").controller("Hotspot2SectionDomainNameController",["$timeout",function(t){return new(function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,i,r;return n=e,(i=[{key:"$onInit",value:function(){var e=this;this.maxListSize=10,t(function(){e.isExpanded=!!e.list&&e.list.length},0)}},{key:"addListEntry",value:function(){this.list=this.list||[],this.form.$valid&&this.list.length<this.maxListSize?(this.showValidation=!1,this.list.push(this.entry),this.entry="",this.form.$setPristine()):this.showValidation=!0}},{key:"removeListEntry",value:function(t){this.list&&this.list.splice(t,1)}}])&&o(n.prototype,i),r&&o(n,r),e}())}])},{}],97:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionDomainName",[function(){return{scope:{list:"=unifiHotspot2SectionDomainNameList"},controller:"Hotspot2SectionDomainNameController",controllerAs:"hotspot2SectionDomainNameCtrl",bindToController:!0,template:t("./hotspot2SectionDomainName.pug")()}}])},{"./hotspot2SectionDomainName.pug":98}],98:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionDomainNameCtrl.isExpanded = !hotspot2SectionDomainNameCtrl.isExpanded" ng-class="hotspot2SectionDomainNameCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_DOMAIN_NAME_LIST"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionDomainNameCtrl.isExpanded"><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped"><thead><th class="domainNameListName"><span translate="SETTINGS_HOTSPOT2_DOMAIN_NAME_TABLE_HEADER_NAME"></span></th><th class="domainNameListActions"'+o("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_DOMAIN_NAME_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="domain in hotspot2SectionDomainNameCtrl.list track by (\'\' + $index + domain)"><td class="domainNamelistName">{{::domain}}</td><td class="domainNameListActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-click="hotspot2SectionDomainNameCtrl.removeListEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!hotspot2SectionDomainNameCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_DOMAIN_NAME_TABLE_EMPTY"></p></div></div></div><ng-form'+(o("unifi-if-role-admin",!0,!0,!0)+o("unifi-isolated-form",!0,!0,!0))+' ng-class="{            \'is-form-validation-visible\': hotspot2SectionDomainNameCtrl.showValidation,            \'is-validation-hidden\': !hotspot2SectionDomainNameCtrl.showValidation          }" name="hotspot2SectionDomainNameCtrl.form"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_DOMAIN_NAME_TABLE_HEADER_NAME"></label><input type="text" name="domainName" ng-model="hotspot2SectionDomainNameCtrl.entry"'+o("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionDomainNameCtrl.addListEntry()" ng-disabled="hotspot2SectionDomainNameCtrl.form.$pristine"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_DOMAIN_NAME_LIST_ACTIONS_ADD"></span></button></div></div></ng-form></div></div></fieldset></div>'};var i=/["&<>]/},{"pug-runtime":2}],99:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("Hotspot2SectionFriendlyNameController",["$timeout","frame","hotspot2Utils",function(t,e,n){return new(function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"entry",{}),i(this,"languages",n.getLanguages()),i(this,"maxListSize",32)}var r,a,s;return r=e,(a=[{key:"$onInit",value:function(){var e=this;t(function(){e.isExpanded=!!e.list&&e.list.length},0)}},{key:"addListEntry",value:function(){this.list=this.list||[],this.form.$valid&&this.list.length<this.maxListSize?(this.showValidation=!1,this.list.push(this.entry),this.entry={},this.form.$setPristine()):this.showValidation=!0}},{key:"removeListEntry",value:function(t){this.list&&this.list.splice(t,1)}}])&&o(r.prototype,a),s&&o(r,s),e}())}])},{}],100:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionFriendlyName",[function(){return{scope:{list:"=unifiHotspot2SectionFriendlyNameList"},controller:"Hotspot2SectionFriendlyNameController",controllerAs:"hotspot2SectionFriendlyNameCtrl",bindToController:!0,template:t("./hotspot2SectionFriendlyName.pug")()}}])},{"./hotspot2SectionFriendlyName.pug":101}],101:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionFriendlyNameCtrl.isExpanded = !hotspot2SectionFriendlyNameCtrl.isExpanded" ng-class="hotspot2SectionFriendlyNameCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_FRIENDLY_NAME_LIST"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionFriendlyNameCtrl.isExpanded"><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="verticalRhythmTop--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" name="friendlyNameList"><thead><th class="friendlyNameLanguage"><span translate="SETTINGS_HOTSPOT2_FRIENDLY_NAME_TABLE_HEADER_LANGUAGE"></span></th><th class="friendlyName"><span translate="SETTINGS_HOTSPOT2_FRIENDLY_NAME_TABLE_HEADER_NAME"></span></th><th class="friendlyListActions"'+o("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_FRIENDLY_NAME_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="friendly in hotspot2SectionFriendlyNameCtrl.list track by (\'\' + $index + friendly.language + +friendly.text)"><td class="friendlyNameLanguage">{{::hotspot2SectionFriendlyNameCtrl.languages[friendly.language].label}}</td><td class="friendlyName">{{::friendly.text}}</td><td class="friendlyListActions appTableCell--actions"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="hotspot2SectionFriendlyNameCtrl.removeListEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!hotspot2SectionFriendlyNameCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_FRIENDLY_NAME_TABLE_EMPTY"></p></div></div></div><ng-form class="appForm"'+o("unifi-if-role-admin",!0,!0,!0)+o("unifi-isolated-form",!0,!0,!0)+' ng-class="{            \'is-form-validation-visible\': hotspot2SectionFriendlyNameCtrl.showValidation,            \'is-validation-hidden\': !hotspot2SectionFriendlyNameCtrl.showValidation          }" name="hotspot2SectionFriendlyNameCtrl.form"><div class="appRow"><div class="col--sm12"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_FRIENDLY_NAME_TABLE_HEADER_LANGUAGE"></label><select name="friendlyNameLanguage" ng-model="hotspot2SectionFriendlyNameCtrl.entry.language" ng-options="lang.code as lang.label group by lang.name | translate for lang in hotspot2SectionFriendlyNameCtrl.languages"'+o("required",!0,!0,!0)+"><option"+o("unifi-option-placeholder",!0,!0,!0)+'></option></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_FRIENDLY_NAME_TABLE_HEADER_NAME"></label><input type="text" name="friendlyName" ng-model="hotspot2SectionFriendlyNameCtrl.entry.text"'+o("required",!0,!0,!0)+'></div></div></div></div><div class="appRow"><div class="col--sm12"><div class="appInputGroup appInputGroup--cozy alignRight"><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionFriendlyNameCtrl.addListEntry()" ng-disabled="hotspot2SectionFriendlyNameCtrl.form.$pristine"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_FRIENDLY_NAME_ACTIONS_ADD"></span></button></div></div></div></ng-form></div></div></fieldset></div>'};var i=/["&<>]/},{"pug-runtime":2}],102:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}angular.module("app-unifi-manage-settings").controller("Hotspot2SectionIconsController",["$timeout","frame",function(t,e){return new(function(){function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.entry={},this.maxListSize=10}var i,r,a;return i=n,(r=[{key:"$onInit",value:function(){var e=this;t(function(){e.isExpanded=!!e.list&&e.list.length},0)}},{key:"editEntry",value:function(t,n){var o=this,i=angular.copy(t);e.show("hotspot2IconListEntry",{entry:function(){return i}}).then(function(t){o.list[n]=t})}},{key:"addEntry",value:function(){var t=this;if(this.list){if(this.list.length>=this.maxListSize)return}else this.list=[];e.show("hotspot2IconListEntry",{entry:function(){return{}}}).then(function(e){t.list.push(e)})}},{key:"removeEntry",value:function(t){this.list&&this.list.splice(t,1)}}])&&o(i.prototype,r),a&&o(i,a),n}())}])},{}],103:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionIcons",[function(){return{scope:{list:"=unifiHotspot2SectionIconsList"},controller:"Hotspot2SectionIconsController",controllerAs:"hotspot2SectionIconsCtrl",bindToController:!0,template:t("./hotspot2SectionIcons.pug")()}}])},{"./hotspot2SectionIcons.pug":104}],104:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionIconsCtrl.isExpanded = !hotspot2SectionIconsCtrl.isExpanded" ng-class="hotspot2SectionIconsCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_ICONS"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionIconsCtrl.isExpanded"><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="verticalRhythmTop--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" name="iconsList"><thead><th class="iconsListUri"><span translate="SETTINGS_HOTSPOT2_ICONS_TABLE_HEADER_NAME"></span></th><th class="iconsListActions"'+o("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_ICONS_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="entry in hotspot2SectionIconsCtrl.list track by (\'\' + $index + entry.name)"><td class="iconsListUri">{{::entry.name}}</td><td class="iconsListActions appTableCell--actions"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="hotspot2SectionIconsCtrl.editEntry(entry, $index)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="hotspot2SectionIconsCtrl.removeEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!hotspot2SectionIconsCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_ICONS_TABLE_EMPTY"></p></div></div></div><div class="appInputGroup appInputGroup--cozy inlineBlock"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionIconsCtrl.addEntry()" ng-disabled="hotspot2SectionIconsCtrl.list.length &gt;= hotspot2SectionIconsCtrl.maxListSize"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_ICONS_LIST_ACTIONS_ADD"></span></button></div></div></div></fieldset></div>'};var i=/["&<>]/},{"pug-runtime":2}],105:[function(t,e,n){"use strict";function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("Hotspot2SectionInterworkingController",["HOTSPOT2_NETWORK_AUTH_TYPES","HOTSPOT2_NETWORK_TYPES","HOTSPOT2_VENUE_GROUPS","HOTSPOT2_VENUE_TYPES","REGEX_PATTERNS","WLAN_SETTINGS",function(t,e,n,i,r,a){return new function s(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o(this,"HOTSPOT2_VENUE_GROUPS",n),o(this,"HOTSPOT2_VENUE_TYPES",i),o(this,"HOTSPOT2_NETWORK_TYPES",e),o(this,"HOTSPOT2_NETWORK_AUTH_TYPES",t),o(this,"WLAN_SETTINGS",a),o(this,"patterns",{hessid:r.MAC_ADDRESS}),o(this,"HOTSPOT2_NETWORK_AVAILABILITY_V4",[{value:0,translationKey:"SETTINGS_HOTSPOT2_NETWORK_AVAIL_V4_NA"},{value:1,translationKey:"SETTINGS_HOTSPOT2_NETWORK_AVAIL_V4_PUB"},{value:2,translationKey:"SETTINGS_HOTSPOT2_NETWORK_AVAIL_V4_PORTRESTRICT"},{value:3,translationKey:"SETTINGS_HOTSPOT2_NETWORK_AVAIL_V4_SINGLENAT"},{value:4,translationKey:"SETTINGS_HOTSPOT2_NETWORK_AVAIL_V4_DOUBLENAT"},{value:5,translationKey:"SETTINGS_HOTSPOT2_NETWORK_AVAIL_V4_PR_SINGLENAT"},{value:6,translationKey:"SETTINGS_HOTSPOT2_NETWORK_AVAIL_V4_PR_DOUBLENAT"},{value:7,translationKey:"SETTINGS_HOTSPOT2_NETWORK_AVAIL_V4_UNK"}]),o(this,"HOTSPOT2_NETWORK_AVAILABILITY_V6",[{value:0,translationKey:"SETTINGS_HOTSPOT2_NETWORK_AVAIL_V6_NA"},{value:1,translationKey:"SETTINGS_HOTSPOT2_NETWORK_AVAIL_V6_A"},{value:2,translationKey:"SETTINGS_HOTSPOT2_NETWORK_AVAIL_V6_UNK"}])}}])},{}],106:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionInterworking",[function(){return{scope:{form:"=unifiHotspot2SectionInterworkingForm",networkType:"=unifiHotspot2SectionInterworkingNetworkType",networkAccessInternet:"=unifiHotspot2SectionInterworkingNetworkAccessInternet",networkAccessAsra:"=unifiHotspot2SectionInterworkingNetworkAccessAsra",networkAccessEsr:"=unifiHotspot2SectionInterworkingNetworkAccessEsr",networkAccessUesa:"=unifiHotspot2SectionInterworkingNetworkAccessUesa",networkAvailv4:"=unifiHotspot2SectionInterworkingNetworkAvailv4",networkAvailv6:"=unifiHotspot2SectionInterworkingNetworkAvailv6",hessidUsed:"=unifiHotspot2SectionInterworkingHessidUsed",hessid:"=unifiHotspot2SectionInterworkingHessid",anqpDomainId:"=unifiHotspot2SectionInterworkingAnqpDomainId",networkAuthType:"=unifiHotspot2SectionInterworkingNetworkAuthType",networkAuthUrl:"=unifiHotspot2SectionInterworkingNetworkAuthUrl",dgafDisable:"=unifiHotspot2SectionInterworkingDgafDisable",deauthReqTimeout:"=unifiHotspot2SectionInterworkingDeauthReqTimeout",gasAdvanced:"=unifiHotspot2SectionInterworkingGasAdvanced",gasFragLimit:"=unifiHotspot2SectionInterworkingGasFragLimit",gasComebackDelay:"=unifiHotspot2SectionInterworkingGasComebackDelay",osuSsid:"=unifiHotspot2SectionInterworkingOsuSsid",venueGroup:"=unifiHotspot2SectionInterworkingVenueGroup",venueType:"=unifiHotspot2SectionInterworkingVenueType",isExpanded:"=unifiHotspot2SectionInterworkingIsExpanded"},controller:"Hotspot2SectionInterworkingController",controllerAs:"hotspot2SectionInterworkingCtrl",bindToController:!0,template:t("./hotspot2SectionInterworking.pug")()}}])},{"./hotspot2SectionInterworking.pug":107}],107:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionInterworkingCtrl.isExpanded = !hotspot2SectionInterworkingCtrl.isExpanded" ng-class="hotspot2SectionInterworkingCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_INTERWORKING_INFORMATION"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionInterworkingCtrl.isExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_HOTSPOT2_LABEL_HESSID_USED"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="hessidUsed" id="hessidUsed" ng-model="hotspot2SectionInterworkingCtrl.hessidUsed"><label for="hessidUsed" translate="SETTINGS_HOTSPOT2_DESC_HESSID_USED"></label></div></div></div><div class="appRow" ng-show="hotspot2SectionInterworkingCtrl.hessidUsed"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_HESSID"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"></div><input class="input" type="text" name="hessid" ng-model="hotspot2SectionInterworkingCtrl.hessid" ng-pattern="hotspot2SectionInterworkingCtrl.patterns.hessid" ng-disabled="!hotspot2SectionInterworkingCtrl.hessidUsed"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-mac-address",!0,!0,!0)+'><label translate="SETTINGS_HOTSPOT2_DESC_HESSID"></label><div class="appInputFeedback appInputFeedback--danger" ng-if="hotspot2SectionInterworkingCtrl.form.hessid.$invalid" translate="VALIDATION_HINT_MAC_ADDRESS"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_ANQP_DOMAIN_ID"></label></div><div class="col--sm9 appInputGroup appInputGroup--cozy"><input class="input--mediumNumber" type="number" id="anqpDomainId" name="anqpDomainId" ng-model="hotspot2SectionInterworkingCtrl.anqpDomainId" min="0" max="65535"><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_HOTSPOT2_DESC_ANQP_DOMAIN_ID"></content></unifi-tooltip></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_NETWORK_TYPE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select class="input--half" name="networkType" ng-model="hotspot2SectionInterworkingCtrl.networkType" ng-options="option.value as option.translationKey | translate for option in hotspot2SectionInterworkingCtrl.HOTSPOT2_NETWORK_TYPES"></select></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_NETWORK_AVAIL_V4"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select class="input--half" name="networkAvailV4" ng-model="hotspot2SectionInterworkingCtrl.networkAvailv4" ng-options="option.value as option.translationKey | translate for option in hotspot2SectionInterworkingCtrl.HOTSPOT2_NETWORK_AVAILABILITY_V4"></select></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_NETWORK_AVAIL_V6"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><select class="input--half" name="networkAvailV6" ng-model="hotspot2SectionInterworkingCtrl.networkAvailv6" ng-options="option.value as option.translationKey | translate for option in hotspot2SectionInterworkingCtrl.HOTSPOT2_NETWORK_AVAILABILITY_V6"></select></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_HOTSPOT2_LABEL_NETWORK_ACCESS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkAccessInternet" id="networkAccessInternet" ng-model="hotspot2SectionInterworkingCtrl.networkAccessInternet"><label translate="SETTINGS_HOTSPOT2_VALUES_NETWORK_INTERNET" for="networkAccessInternet"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkAccessAsra" id="networkAccessAsra" ng-model="hotspot2SectionInterworkingCtrl.networkAccessAsra"><label translate="SETTINGS_HOTSPOT2_VALUES_NETWORK_ASRA" for="networkAccessAsra"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkAccessEsr" id="networkAccessEsr" ng-model="hotspot2SectionInterworkingCtrl.networkAccessEsr"><label translate="SETTINGS_HOTSPOT2_VALUES_NETWORK_ESR" for="networkAccessEsr"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkAccessUesa" id="networkAccessUesa" ng-model="hotspot2SectionInterworkingCtrl.networkAccessUesa"><label translate="SETTINGS_HOTSPOT2_VALUES_NETWORK_UESA" for="networkAccessUesa"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_NETWORK_AUTH_TYPE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><label class="appLabel--boxInline" for="networkAuthType" translate="SETTINGS_HOTSPOT2_VALUES_NETWORK_AUTH_TYPE"></label><select name="networkAuthType" ng-model="hotspot2SectionInterworkingCtrl.networkAuthType" ng-options="option.value as option.translationKey | translate for option in hotspot2SectionInterworkingCtrl.HOTSPOT2_NETWORK_AUTH_TYPES"></select></div></div></div><div class="appRow"><div class="col--xsOffset3 col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><label class="appLabel--boxInline" for="networkAuthUrl" translate="SETTINGS_HOTSPOT2_VALUES_NETWORK_AUTH_URL"></label><input class="input--half" type="url" name="networkAuthUrl" ng-model="hotspot2SectionInterworkingCtrl.networkAuthUrl"></div></div></div><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_HOTSPOT2_SECTION_OSU_INFORMATION"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_OSU_SSID"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input" type="text" name="osuNetworkName" ng-minlength="1" ng-model="hotspot2SectionInterworkingCtrl.osuSsid" unifi-string-max-length="hotspot2SectionInterworkingCtrl.WLAN_SETTINGS.SSID.MAX_LENGTH"><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_HOTSPOT2_TOOLTIP_OSU_SSID"></content></unifi-tooltip></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_DEAUTH_TIMEOUT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="number" id="deauthTimeout" name="deauthTimeout" ng-model="hotspot2SectionInterworkingCtrl.deauthReqTimeout" min="1" max="360"><label class="appLabel--boxInline" for="deauthTimeout" translate="DATETIME_SECONDS_ABBR"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_HOTSPOT2_TOOLTIP_DEAUTH_TIMEOUT"></content></unifi-tooltip></div></div></div><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_HOTSPOT2_SECTION_ADVANCED_INFORMATION"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_HOTSPOT2_LABEL_DGAF"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="dgafDisable" id="dgafDisable" ng-model="hotspot2SectionInterworkingCtrl.dgafDisable"><label for="dgafDisable" translate="SETTINGS_HOTSPOT2_TOOLTIP_DGAF"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_HOTSPOT2_LABEL_GAS_ADVANCED"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="gasAdvanced" id="gasAdvanced" ng-model="hotspot2SectionInterworkingCtrl.gasAdvanced"><label for="gasAdvanced" translate="SETTINGS_HOTSPOT2_DESC_GAS_ADVANCED"></label></div></div></div><div class="appRow" ng-show="hotspot2SectionInterworkingCtrl.gasAdvanced"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_GAS_FRAG_LIMIT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="number" id="gasFragLimit" name="gasFragLimit" ng-model="hotspot2SectionInterworkingCtrl.gasFragLimit" ng-disabled="!hotspot2SectionInterworkingCtrl.gasAdvanced" min="64" max="65535"><label class="appLabel--boxInline" for="gasFragLimit" translate="DATETIME_SECONDS_ABBR"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_HOTSPOT2_DESC_GAS_FRAG_LIMIT"></content></unifi-tooltip></div></div></div><div class="appRow" ng-show="hotspot2SectionInterworkingCtrl.gasAdvanced"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_GAS_COMEBACK_DELAY"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="number" id="gasComebackDelay" name="gasComebackDelay" ng-model="hotspot2SectionInterworkingCtrl.gasComebackDelay" ng-disabled="!hotspot2SectionInterworkingCtrl.gasAdvanced" min="1" max="3600"><label class="appLabel--boxInline" for="gasComebackDelay" translate="DATETIME_SECONDS_ABBR"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_HOTSPOT2_DESC_GAS_COMEBACK_DELAY"></content></unifi-tooltip></div></div></div><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_HOTSPOT2_SECTION_VENUE_INFORMATION"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_VENUE_INFO"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_VALUES_VENUE_GROUP"></label><select name="venueGroup" ng-model="hotspot2SectionInterworkingCtrl.venueGroup" ng-options="key as value | translate for (key, value) in hotspot2SectionInterworkingCtrl.HOTSPOT2_VENUE_GROUPS" ng-change="hotspot2SectionInterworkingCtrl.venueType = \'0\'"></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_VALUES_VENUE_TYPE"></label><select name="venueType" ng-model="hotspot2SectionInterworkingCtrl.venueType" ng-options="key as value | translate for (key, value) in hotspot2SectionInterworkingCtrl.HOTSPOT2_VENUE_TYPES[hotspot2SectionInterworkingCtrl.venueGroup || \'0\']"></select></div></div></div></div></fieldset></div>'};var o=/["&<>]/},{"pug-runtime":2}],108:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("Hotspot2SectionInterworkingVenueNameController",["hotspot2Utils",function(t){return new(function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"entry",{}),i(this,"languages",t.getLanguages()),i(this,"maxListSize",32)}var n,r,a;return n=e,(r=[{key:"addListEntry",value:function(){this.list=this.list||[],this.form.$valid&&this.list.length<this.maxListSize?(this.showValidation=!1,this.entry.name=this.entry.name.replace(/\n/g,"\\n"),this.list.push(this.entry),this.entry={},this.form.$setPristine()):this.showValidation=!0}},{key:"removeListEntry",value:function(t){this.list&&this.list.splice(t,1)}}])&&o(n.prototype,r),a&&o(n,a),e}())}])},{}],109:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionInterworkingVenueName",[function(){return{scope:{list:"=unifiHotspot2SectionInterworkingVenueNameList",isExpanded:"=unifiHotspot2SectionInterworkingVenueNameIsExpanded"},controller:"Hotspot2SectionInterworkingVenueNameController",controllerAs:"hotspot2SectionInterworkingVenueNameCtrl",bindToController:!0,template:t("./hotspot2SectionInterworkingVenueName.pug")()}}])},{"./hotspot2SectionInterworkingVenueName.pug":110}],110:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionInterworkingVenueNameCtrl.isExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_VENUE_NAME"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><table class="verticalRhythmTop--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" name="venueNameList"><thead><th class="venueNameLanguage"><span translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_HEADER_LANGUAGE"></span></th><th class="venueName"><span translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_HEADER_NAME"></span></th><th class="venueUrl"><span translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_HEADER_URL"></span></th><th class="venueListActions"'+o("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="venue in hotspot2SectionInterworkingVenueNameCtrl.list track by ( \'\' + $index + venue.label + venue.name + venue.url )"><td class="venueNameLanguage">{{::hotspot2SectionInterworkingVenueNameCtrl.languages[venue.language].label}}</td><td class="venueName">{{::venue.name}}</td><td class="venueUrl">{{::venue.url}}</td><td class="venueListActions appTableCell--actions"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="hotspot2SectionInterworkingVenueNameCtrl.removeListEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!hotspot2SectionInterworkingVenueNameCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_EMPTY"></p></div></div></div><ng-form class="appForm"'+o("unifi-if-role-admin",!0,!0,!0)+o("unifi-isolated-form",!0,!0,!0)+' ng-class="{          \'is-form-validation-visible\': hotspot2SectionInterworkingVenueNameCtrl.showValidation,          \'is-validation-hidden\': !hotspot2SectionInterworkingVenueNameCtrl.showValidation        }" name="hotspot2SectionInterworkingVenueNameCtrl.form"><div class="appRow"><div class="col--sm2"><label translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_HEADER_LANGUAGE"></label></div><div class="col--sm10"><div class="appInputGroup appInputGroup--cozy"><select class="input--full" name="venueNameLanguage" ng-model="hotspot2SectionInterworkingVenueNameCtrl.entry.language" ng-options="lang.code as lang.label group by lang.name | translate for lang in hotspot2SectionInterworkingVenueNameCtrl.languages"'+o("required",!0,!0,!0)+"><option"+o("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div></div><div class="appRow"><div class="col--sm2"><label translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_HEADER_NAME"></label></div><div class="col--sm10"><div class="appInputGroup appInputGroup--cozy"><textarea class="input--full" name="venueName" ng-model="hotspot2SectionInterworkingVenueNameCtrl.entry.name"'+o("required",!0,!0,!0)+' rows="2"></textarea></div></div></div><div class="appRow"><div class="col--sm2"><label translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_HEADER_URL"></label></div><div class="col--sm10"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="venueUrl" ng-model="hotspot2SectionInterworkingVenueNameCtrl.entry.url"></div></div></div><div class="appRow"><div class="col--smOffset3 col--sm9"><div class="appInputGroup appInputGroup--cozy alignRight"><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionInterworkingVenueNameCtrl.addListEntry()" ng-disabled="hotspot2SectionInterworkingVenueNameCtrl.form.$pristine"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_VENUE_NAME_ACTIONS_ADD"></span></button></div></div></div></ng-form></div></div></fieldset>'};var i=/["&<>]/},{"pug-runtime":2}],111:[function(t,e,n){"use strict";function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("Hotspot2SectionMetricsController",["HOTSPOT2_LIMITS",function(t){return new function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"HOTSPOT2_METRICS_STATUS",{up:"SETTINGS_HOTSPOT2_METRICS_LINK_UP",down:"SETTINGS_HOTSPOT2_METRICS_LINK_DOWN",test:"SETTINGS_HOTSPOT2_METRICS_LINK_TEST"}),o(this,"METRICS_SPEED_LIMIT",t.METRICS_SPEED_LIMIT)}}])},{}],112:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionMetrics",[function(){return{scope:{form:"=unifiHotspot2SectionMetricsForm",isExpanded:"=unifiHotspot2SectionMetricsIsExpanded",metricsStatus:"=unifiHotspot2SectionMetricsStatus",metricsInfoLinkStatus:"=unifiHotspot2SectionMetricsInfoLinkStatus",metricsInfoSymmetric:"=unifiHotspot2SectionMetricsInfoSymmetric",metricsInfoAtCapacity:"=unifiHotspot2SectionMetricsInfoAtCapacity",downlinkSpeed:"=unifiHotspot2SectionMetricsDownlinkSpeed",uplinkSpeed:"=unifiHotspot2SectionMetricsUplinkSpeed",downlinkLoad:"=unifiHotspot2SectionMetricsDownlinkLoad",uplinkLoad:"=unifiHotspot2SectionMetricsUplinkLoad",measurement:"=unifiHotspot2SectionMetricsMeasurement",downlinkSpeedSet:"=unifiHotspot2SectionMetricsDownlinkSpeedSet",uplinkSpeedSet:"=unifiHotspot2SectionMetricsUplinkSpeedSet",downlinkLoadSet:"=unifiHotspot2SectionMetricsDownlinkLoadSet",uplinkLoadSet:"=unifiHotspot2SectionMetricsUplinkLoadSet",measurementSet:"=unifiHotspot2SectionMetricsMeasurementSet"},controller:"Hotspot2SectionMetricsController",controllerAs:"hotspot2SectionMetricsCtrl",bindToController:!0,template:t("./hotspot2SectionMetrics.pug")()}}])},{"./hotspot2SectionMetrics.pug":113}],113:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionMetricsCtrl.isExpanded = !hotspot2SectionMetricsCtrl.isExpanded" ng-class="hotspot2SectionMetricsCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_METRICS_INFORMATION"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionMetricsCtrl.isExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_HOTSPOT2_LABEL_METRICS_STATUS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input type="checkbox" name="metricsStatus" id="metricsStatus" ng-model="hotspot2SectionMetricsCtrl.metricsStatus"></div></div><div class="appRow" ng-if="hotspot2SectionMetricsCtrl.metricsStatus"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_METRICS_INFO"></label></div><div class="col--sm9"><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><label translate="SETTINGS_HOTSPOT2_LABEL_METRICS_LINK_STATUS"></label><select name="linkStatus" ng-model="hotspot2SectionMetricsCtrl.metricsInfoLinkStatus" ng-options="key as value | translate for (key, value) in hotspot2SectionMetricsCtrl.HOTSPOT2_METRICS_STATUS" ng-required="hotspot2SectionMetricsCtrl.metricsStatus"></select></div></div></div><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="metricsInfoSymmetric" id="metricsInfoSymmetric" ng-model="hotspot2SectionMetricsCtrl.metricsInfoSymmetric"><label translate="SETTINGS_HOTSPOT2_LABEL_METRICS_SYMMETRIC"></label><unifi-tooltip unifi-tooltip-class="\'ubntTooltip--small\'"><content translate="SETTINGS_HOTSPOT2_TOOLTIP_METRICS_SYMMETRIC"></content></unifi-tooltip></div></div></div><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="metricsInfoAtCapacity" id="metricsInfoAtCapacity" ng-model="hotspot2SectionMetricsCtrl.metricsInfoAtCapacity"><label translate="SETTINGS_HOTSPOT2_LABEL_METRICS_AT_CAPACITY"></label><unifi-tooltip unifi-tooltip-class="\'ubntTooltip--small\'"><content translate="SETTINGS_HOTSPOT2_TOOLTIP_METRICS_AT_CAPACITY"></content></unifi-tooltip></div></div></div></div></div><div class="appRow" ng-if="hotspot2SectionMetricsCtrl.metricsStatus"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" ng-show="hotspot2SectionMetricsCtrl.metricsInfoSymmetric" translate="SETTINGS_HOTSPOT2_LABEL_METRICS_LINK_SPEED"></label><label class="appLabel appLabel--primary appLabel--boxAlign" ng-show="!hotspot2SectionMetricsCtrl.metricsInfoSymmetric" translate="SETTINGS_HOTSPOT2_LABEL_METRICS_DOWNLINK_SPEED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" id="metricsDownlinkSpeedSet" name="metricsDownlinkSpeedSet" ng-model="hotspot2SectionMetricsCtrl.downlinkSpeedSet"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input class="input--largeNumber" type="number" id="metricsDownlinkSpeed" name="metricsDownlinkSpeed" ng-model="hotspot2SectionMetricsCtrl.downlinkSpeed" ng-min="0" ng-max="hotspot2SectionMetricsCtrl.METRICS_SPEED_LIMIT" ng-disabled="!hotspot2SectionMetricsCtrl.downlinkSpeedSet"><span translate="SETTINGS_HOTSPOT2_LABEL_METRICS_LINK_SPEED_UNITS"></span><unifi-tooltip unifi-tooltip-class="\'ubntTooltip--small\'"><content translate="SETTINGS_HOTSPOT2_TOOLTIP_METRICS_DOWNLINK_SPEED"></content></unifi-tooltip></div></div></div></div><div class="appRow" ng-if="hotspot2SectionMetricsCtrl.metricsStatus &amp;&amp; !hotspot2SectionMetricsCtrl.metricsInfoSymmetric"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_METRICS_UPLINK_SPEED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" id="metricsUplinkSpeedSet" name="metricsUplinkSpeedSet" ng-model="hotspot2SectionMetricsCtrl.uplinkSpeedSet"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input class="input--largeNumber" type="number" id="metricsUplinkSpeed" name="metricsUplinkSpeed" ng-model="hotspot2SectionMetricsCtrl.uplinkSpeed" ng-min="0" ng-max="hotspot2SectionMetricsCtrl.METRICS_SPEED_LIMIT" ng-disabled="!hotspot2SectionMetricsCtrl.uplinkSpeedSet"><span translate="SETTINGS_HOTSPOT2_LABEL_METRICS_LINK_SPEED_UNITS"></span><unifi-tooltip unifi-tooltip-class="\'ubntTooltip--small\'"><content translate="SETTINGS_HOTSPOT2_TOOLTIP_METRICS_UPLINK_SPEED"></content></unifi-tooltip></div></div></div></div><div class="appRow" ng-if="hotspot2SectionMetricsCtrl.metricsStatus"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" ng-show="hotspot2SectionMetricsCtrl.metricsInfoSymmetric" translate="SETTINGS_HOTSPOT2_LABEL_METRICS_LINK_LOAD"></label><label class="appLabel appLabel--primary appLabel--boxAlign" ng-show="!hotspot2SectionMetricsCtrl.metricsInfoSymmetric" translate="SETTINGS_HOTSPOT2_LABEL_METRICS_DOWNLINK_LOAD"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" id="metricsDownlinkLoadSet" name="metricsDownlinkLoadSet" ng-model="hotspot2SectionMetricsCtrl.downlinkLoadSet"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><div class="d-flex mt-2 align-center"><input class="ubntRangeSlider" type="range" name="metricsDownlinkLoad" style="--min: 0; --max: 255;" min="0" max="255" ng-style="{\'--val\' : hotspot2SectionMetricsCtrl.downlinkLoad + \'\'}" ng-model="hotspot2SectionMetricsCtrl.downlinkLoad" ng-disabled="!hotspot2SectionMetricsCtrl.downlinkLoadSet"><div class="type-small pl-3">{{hotspot2SectionMetricsCtrl.downlinkLoad | percent: 255}}</div><unifi-tooltip class="ml-2" unifi-tooltip-class="\'ubntTooltip--small\'"><content translate="SETTINGS_HOTSPOT2_TOOLTIP_METRICS_DOWNLINK_LOAD"></content></unifi-tooltip></div></div></div></div></div><div class="appRow" ng-if="hotspot2SectionMetricsCtrl.metricsStatus &amp;&amp; !hotspot2SectionMetricsCtrl.metricsInfoSymmetric"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_METRICS_UPLINK_LOAD"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" id="metricsUplinkLoadSet" name="metricsUplinkLoadSet" ng-model="hotspot2SectionMetricsCtrl.uplinkLoadSet"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><div class="d-flex mt-2 align-center"><input class="ubntRangeSlider" type="range" name="metricsUplinkLoad" style="--min: 0; --max: 255;" min="0" max="255" ng-style="{\'--val\' : hotspot2SectionMetricsCtrl.uplinkload + \'\'}" ng-model="hotspot2SectionMetricsCtrl.uplinkLoad" ng-disabled="!hotspot2SectionMetricsCtrl.uplinkLoadSet"><div class="type-small pl-3">{{hotspot2SectionMetricsCtrl.uplinkLoad | percent: 255}}</div><unifi-tooltip class="ml-2" unifi-tooltip-class="\'ubntTooltip--small\'"><content translate="SETTINGS_HOTSPOT2_TOOLTIP_METRICS_UPLINK_LOAD"></content></unifi-tooltip></div></div></div></div></div><div class="appRow" ng-if="hotspot2SectionMetricsCtrl.metricsStatus"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_METRICS_MEASUREMENT"></label></div><div class="col--sm9 appInputGroup appInputGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" id="metricsMeasurementSet" name="metricsMeasurementSet" ng-model="hotspot2SectionMetricsCtrl.measurementSet"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input class="input--mediumNumber" type="number" id="metricsMeasurement" name="metricsMeasurement" ng-model="hotspot2SectionMetricsCtrl.measurement" min="0" max="65535" ng-disabled="!hotspot2SectionMetricsCtrl.measurementSet"><unifi-tooltip unifi-tooltip-class="\'ubntTooltip--small\'"><content translate="SETTINGS_HOTSPOT2_TOOLTIP_METRICS_MEASUREMENT"></content></unifi-tooltip></div></div></div></div></fieldset></div>'}},{"pug-runtime":2}],114:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}angular.module("app-unifi-manage-settings").controller("Hotspot2SectionNaiRealmController",["$timeout","frame","HOTSPOT2_EAP_METHODS",function(t,e,n){return new(function(){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.entry={},this.maxListSize=10,this.HOTSPOT2_EAP_METHODS=n}var r,a,s;return r=i,(a=[{key:"$onInit",value:function(){var e=this;t(function(){e.isExpanded=!!e.list&&e.list.length},0)}},{key:"editEntry",value:function(t,n){var o,i=this.list;o=angular.copy(t,o),e.show("hotspot2NaiRealmListEntry",{entry:function(){return o}}).then(function(t){i[n]=t})}},{key:"addEntry",value:function(){var t=this;if(this.list){if(this.list.length>=this.maxListSize)return}else this.list=[];e.show("hotspot2NaiRealmListEntry",{entry:function(){return{}}}).then(function(e){t.list.push(e)})}},{key:"removeEntry",value:function(t){this.list&&this.list.splice(t,1)}}])&&o(r.prototype,a),s&&o(r,s),i}())}])},{}],115:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionNaiRealm",[function(){return{scope:{list:"=unifiHotspot2SectionNaiRealmList"},controller:"Hotspot2SectionNaiRealmController",controllerAs:"hotspot2SectionNaiRealmCtrl",bindToController:!0,template:t("./hotspot2SectionNaiRealm.pug")()}}])},{"./hotspot2SectionNaiRealm.pug":116}],116:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionNaiRealmCtrl.isExpanded = !hotspot2SectionNaiRealmCtrl.isExpanded" ng-class="hotspot2SectionNaiRealmCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_NAI_REALM_LIST"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionNaiRealmCtrl.isExpanded"><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="verticalRhythmTop--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" name="naiRealmList"><thead><th class="realmListName"><span translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_HEADER_NAME"></span></th><th class="realmListEAP"><span translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_HEADER_EAP"></span></th><th class="realmListEAP"><span translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_HEADER_ENABLED"></span></th><th class="realmListActions"'+o("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="realm in hotspot2SectionNaiRealmCtrl.list track by (\'\' + $index + realm.name + realm.eap_method + realm.status)"><td class="realmListName">{{::realm.name}}</td><td class="realmListEAP">{{ hotspot2SectionNaiRealmCtrl.HOTSPOT2_EAP_METHODS[realm.eap_method] }}</td><td class="realmListEnabled">{{ (realm.status ? "COMMON_VALUE_YES" : "COMMON_VALUE_NO") | translate }}</td><td class="realmListActions appTableCell--actions"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="hotspot2SectionNaiRealmCtrl.editEntry(realm, $index)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="hotspot2SectionNaiRealmCtrl.removeEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!hotspot2SectionNaiRealmCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_EMPTY"></p></div></div></div><div class="appInputGroup appInputGroup--cozy inlineBlock"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionNaiRealmCtrl.addEntry()" ng-disabled="hotspot2SectionNaiRealmCtrl.list.length &gt;= hotspot2SectionNaiRealmCtrl.maxListSize"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_NAI_REALM_LIST_ACTIONS_ADD"></span></button></div></div></div></fieldset></div>'};var i=/["&<>]/},{"pug-runtime":2}],117:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}angular.module("app-unifi-manage-settings").controller("Hotspot2SectionOsuController",["$timeout","frame",function(t,e){return new(function(){function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.entry={},this.maxListSize=10}var i,r,a;return i=n,(r=[{key:"$onInit",value:function(){var e=this;t(function(){e.isExpanded=!!e.list&&e.list.length},0)}},{key:"editEntry",value:function(t,n){var o=this,i=angular.copy(t);e.show("hotspot2OsuListEntry",{entry:function(){return i},icons:function(){return o.icons}}).then(function(t){o.list[n]=t})}},{key:"addEntry",value:function(){var t=this;if(this.list){if(this.list.length>=this.maxListSize)return}else this.list=[];e.show("hotspot2OsuListEntry",{entry:function(){return{}},icons:function(){return t.icons}}).then(function(e){t.list.push(e)})}},{key:"removeEntry",value:function(t){this.list&&this.list.splice(t,1)}}])&&o(i.prototype,r),a&&o(i,a),n}())}])},{}],118:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionOsu",[function(){return{scope:{list:"=unifiHotspot2SectionOsuList",icons:"=unifiHotspot2SectionOsuIcons"},controller:"Hotspot2SectionOsuController",controllerAs:"hotspot2SectionOsuCtrl",bindToController:!0,template:t("./hotspot2SectionOsu.pug")()}}])},{"./hotspot2SectionOsu.pug":119}],119:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionOsuCtrl.isExpanded = !hotspot2SectionOsuCtrl.isExpanded" ng-class="hotspot2SectionOsuCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_OSU"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionOsuCtrl.isExpanded"><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="verticalRhythmTop--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" name="osuList"><thead><th class="osuListUri"><span translate="SETTINGS_HOTSPOT2_OSU_TABLE_HEADER_URI"></span></th><th class="osuListActions"'+o("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_OSU_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="entry in hotspot2SectionOsuCtrl.list track by (\'\' + $index + entry.server_uri)"><td class="osuListUri">{{::entry.server_uri}}</td><td class="osuListActions appTableCell--actions"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="hotspot2SectionOsuCtrl.editEntry(entry, $index)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="hotspot2SectionOsuCtrl.removeEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!hotspot2SectionOsuCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_OSU_TABLE_EMPTY"></p></div></div></div><div class="appInputGroup appInputGroup--cozy inlineBlock"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionOsuCtrl.addEntry()" ng-disabled="hotspot2SectionOsuCtrl.list.length &gt;= hotspot2SectionOsuCtrl.maxListSize"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_OSU_LIST_ACTIONS_ADD"></span></button></div></div></div></fieldset></div>'};var i=/["&<>]/},{"pug-runtime":2}],120:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("Hotspot2SectionQosController",["$timeout","frame","REGEX_PATTERNS",function(t,e,n){return new(function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),i(this,"entry",{}),i(this,"maxListSize",21),i(this,"patterns",{dcsp:n.DCSP})}var a,s,l;return a=r,(s=[{key:"$onInit",value:function(){var e=this;t(function(){e.isExpanded=!0},0)}},{key:"addExceptionEntry",value:function(){this.exceptionList||(this.exceptionList=[]),this.form.$valid&&this.exceptionList.length<this.maxListSize?(this.showValidation=!1,this.exceptionList.push(this.entry),this.entry={},this.form.$setPristine()):this.showValidation=!0}},{key:"removeExceptionEntry",value:function(t){this.exceptionList&&this.exceptionList.splice(t,1)}},{key:"editQosEntry",value:function(t,n){var o,i=this.qosList,r=n;o=angular.copy(t,o),e.show("hotspot2QosListEntry",{entry:function(){return o},index:function(){return r}}).then(function(t){i[n]=t})}}])&&o(a.prototype,s),l&&o(a,l),r}())}])},{}],121:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionQos",[function(){return{scope:{status:"=unifiHotspot2SectionQosStatus",exceptionList:"=unifiHotspot2SectionQosExceptionsList",qosList:"=unifiHotspot2SectionQosMapList"},controller:"Hotspot2SectionQosController",controllerAs:"hotspot2SectionQosCtrl",bindToController:!0,template:t("./hotspot2SectionQos.pug")()}}])},{"./hotspot2SectionQos.pug":122}],122:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionQosCtrl.isExpanded = !hotspot2SectionQosCtrl.isExpanded" ng-class="hotspot2SectionQosCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_QOS_ENTRY"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionQosCtrl.isExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_HOTSPOT2_LABEL_QOS_STATUS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input type="checkbox" name="qosStatus" id="qosStatus" ng-model="hotspot2SectionQosCtrl.status"><span class="appInputHelp" translate="SETTINGS_HOTSPOT2_DESC_QOS_STATUS" style="padding-left: 1em;"></span></div></div><div class="appRow" ng-if="hotspot2SectionQosCtrl.status"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="verticalRhythmTop--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" name="qosExceptionList"><thead><th class="ExceptionListDcsp"><span translate="SETTINGS_HOTSPOT2_QOS_TABLE_HEADER_DCSP"></span></th><th class="ExceptionListUp"><span translate="SETTINGS_HOTSPOT2_QOS_TABLE_HEADER_UP"></span></th><th class="ExceptionListActions"'+o("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_QOS_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="exceptionEntry in hotspot2SectionQosCtrl.exceptionList track by ( \'\' + $index + exceptionEntry.dcsp + exceptionEntry.up )"><td class="ExceptionListDcsp">{{::exceptionEntry.dcsp}}</td><td class="ExceptionListUp">{{::exceptionEntry.up}}</td><td class="ExceptionListActions appTableCell--actions"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="hotspot2SectionQosCtrl.removeExceptionEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!hotspot2SectionQosCtrl.exceptionList.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_QOS_TABLE_EMPTY"></p></div></div></div><ng-form class="appForm"'+o("unifi-if-role-admin",!0,!0,!0)+o("unifi-isolated-form",!0,!0,!0)+' ng-class="{            \'is-form-validation-visible\': hotspot2SectionQosCtrl.showValidation,            \'is-validation-hidden\': !hotspot2SectionQosCtrl.showValidation          }" name="hotspot2SectionQosCtrl.form"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_QOS_EXCEPT_LABEL_DCSP"></label><input class="input--smallNumber" type="number" name="dcsp" ng-model="hotspot2SectionQosCtrl.entry.dcsp" ng-pattern="hotspot2SectionQosCtrl.patterns.dcsp"'+o("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_QOS_EXCEPT_LABEL_UP"></label><input class="input--smallNumber" type="number" name="up" ng-model="hotspot2SectionQosCtrl.entry.up" min="0" max="7"'+o("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionQosCtrl.addExceptionEntry()" ng-disabled="hotspot2SectionQosCtrl.form.$pristine"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_QOS_LIST_ACTIONS_ADD"></span></button></div></div></ng-form></div></div><div class="appRow" ng-if="hotspot2SectionQosCtrl.status"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="verticalRhythmTop--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" name="qosQosList"><thead><th class="QosListIndex"><span translate="SETTINGS_HOTSPOT2_QOS_TABLE_HEADER_PRIORITY"></span></th><th class="QosListLow"><span translate="SETTINGS_HOTSPOT2_QOS_TABLE_HEADER_LOW"></span></th><th class="QosListHigh"><span translate="SETTINGS_HOTSPOT2_QOS_TABLE_HEADER_HIGH"></span></th><th class="QosListActions"'+o("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_QOS_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="qosMapItem in hotspot2SectionQosCtrl.qosList track by ( \'\' + $index + qosMapItem.low + qosMapItem.high )"><td class="QosListIndex">{{::$index}}</td><td class="QosListLow">{{::qosMapItem.low}}</td><td class="QosListHigh">{{::qosMapItem.high}}</td><td class="QosListActions appTableCell--actions"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="hotspot2SectionQosCtrl.editQosEntry(qosMapItem, $index)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button></td></tr></tbody></table></div></div></fieldset></div>'};var i=/["&<>]/},{"pug-runtime":2}],123:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}angular.module("app-unifi-manage-settings").controller("Hotspot2SectionRoamingConsortiumController",["$timeout","REGEX_PATTERNS",function(t,e){return new(function(){function n(){var o,i,r,a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,i="patterns",r={roamingConsortiumOid:e.ROAMING_CONSORTIUM_OID},i in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r,this.entry={},this.maxListSize=10,t(function(){a.isExpanded=!!a.list&&a.list.length},0)}var i,r,a;return i=n,(r=[{key:"addListEntry",value:function(){this.list=this.list||[],this.form.$valid&&this.list.length<this.maxListSize?(this.showValidation=!1,this.entry.oid=this.entry.oid.replace("0x","").toLowerCase(),this.list.push(this.entry),this.entry={},this.form.$setPristine()):this.showValidation=!0}},{key:"removeListEntry",value:function(t){this.list&&this.list.splice(t,1)}}])&&o(i.prototype,r),a&&o(i,a),n}())}])},{}],124:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionRoamingConsortium",[function(){return{scope:{list:"=unifiHotspot2SectionRoamingConsortiumList"},controller:"Hotspot2SectionRoamingConsortiumController",controllerAs:"hotspot2SectionRoamingConsortiumCtrl",bindToController:!0,template:t("./hotspot2SectionRoamingConsortium.pug")()}}])},{"./hotspot2SectionRoamingConsortium.pug":125}],125:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionRoamingConsortiumCtrl.isExpanded = !hotspot2SectionRoamingConsortiumCtrl.isExpanded" ng-class="hotspot2SectionRoamingConsortiumCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_ROAMING_CONSORTIUM_LIST"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionRoamingConsortiumCtrl.isExpanded"><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped"><thead><th class="roamingConsortiumName"><span translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_TABLE_HEADER_NAME"></span></th><th class="roamingConsortiumOid"><span translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_TABLE_HEADER_OID"></span></th><th class="roamingConsortiumActions"'+o("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="roamingConsortium in hotspot2SectionRoamingConsortiumCtrl.list track by (\'\' + $index + roamingConsortium.name + roamingConsortium.oid)"><td class="roamingConsortiumName">{{::roamingConsortium.name}}</td><td class="roamingConsortiumOid">{{::roamingConsortium.oid}}</td><td class="roamingConsortiumActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-click="hotspot2SectionRoamingConsortiumCtrl.removeListEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!hotspot2SectionRoamingConsortiumCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_TABLE_EMPTY"></p></div></div></div><ng-form class="appForm"'+o("unifi-if-role-admin",!0,!0,!0)+o("unifi-isolated-form",!0,!0,!0)+' ng-class="{            \'is-form-validation-visible\': hotspot2SectionRoamingConsortiumCtrl.showValidation,            \'is-validation-hidden\': !hotspot2SectionRoamingConsortiumCtrl.showValidation          }" name="hotspot2SectionRoamingConsortiumCtrl.form"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_TABLE_HEADER_NAME"></label><input type="text" name="roamingConsortiumName" ng-model="hotspot2SectionRoamingConsortiumCtrl.entry.name"'+o("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_TABLE_HEADER_OID"></label><input type="text" name="roamingConsortiumOid" ng-model="hotspot2SectionRoamingConsortiumCtrl.entry.oid" ng-pattern="hotspot2SectionRoamingConsortiumCtrl.patterns.roamingConsortiumOid"'+o("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionRoamingConsortiumCtrl.addListEntry()" ng-disabled="hotspot2SectionRoamingConsortiumCtrl.form.$pristine"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_ACTIONS_ADD"></span></button></div></div><div class="appInputFeedback appInputFeedback--danger" ng-show="hotspot2SectionRoamingConsortiumCtrl.form.roamingConsortiumOid.$error.pattern" translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_OID_HINT"></div></ng-form></div></div></fieldset></div>'};var i=/["&<>]/},{"pug-runtime":2}],126:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionTerms",[function(){return{scope:{form:"=unifiHotspot2SectionTermsForm",termsFilename:"=unifiHotspot2SectionTermsFilename",termsTimestamp:"=unifiHotspot2SectionTermsTimestamp"},controller:angular.noop,controllerAs:"hotspot2SectionTermsCtrl",bindToController:!0,template:t("./hotspot2SectionTerms.pug")()}}])},{"./hotspot2SectionTerms.pug":127}],127:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionTermsCtrl.isExpanded = !hotspot2SectionTermsCtrl.isExpanded" ng-class="hotspot2SectionTermsCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_TERMS_INFORMATION"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionTermsCtrl.isExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_TERMS_FILENAME"></label></div><div class="col--sm9 appInputGroup appInputGroup--cozy"><input class="input" type="text" id="termsFilename" name="termsFilename" ng-model="hotspot2SectionTermsCtrl.termsFilename"><unifi-tooltip><content translate="SETTINGS_HOTSPOT2_DESC_TERMS_FILENAME"></content></unifi-tooltip></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_TERMS_TIMESTAMP"></label></div><div class="col--sm9 appInputGroup appInputGroup--cozy"><input class="input--largeNumber" type="number" id="termsTimestamp" name="termsTimestamp" ng-model="hotspot2SectionTermsCtrl.termsTimestamp" min="0" max="4294967295"><unifi-tooltip><content translate="SETTINGS_HOTSPOT2_DESC_TERMS_TIMESTAMP"></content></unifi-tooltip></div></div></fieldset></div>'}},{"pug-runtime":2}],128:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}angular.module("app-unifi-manage-settings").controller("HotspotOverridesUpgradeController",["$q","$translate","frame","heyToasts","hotspotOverrides","preferences",function(t,e,n,i,r,a){return new(function(){function e(){var t=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.hotspotOverrides=r,this.preferences=a,this.isLoading=!0,this.isUpgrading=!1,r.repository.register().fetch().finally(function(){t.isLoading=!1})}var s,l,p;return s=e,(l=[{key:"upgradeOverrides",value:function(){var e=this,o=t.when(),a=r.repository.model.get("overrides_modified_files");return a&&a.length>0&&(o=n.show("confirmUpgradeOverrides",{modifiedFiles:function(){return a},options:angular.noop})),o.then(function(){return e.isUpgrading=!0,r.upgrade().then(function(t){i.pushSuccess(t)}).catch(function(t){i.pushError(t)})}).finally(function(){e.isUpgrading=!1})}},{key:"isUpgradeAvailable",value:function(){var t=r.repository.model.get("portal_version"),e=r.repository.model.get("overrides_portal_version");return!!t&&!!e&&t!==e}},{key:"unregister",value:function(){r.repository.unregister()}}])&&o(s.prototype,l),p&&o(s,p),e}())}])},{}],129:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspotOverridesUpgrade",[function(){return{controller:"HotspotOverridesUpgradeController",controllerAs:"hotspotOverridesUpgradeCtrl",template:t("./hotspotOverridesUpgrade.pug")(),link:function(t,e,n,o){t.$on("$destroy",function(){o.unregister()})}}}])},{"./hotspotOverridesUpgrade.pug":130}],130:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appInfoBox appInfoBox--warning appInfoBox--cozy" ng-if="hotspotOverridesUpgradeCtrl.isUpgradeAvailable()"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header">{{\'SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_HEADER\' | translate}}</div><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_BODY_OVERRIDES_VERSION" translate-values="{version: hotspotOverridesUpgradeCtrl.hotspotOverrides.repository.model.get(\'overrides_portal_version\')}"></p><p class="noMarginBottom" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_BODY_CONTROLLER_VERSION" translate-values="{version: hotspotOverridesUpgradeCtrl.hotspotOverrides.repository.model.get(\'portal_version\')}"></p></div><div class="appInfoBox__footer"><button class="appMainButton appMainButton--primary appMainButton--cozy" ng-click="hotspotOverridesUpgradeCtrl.upgradeOverrides()" type="button" busy-toggle="hotspotOverridesUpgradeCtrl.isUpgrading" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_BUTTON\' | translate}}</button></div></div></div>'}},{"pug-runtime":2}],131:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("IpsSettingsController",["_","BaseSettingsController","alerts","arrayUtils","frame","gatewayUtils","ipsSuppression","localStorageFailSafe","networks","networkUtils","preferences","settings","system","StorageObjectValue","IPS_CATEGORY_DEFAULTS","IPS_CATEGORY_RESTRICTED","URLS",function(t,e,n,o,l,u,c,d,m,f,_,g,S,b,v,y,T){return new(function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(I,e);var l,m,E,C=a(I);function I(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,I),p(s(t=C.call(this)),"ipsSuppression",c),p(s(t),"networkUtils",f),p(s(t),"preferences",_),p(s(t),"URLS",T),p(s(t),"suppressionModified",!1),p(s(t),"forms",{}),p(s(t),"settingsSection","ips"),p(s(t),"settingsSectionTranslationKey","SETTINGS_SITE_KEY_THREAT_MANAGEMENT"),p(s(t),"settingsProperties",["enabled_categories","ips_mode","restrict_ip_addresses","restrict_tor","restrict_torrrents","suppression"]),p(s(t),"categories",{}),p(s(t),"isUdm",S.isUdm.bind(S)),c.load(),t.storage=new b(d,"IPS_SETTINGS_EXPANDED"),t.storage.hydrate();if(t.isExpanded=Object.assign({categories:!0,suppression:!1,whitelist:!1},t.storage.getValue()||{}),t.areAllGroupsCollapsed=!Object.keys(t.isExpanded).some(function(e){return t.isExpanded[e]}),u.hasSiteGateway()){var e=u.getSiteGateway().get("model");"UGW3"===e||"UDM"===e?t.categoryRestriction=!0:"UGW4"===e&&(t.categoryWarn=!0),t.gatewayName=u.getSiteGatewayName(),t.ipsThroughput=u.getSiteIpsThroughput()}t.categoryRestriction?Object.keys(y).filter(function(t){return y[t]}).forEach(function(e){t.categories[e]=v[e]}):Object.assign(t.categories,v),t.categoryColumns=o.split(Object.keys(t.categories),3),t.getSettingFromKey("ips",t.getModelDefaults());var n=t.getSettingFromKey(t.settingsSection,{},t.site?t.site.id:void 0);if("enabled_categories"in n.attributes){var i=n.attributes.enabled_categories;i instanceof Array&&Object.keys(t.categories).forEach(function(e){t.categories[e]=i.includes(e)})}return t}return l=I,(m=[{key:"save",value:function(){var e=this,n=[];this.isSubmitting=!0;var o=this.forms.config.modelCopy.attributes;o.enabled_categories=this.formatCategories(),o.suppression=c.formatSuppression(),o=t.pick.apply(null,[o].concat(this.settingsProperties));var i=this.site?this.site.id:void 0,r=g.buildSettingFromKey(this.settingsSection,{},i);return n.push(this.saveSection(r,o,"config")),this.afterSave(n).finally(function(){e.isSubmitting=!1})}},{key:"formatCategories",value:function(){var t=this;return Object.keys(this.categories).filter(function(e){return!0===t.categories[e]})}},{key:"getModelDefaults",value:function(){return{ips_mode:"disabled",restrict_ip_addresses:!0,restrict_tor:!0}}},{key:"enableReset",value:function(){return this.form.$pristine&&!this.suppressionModified}},{key:"enableDefaults",value:function(){var t=this;Object.keys(this.categories).forEach(function(e){t.categories[e]=v[e]})}},{key:"enableAll",value:function(){var t=this;Object.keys(this.categories).forEach(function(e){t.categories[e]=!0})}},{key:"toggleExpandAll",value:function(){var t=this,e=this.areAllGroupsCollapsed;Object.keys(this.isExpanded).forEach(function(n){t.isExpanded[n]=e}),this.storage.setValue(this.isExpanded),this.updateCollapsedAllGroupsState()}},{key:"toggleExpandGroup",value:function(t){this.isExpanded[t]=!this.isExpanded[t],this.storage.setValue(this.isExpanded),this.updateCollapsedAllGroupsState()}},{key:"showAlertTable",value:function(){return t.size(c.suppressedAlerts)}},{key:"updateCollapsedAllGroupsState",value:function(){var t=this;this.areAllGroupsCollapsed=!Object.keys(this.isExpanded).some(function(e){return t.isExpanded[e]})}}])&&i(l.prototype,m),E&&i(l,E),I}())}])},{}],132:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiIpsSettings",{controller:"IpsSettingsController",controllerAs:"ipsSettingsCtrl",template:t("./ipsSettings.pug")()})},{"./ipsSettings.pug":133}],133:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="ipsSettings"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_IPS_TITLE"></div></div><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="ipsSettingsCtrl.form" ng-class="{      \'is-form-validation-visible\': ipsSettingsCtrl.showValidation,      \'is-validation-hidden\': !ipsSettingsCtrl.showValidation    }" ng-submit="ipsSettingsCtrl.form.$valid &amp;&amp; ipsSettingsCtrl.save()"><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!ipsSettingsCtrl.isAdmin()"><unifi-config-changed unifi-config-changed-on-reset="ipsSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="ipsSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="ipsSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><div class="unifiSettingsSection"><ng-form name="ipsSettingsCtrl.forms.config" unifi-model-form="ipsSettingsCtrl.getSettingFromKey(\'ips\', ipsSettingsCtrl.getModelDefaults())"><div class="appRow verticalRhythm--comfy"><div class="col--md7 col--xs12"><div class="appInfoBoxContainer" ng-class="{                  \'appInfoBoxContainer--dark\': ipsSettingsCtrl.preferences.model.isSettingsDark()                }"><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom"><span class="appBadge appBadge--warning horizontalRhythm--condensed" translate="COMMON_BETA"></span><span translate="SETTINGS_IPS_ENABLE_IPS_NOTICE"></span></p></div></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_IPS_ENABLE_IPS_WARNING" translate-values="{                          gateway: ipsSettingsCtrl.gatewayName,                          throughput: ipsSettingsCtrl.ipsThroughput                        }"></p></div></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder" ng-if=":: !ipsSettingsCtrl.isUdm()"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_IPS_DISABLE_OFFLOAD_WARNING"></p></div></div></div></div></div></div><div class="appRow verticalRhythm--cozy"><div class="col--xs4"><label class="appLabel appLabel--primary" for="ipsMode" translate="SETTINGS_IPS_LABEL_PROTECTION_MODE"></label></div><div class="col--xs8"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="ipsMode" id="ipsModeIds" value="ids" ng-model="modelFormCtrl.modelCopy.attributes.ips_mode" ng-model-master="modelFormCtrl.model.attributes.ips_mode"><label for="ipsModeIds" translate="SETTINGS_IPS_VALUES_MODE_IDS"></label><input type="radio" name="ipsMode" id="ipsModeIps" value="ips" ng-model="modelFormCtrl.modelCopy.attributes.ips_mode" ng-model-master="modelFormCtrl.model.attributes.ips_mode"><label for="ipsModeIps" translate="SETTINGS_IPS_VALUES_MODE_IPS"></label><input ng-if="ipsSettingsCtrl.isUdm() &amp;&amp; (\'enableInlineIps\' | featureFlagEnable)" type="radio" name="ipsMode" id="ipsModeInlineIps" value="ipsInline" ng-model="modelFormCtrl.modelCopy.attributes.ips_mode" ng-model-master="modelFormCtrl.model.attributes.ips_mode"><label ng-if="ipsSettingsCtrl.isUdm() &amp;&amp; (\'enableInlineIps\' | featureFlagEnable)" for="ipsModeInlineIps" translate="SETTINGS_IPS_VALUES_MODE_IPS_INLINE"></label><input type="radio" name="ipsMode" id="ipsModeDisabled" value="disabled" ng-model="modelFormCtrl.modelCopy.attributes.ips_mode" ng-model-master="modelFormCtrl.model.attributes.ips_mode"><label for="ipsModeDisabled" translate="SETTINGS_IPS_VALUES_MODE_DISABLED"></label><unifi-tooltip class="ubntTooltip--small"><content><div class="verticalRhythm--cozy"><span translate="SETTINGS_IPS_MODE_TOOLTIP_IDS"></span></div><div class="verticalRhythm--cozy"><span translate="SETTINGS_IPS_MODE_TOOLTIP_IPS"></span></div><div><span translate="SETTINGS_IPS_MODE_TOOLTIP_DISABLED"></span></div></content></unifi-tooltip><unifi-notify-device-requirement class="horizontalRhythmLeft--condensed" unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.get(\'ips_mode\') !== \'disabled\'"><div class="col--xs12 appLinkContainer"><div class="ubntIconText ubntIconText--withTextRight ubntIconText--currentColor"><unifi-aura-icon class="ubntIconText__icon" unifi-aura-icon="::\'info\'" unifi-aura-icon-class="::[\'ubntIcon\', \'color-primary\']"></unifi-aura-icon><span class="ubntIconText__text" translate="SETTINGS_IPS_MODE_TOS_NOTIFICATION" translate-values="{ipsTosLink: ipsSettingsCtrl.URLS.IPS_TOS}"></span></div></div></div><div class="verticalRhythm--cozy" ng-if="modelFormCtrl.modelCopy.get(\'ips_mode\') !== \'disabled\'"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy unifiSettingsHeader"><div class="unifiSettingsHeader__left" translate="SETTINGS_IPS_LABEL_RESTRICTIONS"></div><div class="unifiSettingsHeader__right"><div class="appActionIconGroup"><div class="appActionIcon appActionIcon--medium appActionIcon--primary" ng-click="ipsSettingsCtrl.toggleExpandAll()" title="{{ipsSettingsCtrl.areAllGroupsCollapsed ? \'COMMON_PROPERTY_PANEL_EXPAND_ALL\' : \'COMMON_PROPERTY_PANEL_COLLAPSE_ALL\' | translate}}"><span class="icon ubnt-icon--menu"></span></div></div></div></div><div class="appRow"><div class="col--md4 col--sm10 col--xs8"><label class="appLabel appLabel--primary" for="restrictTor" translate="SETTINGS_IPS_VALUES_RESTRICT_TOR"></label></div><div class="col--md8 col--sm2 col--xs4"><div class="appInputGroup appInputGroup--comfy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="restrictTor" id="restrictTor" ng-model="modelFormCtrl.modelCopy.attributes.restrict_tor" ng-model-master="modelFormCtrl.model.attributes.restrict_tor"><label for="restrictTor"></label></div></div></div>\x3c!-- Not needed for now, add back when needed--\x3e\x3c!--.col--xs4label.appLabel.appLabel--primary(\n  for="restrictTorrents"\n  translate="SETTINGS_IPS_VALUES_RESTRICT_TORRENTS"\n)--\x3e\x3c!--.col--xs8.appInputGroup.appInputGroup--cozy\n  .toggle.appToggle(\n    data-on="{{\'COMMON_TOGGLE_ON\' | translate}}"\n    data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"\n  )\n    input(\n      type="checkbox"\n      name="restrictTorrents"\n      id="restrictTorrents"\n      ng-model="modelFormCtrl.modelCopy.attributes.restrict_torrents"\n      ng-model-master="modelFormCtrl.model.attributes.restrict_torrents"\n    )\n    label(\n      for="restrictTorrents"\n    )\n--\x3e<div class="col--md4 col--sm10 col--xs8"><label class="appLabel appLabel--primary" for="restrictIPAdresses" translate="SETTINGS_IPS_VALUES_RESTRICT_MALICIOUS_IP_ADDRESSES"></label></div><div class="col--md8 col--sm2 col--xs4"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="restrictIPAdresses" id="restrictIPAdresses" ng-model="modelFormCtrl.modelCopy.attributes.restrict_ip_addresses" ng-model-master="modelFormCtrl.model.attributes.restrict_ip_addresses"><label for="restrictIPAdresses"></label></div></div></div></div></div></div><div class="verticalRhythm--cozy" ng-if="modelFormCtrl.modelCopy.get(\'ips_mode\') !== \'disabled\'"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy unifiSettingsHeader"><div class="unifiSettingsHeader__left" ng-click="ipsSettingsCtrl.toggleExpandGroup(\'categories\')" ng-class="ipsSettingsCtrl.isExpanded[\'categories\'] ? \'appCollapserType\' : \'appExpanderType\'" translate="SETTINGS_IPS_LABEL_RULESET_CATEGORIES"></div><div class="unifiSettingsHeader__right" ng-show="ipsSettingsCtrl.isExpanded[\'categories\']"><button class="appMainButton appMainButton--tertiary appMainButton--cozy noPadding horizontalRhythm--cozy" type="button" ng-click="ipsSettingsCtrl.enableDefaults()">{{ \'SETTINGS_IPS_ACTIONS_ENABLE_DEFAULTS\' | translate }}</button><button class="appMainButton appMainButton--tertiary appMainButton--cozy noPadding horizontalRhythm--cozy" type="button" ng-click="ipsSettingsCtrl.enableAll()">{{ \'SETTINGS_IPS_ACTIONS_ENABLE_ALL\' | translate }}</button></div></div><div class="appRow verticalRhythm" ng-show="ipsSettingsCtrl.isExpanded[\'categories\']" ng-if="ipsSettingsCtrl.categoryRestriction || ipsSettingsCtrl.categoryWarn"><div class="col--md7 col--xs12"><div class="appInfoBoxContainer" ng-class="{                      \'appInfoBoxContainer--dark\': ipsSettingsCtrl.preferences.model.isSettingsDark()                    }"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder" ng-if="ipsSettingsCtrl.categoryRestriction"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom"><span translate="SETTINGS_IPS_CATEGORY_RESTRICTION_WARNING" translate-values="{                                gateway: ipsSettingsCtrl.gatewayName                              }"></span></p></div></div></div><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder" ng-if="ipsSettingsCtrl.categoryWarn"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom"><span translate="SETTINGS_IPS_CATEGORY_NOTICE"></span></p></div></div></div></div></div></div><div class="appRow" ng-show="ipsSettingsCtrl.isExpanded[\'categories\']"><div class="col--md4 col--sm12" ng-repeat="categoryColumn in ipsSettingsCtrl.categoryColumns"><div ng-repeat="category in categoryColumn"><div class="col--md8 col--sm10 col--xs8"><label class="appLabel appLabel--primary" translate="SETTINGS_IPS_VALUES_CATEGORY_{{category | uppercase}}"></label></div><div class="col--md4 col--sm2 col--xs4"><div class="appInputGroup appInputGroup--comfy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="{{category}}" id="{{category}}" ng-model="ipsSettingsCtrl.categories[category]"><label for="{{category}}"></label></div></div></div></div></div></div></div></div><div class="verticalRhythm--cozy" ng-if="modelFormCtrl.modelCopy.get(\'ips_mode\') !== \'disabled\'"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy unifiSettingsHeader"><div class="unifiSettingsHeader__left" ng-click="ipsSettingsCtrl.toggleExpandGroup(\'whitelist\')" ng-class="ipsSettingsCtrl.isExpanded[\'whitelist\'] ? \'appCollapserType\' : \'appExpanderType\'" translate="SETTINGS_IPS_LABEL_ALLOW_LIST"></div></div><div class="appRow" ng-show="ipsSettingsCtrl.isExpanded[\'whitelist\']"><table class="verticalRhythm--cozy col--xs12 col--md6 appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" ng-if="ipsSettingsCtrl.ipsSuppression.whitelist.length"><thead><tr><th class="noPaddingTop suppressTrack"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_TRACK"></span></th><th class="noPaddingTop suppressDirection"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_DIRECTION"></span></th></tr></thead><tbody><tr ng-repeat="track in ipsSettingsCtrl.ipsSuppression.whitelist track by $index"><td class="suppressTrack appTableCell"><span ng-if="track.mode == \'ip\' || track.mode == \'subnet\'">{{track.value}}</span><span ng-if="track.mode == \'network\'">{{ipsSettingsCtrl.networkUtils.getNetworkName(track.value)}}</span></td><td class="suppressDirection appTableCell"><span ng-if="track.direction == \'both\'" translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_BOTH"></span><span ng-if="track.direction == \'src\'" translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_SOURCE"></span><span ng-if="track.direction == \'dest\'" translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_DESTINATION"></span></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm--cozy" ng-if="!ipsSettingsCtrl.ipsSuppression.whitelist.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_IPS_ALLOW_LIST_TABLE_EMPTY"></p></div></div></div><div class="col--xs12"><button class="editWhitelist appMainButton appMainButton--primary verticalRhythmTop-comfy" type="button" ng-click="ipsSettingsCtrl.ipsSuppression.editWhitelist()"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="SETTINGS_IPS_ALLOW_LIST_EDIT"></span></button></div></div></div></div><div class="verticalRhythm--cozy" ng-if="modelFormCtrl.modelCopy.get(\'ips_mode\') !== \'disabled\'"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy unifiSettingsHeader"><div class="unifiSettingsHeader__left" ng-click="ipsSettingsCtrl.toggleExpandGroup(\'suppression\')" ng-class="ipsSettingsCtrl.isExpanded[\'suppression\'] ? \'appCollapserType\' : \'appExpanderType\'" translate="SETTINGS_IPS_LABEL_RULESET_SUPPRESSION"></div></div><div class="appRow" ng-show="ipsSettingsCtrl.isExpanded[\'suppression\']"><table class="verticalRhythm--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" ng-if="ipsSettingsCtrl.showAlertTable()"><thead><tr><th class="noPaddingTop suppressCategory" collection-view-sort-by="category"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_CATEGORY"></span></th><th class="noPaddingTop suppressSignature" collection-view-sort-by="signature"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_SIGNATURE"></span></th><th class="noPaddingTop suppressTrack"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_TRACK"></span></th><th class="noPaddingTop suppressDirection"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_DIRECTION"></span></th><th class="noPaddingTop suppressAction appTableCell--actions"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_ACTION"></span></th></tr></thead><tbody ng-repeat="(key, suppressed) in ipsSettingsCtrl.ipsSuppression.suppressedAlerts"><tr ng-repeat="track in suppressed.tracking track by $index"><td class="suppressCategory appTableCell--smash" ng-if="$first" ng-attr-rowspan="{{suppressed.tracking.length}}">{{suppressed.category | ensurePrefix:\'SETTINGS_\' | translate}}</td><td class="suppressSignature" ng-if="$first" ng-attr-rowspan="{{suppressed.tracking.length}}">{{suppressed.signature}}</td><td class="suppressTrack appTableCell" ng-if="suppressed.type == \'all\'" colspan="2"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_ALL"></span></td><td class="suppressTrack appTableCell" ng-if="suppressed.type == \'track\'"><span ng-if="track.mode == \'ip\' || track.mode == \'subnet\'">{{track.value}}</span><span ng-if="track.mode == \'network\'">{{ipsSettingsCtrl.networkUtils.getNetworkName(track.value)}}</span></td><td class="suppressDirection appTableCell" ng-if="suppressed.type == \'track\'"><span ng-if="track.direction == \'both\'" translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_BOTH"></span><span ng-if="track.direction == \'src\'" translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_SOURCE"></span><span ng-if="track.direction == \'dest\'" translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_DESTINATION"></span></td><td class="suppressAction appTableCell--actions" ng-if="$first" ng-attr-rowspan="{{suppressed.tracking.length}}"><button class="suppressEdit appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="ipsSettingsCtrl.ipsSuppression.editSuppressedAlert(suppressed, null)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="suppressDelete appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="ipsSettingsCtrl.ipsSuppression.deleteSuppressedAlert(key)"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder" ng-if="!ipsSettingsCtrl.showAlertTable()"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_IPS_SUPPRESSION_TABLE_EMPTY"></p></div></div></div></div></div><div class="unifiSettingsSection" ng-show="ipsSettingsCtrl.isExpanded[\'suppression\']"><div class="appSubHeading appSubHeading--cozy unifiSettingsHeader"><div class="unifiSettingsHeader__left" translate="SETTINGS_IPS_LABEL_RECENT_ALERTS"></div></div><div class="appRow"><unifi-ips-suppress-list unifi-ips-suppress-list-on-edit="ipsSettingsCtrl.ipsSuppression.addSignatureSuppression(alert)"></unifi-ips-suppress-list></div></div></div></ng-form></div><div class="appFormFooter appFormFooter--flush appFormFooter--standalone verticalRhythm--cozy verticalRhythmTop--breezy"'+o("unifi-if-role-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="ipsSettingsCtrl.showValidation = true" busy-toggle="ipsSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--xsmall\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="ipsSettingsCtrl.reset()" ng-disabled="ipsSettingsCtrl.enableReset()">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></fieldset></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],134:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("MDnsSettingsController",["BaseSettingsController","gatewayUtils",function(t,e){return new(function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(u,t);var o,s,l,p=a(u);function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=p.call(this)).hasSiteGateway=e.hasSiteGateway.bind(e),t.getSiteGatewayName=e.getSiteGatewayName.bind(e),t.settingsSectionTranslationKey="SETTINGS_SERVICES_TAB_MDNS",t.settingsSectionTranslationKeys={usg:"SETTINGS_SERVICES_TAB_MDNS"},t}return o=u,(s=[{key:"save",value:function(){var t=this,e=[];return this.isSubmitting=!0,angular.forEach(["usg"],function(n){e.push(t.saveSection(t.getSettingFromKey(n),t.forms[n].modelCopy.attributes,n))}),this.afterSave(e).finally(function(){t.isSubmitting=!1})}}])&&i(o.prototype,s),l&&i(o,l),u}())}])},{}],135:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiMdnsSettings",{controller:"MDnsSettingsController",controllerAs:"mDnsSettingsCtrl",template:t("./mDnsSettings.pug")()})},{"./mDnsSettings.pug":136}],136:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="mDnsSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-security-gateway-is-required ng-if="!mDnsSettingsCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_MDNS_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><div ng-if="mDnsSettingsCtrl.hasSiteGateway()"><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="mDnsSettingsCtrl.form" ng-class="{        \'is-form-validation-visible\': mDnsSettingsCtrl.showValidation,        \'is-validation-hidden\': !mDnsSettingsCtrl.showValidation      }" ng-submit="mDnsSettingsCtrl.form.$valid &amp;&amp; mDnsSettingsCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="mDnsSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="mDnsSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="mDnsSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!mDnsSettingsCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="mDnsSettingsCtrl.forms.usg" unifi-model-form="mDnsSettingsCtrl.getSettingFromKey(\'usg\')"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" for="mDnsEnable" translate="SETTINGS_MDNS_LABEL_ENABLE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle floatLeft" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="mDnsEnable" id="mDnsEnable" ng-model="modelFormCtrl.modelCopy.attributes.mdns_enabled" ng-model-master="modelFormCtrl.model.attributes.mdns_enabled"><label for="mDnsEnable"></label></div><unifi-tooltip class="inlineBlock mt-1 ubntTooltip--small"><content translate="SETTINGS_MDNS_TOOLTIP_ENABLE" translate-values="{gateway: mDnsSettingsCtrl.getSiteGatewayName()}"></content></unifi-tooltip></div></div></div><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+o("unifi-if-role-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="mDnsSettingsCtrl.showValidation = true" busy-toggle="mDnsSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="mDnsSettingsCtrl.reset()" ng-disabled="mDnsSettingsCtrl.form.$pristine" translate="COMMON_ACTIONS_RESET"></button></div></div></div></div></ng-form></div></fieldset></form></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],137:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("MaintenanceSettingsController",["$filter","$q","$translate","BaseSettingsController","frame","heyToasts","sdn","settings","system","systemConfig","preferences","SWAI_PROPS",function(t,e,n,o,l,u,c,d,m,f,_,g){return new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(y,o);var d,S,b,v=a(y);function y(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return p(s(t=v.call.apply(v,[this].concat(n))),"system",m),p(s(t),"preferences",_),p(s(t),"isStandalone",g.isStandalone),p(s(t),"forms",{}),p(s(t),"settingsSection","maintenance"),p(s(t),"isCloudKey",c.isCloudKey()),p(s(t),"isUdm",c.isUdm()),p(s(t),"logLevelOptions",[{id:"warn",translationKey:"SETTINGS_MAINTENANCE_VALUES_LOG_LEVEL_WARN"},{id:"info",translationKey:"SETTINGS_MAINTENANCE_VALUES_LOG_LEVEL_INFO"},{id:"debug",translationKey:"SETTINGS_MAINTENANCE_VALUES_LOG_LEVEL_DEBUG"}]),p(s(t),"filterDevice","site"),p(s(t),"filterState","all"),p(s(t),"filterDeviceTranslationKeys",{all:"SETTINGS_MAINTENANCE_FIRMWARE_LABEL_TYPE_ALL",known:"SETTINGS_MAINTENANCE_FIRMWARE_LABEL_TYPE_KNOWN_DEVICES",site:"SETTINGS_MAINTENANCE_FIRMWARE_LABEL_TYPE_SITE_DEVICES"}),p(s(t),"filterStateTranslationKeys",{all:"SETTINGS_MAINTENANCE_FIRMWARE_LABEL_TYPE_ALL",cached:"SETTINGS_MAINTENANCE_FIRMWARE_LABEL_TYPE_CACHED",available:"SETTINGS_MAINTENANCE_FIRMWARE_LABEL_TYPE_AVAILABLE"}),t}return d=y,(S=[{key:"updateLogLevel",value:function(){var t=this,n=[];return this.isUpdatingLogLevel=!0,angular.forEach(["device","mgmt","system","sdn"],function(e){t.forms.services.modelCopy.attributes["debug_"+e]!==m.repository.model.get("debug_"+e)&&n.push(m.setDebugLevel(e,t.forms.services.modelCopy.attributes["debug_"+e]).then(function(t){return u.pushSuccess(t),!0}).catch(function(t){return u.pushError(t),!1}))}),e.all(n).then(function(t){return t.every(function(t){return t})}).finally(function(){t.isUpdatingLogLevel=!1})}},{key:"compactDatabase",value:function(){var t=this;return l.show("confirm",{title:function(){return n.instant("SETTINGS_MAINTENANCE_COMPACT_DATABASE_CONFIRM_TITLE")},message:function(){return n.instant("SETTINGS_MAINTENANCE_COMPACT_DATABASE_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return t.isCompactingDatabase=!0,u.handlePromise(m.compactDatabase()).finally(function(){t.isCompactingDatabase=!1})})}},{key:"downloadSupportInfo",value:function(){var t=this;return this.isDownloadingSupportInfo=!0,m.generateSupportFile(!0).then(function(t){return u.pushSuccess(t),!0}).catch(function(t){return u.pushError(t),!1}).finally(function(){t.isDownloadingSupportInfo=!1})}},{key:"checkDevicesFirmwareUpdate",value:function(){var t=this;return this.isCheckingDevicesFirmwareUpdate=!0,m.checkDevicesFirmwareUpdate().then(function(t){return u.pushSuccess(t),!0}).catch(function(t){return u.pushError(t),!1}).finally(function(){t.isCheckingDevicesFirmwareUpdate=!1})}},{key:"checkForCloudKeyFirmwareUpdate",value:function(){var t=this;return this.isCheckingForCloudKeyFirmwareUpdate=!0,m.isCloudKeyFirmwareUpdateAvailable().then(function(t){return u.pushSuccess(t),!0}).catch(function(t){return u.pushError(t),!1}).finally(function(){t.isCheckingForCloudKeyFirmwareUpdate=!1})}},{key:"updateCloudKeyFirmware",value:function(){var t=this;return l.show("confirm",{title:function(){return n.instant("SETTINGS_MAINTENANCE_UPDATE_CLOUD_KEY_FIRMWARE_CONFIRM_TITLE")},message:function(){return n.instant("SETTINGS_MAINTENANCE_UPDATE_CLOUD_KEY_FIRMWARE_CONFIRM_MESSAGE")},options:function(){var t=m.getDiscontinuedDeviceCount(),e=n.instant("UNIFI_UPDATE_WARNING_EOL",{count:t},"messageformat");return{size:"small",dangers:t?[e]:[],infos:[n.instant("UNIFI_UPDATE_WARNING")]}}}).then(function(){return t.isUpdatingCloudKeyFirmware=!0,m.updateCloudKeyFirmware().then(function(t){return u.pushSuccess(t),m.waitForUpdateFinish(),!0}).catch(function(t){return u.pushError(t),!1}).finally(function(){t.isUpdatingCloudKeyFirmware=!1})})}},{key:"checkForUdmFirmwareUpdate",value:function(){var t=this;return this.isCheckingForUdmFirmwareUpdate=!0,m.isUdmFirmwareUpdateAvailable().then(function(t){return u.pushSuccess(t),m.repository.refresh(),!0}).catch(function(t){return u.pushError(t),!1}).finally(function(){t.isCheckingForUdmFirmwareUpdate=!1})}},{key:"updateUdmFirmware",value:function(){var t=this;return l.show("confirm",{title:function(){return n.instant("SETTINGS_MAINTENANCE_UPDATE_UDM_FIRMWARE_CONFIRM_TITLE")},message:function(){return n.instant("SETTINGS_MAINTENANCE_UPDATE_UDM_FIRMWARE_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return t.isUpdatingUdmFirmware=!0,m.updateUdmFirmware().then(function(t){return u.pushSuccess(t),!0}).catch(function(t){return u.pushError(t),!1}).finally(function(){t.isUpdatingUdmFirmware=!1})})}},{key:"checkForCloudKeyControllerUpdate",value:function(){var t=this;return this.isCheckingForCloudKeyControllerUpdate=!0,m.isCloudKeyControllerUpdateAvailable().then(function(t){return u.pushSuccess(t),!0}).catch(function(t){return u.pushError(t),!1}).finally(function(){t.isCheckingForCloudKeyControllerUpdate=!1})}},{key:"updateCloudKeyController",value:function(){var t=this;return l.show("confirm",{title:function(){return n.instant("UPDATE_CLOUD_KEY_CONTROLLER_CONFIRM_TITLE")},message:function(){return n.instant("UPDATE_CLOUD_KEY_CONTROLLER_CONFIRM_MESSAGE")},options:function(){var t=m.getDiscontinuedDeviceCount(),e=n.instant("UNIFI_UPDATE_WARNING_EOL",{count:t},"messageformat");return{size:"small",dangers:t&&m.hasControllerMinorVersionChanged()?[e]:[],infos:[n.instant("UNIFI_UPDATE_WARNING")]}}}).then(function(){return t.isUpdatingCloudKeyController=!0,m.updateCloudKeyController().then(function(t){return u.pushSuccess(t),!0}).catch(function(t){return u.pushError(t),!1}).finally(function(){t.isUpdatingCloudKeyController=!1})})}},{key:"restartCloudKey",value:function(){var t=this;return l.show("confirm",{title:function(){return n.instant("SETTINGS_MAINTENANCE_RESTART_CLOUD_KEY_CONFIRM_TITLE")},message:function(){return n.instant("SETTINGS_MAINTENANCE_RESTART_CLOUD_KEY_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return t.isRestartingCloudKey=!0,m.restartCloudKey().then(function(t){return u.pushSuccess(t),!0}).catch(function(t){return u.pushError(t),!1}).finally(function(){t.isRestartingCloudKey=!1})})}},{key:"shutdownCloudKey",value:function(){var t=this;return l.show("confirm",{title:function(){return n.instant("SETTINGS_MAINTENANCE_SHUTDOWN_CLOUD_KEY_CONFIRM_TITLE")},message:function(){return n.instant("SETTINGS_MAINTENANCE_SHUTDOWN_CLOUD_KEY_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return t.isShuttingDownCloudKey=!0,m.shutdownCloudKey().then(function(t){return u.pushSuccess(t),!0}).catch(function(t){return u.pushError(t),!1}).finally(function(){t.isShuttingDownCloudKey=!1})})}},{key:"resetCloudKey",value:function(){var t=this;return l.show("confirm",{title:function(){return n.instant("SETTINGS_MAINTENANCE_RESET_CLOUD_KEY_CONFIRM_TITLE")},message:function(){return n.instant("SETTINGS_MAINTENANCE_RESET_CLOUD_KEY_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return t.isResettingCloudKey=!0,m.resetCloudKey().then(function(t){return u.pushSuccess(t),!0}).catch(function(t){return u.pushError(t),!1}).finally(function(){t.isResettingCloudKey=!1})})}},{key:"showSystemConfig",value:function(){var t=this;this.isPreparingConfig=!0,f.resolve().then(function(){t.isPreparingConfig=!1,l.show("systemConfig")})}}])&&i(d.prototype,S),b&&i(d,b),y}())}])},{}],138:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiMaintenanceSettings",{controller:"MaintenanceSettingsController",controllerAs:"maintenanceSettingsCtrl",template:t("./maintenanceSettings.pug")()})},{"./maintenanceSettings.pug":139}],139:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="maintenanceSettings"><form class="appForm appForm--cozy"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("novalidate",!0,!0,!0)+' autocomplete="off"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_MAINTENANCE"></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_SERVER_INFORMATION"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_CURRENT_VERSION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.repository.model.get(\'version\')}}\n({{ \'SETTINGS_MAINTENANCE_LABEL_BUILD\' | translate }}: {{maintenanceSettingsCtrl.system.repository.model.get(\'build\')}})</label></div></div><div class="appRow" ng-if="maintenanceSettingsCtrl.system.repository.model.get(\'update_available\') &amp;&amp; maintenanceSettingsCtrl.system.repository.model.get(\'update_downloaded\')"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_AVAILABLE_VERSION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.repository.model.get(\'update_version\')}}</label></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_SERVICES"></div><ng-form name="maintenanceSettingsCtrl.forms.services" unifi-model-form="maintenanceSettingsCtrl.system.repository.model"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_MAINTENANCE_LABEL_LOG_LEVEL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="maintenanceLogLevelDevice" translate="SETTINGS_MAINTENANCE_LABEL_LOG_LEVEL_DEVICE"></label><select name="maintenanceLogLevelDevice" id="maintenanceLogLevelDevice" ng-model="modelFormCtrl.modelCopy.attributes.debug_device" ng-options="logLevel.id as logLevel.translationKey | translate for logLevel in maintenanceSettingsCtrl.logLevelOptions"></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="maintenanceLogLevelMgmt" translate="SETTINGS_MAINTENANCE_LABEL_LOG_LEVEL_MGMT"></label><select name="maintenanceLogLevelMgmt" id="maintenanceLogLevelMgmt" ng-model="modelFormCtrl.modelCopy.attributes.debug_mgmt" ng-options="logLevel.id as logLevel.translationKey | translate for logLevel in maintenanceSettingsCtrl.logLevelOptions"></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="maintenanceLogLevelSystem" translate="SETTINGS_MAINTENANCE_LABEL_LOG_LEVEL_SYSTEM"></label><select name="maintenanceLogLevelSystem" id="maintenanceLogLevelSystem" ng-model="modelFormCtrl.modelCopy.attributes.debug_system" ng-options="logLevel.id as logLevel.translationKey | translate for logLevel in maintenanceSettingsCtrl.logLevelOptions"></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="maintenanceLogLevelDevice" translate="SETTINGS_MAINTENANCE_LABEL_LOG_LEVEL_SDN"></label><select name="maintenanceLogLevelSdn" id="maintenanceLogLevelSdn" ng-model="modelFormCtrl.modelCopy.attributes.debug_sdn" ng-options="logLevel.id as logLevel.translationKey | translate for logLevel in maintenanceSettingsCtrl.logLevelOptions"></select></div><button class="appMainButton appMainButton--primary appMainButton--cozy appMainButton--success updateLogLevel" type="button" ng-click="maintenanceSettingsCtrl.updateLogLevel()" busy-toggle="maintenanceSettingsCtrl.isUpdatingLogLevel" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY\' | translate}}</button></div></div></div><div class="appRow" ng-if="!maintenanceSettingsCtrl.system.isUnifiGo()"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy compactDatabase" type="button" ng-click="maintenanceSettingsCtrl.compactDatabase()" busy-toggle="maintenanceSettingsCtrl.isCompactingDatabase" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_COMPACT_DATABASE\' | translate}}</button></div></div></ng-form><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_CHECK_DEVICES_FIRMWARE_UPDATE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="appInputGroup inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy checkFirmwareUpdate" type="button" ng-click="maintenanceSettingsCtrl.checkDevicesFirmwareUpdate()" busy-toggle="maintenanceSettingsCtrl.isCheckingDevicesFirmwareUpdate" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_CHECK_DEVICES_FIRMWARE_UPDATE\' | translate}}</button></div></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_SUPPORT_INFO"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_DOWNLOAD"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy downloadSupportInfo" type="button" ng-click="maintenanceSettingsCtrl.downloadSupportInfo()" busy-toggle="maintenanceSettingsCtrl.isDownloadingSupportInfo" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_DOWNLOAD_SUPPORT_INFO\' | translate}}</button><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_MAINTENANCE_INFO_BOX_SUPPORT_INFO"></p></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_SYSTEM_CONFIG"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy downloadSupportInfo" type="button" ng-click="maintenanceSettingsCtrl.showSystemConfig()" busy-toggle="maintenanceSettingsCtrl.isPreparingConfig" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_SHOW_SYSTEM_CONFIG\' | translate}}</button></div></div></div><fieldset class="appFieldset appFieldset--quiet" ng-if="::maintenanceSettingsCtrl.isUdm &amp;&amp; maintenanceSettingsCtrl.isStandalone"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_UDM_FIRMWARE"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_CURRENT_VERSION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.getUdmVersion()}}</label></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy checkForCloudKeyFirmwareUpdate" type="button" ng-click="maintenanceSettingsCtrl.checkForUdmFirmwareUpdate()" busy-toggle="maintenanceSettingsCtrl.isCheckingForUdmFirmwareUpdate" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_CHECK_FOR_UPDATE\' | translate}}</button></div></div><div class="appRow" ng-if="maintenanceSettingsCtrl.system.repository.model.get(\'udm_update_available\')"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_AVAILABLE_VERSION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.repository.model.get(\'udm_update_version\')}}</label></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy updateCloudKeyFirmware" type="button" ng-click="maintenanceSettingsCtrl.updateUdmFirmware()" busy-toggle="maintenanceSettingsCtrl.isUpdatingUdmFirmware" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_APPLY_UPDATE\' | translate}}</button></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_UPDATE_STATUS"></label></div><div class="col--sm9 appFormGroup"><h5 class="noMarginBottom"><span class="appBadge" ng-class="{                  \'appBadge--success\': !maintenanceSettingsCtrl.system.repository.model.get(\'udm_update_available\'),                  \'appBadge--warning\': maintenanceSettingsCtrl.system.repository.model.get(\'udm_update_available\')                }" translate="SETTINGS_MAINTENANCE_LABEL_UPDATE_STATUS_{{maintenanceSettingsCtrl.system.getUdmFirmwareUpdateStatus()}}"></span></h5></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-if="maintenanceSettingsCtrl.isCloudKey &amp;&amp; maintenanceSettingsCtrl.isStandalone"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_CLOUD_KEY_FIRMWARE"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_CURRENT_VERSION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.repository.model.get(\'cloudkey_version\')}}</label></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy checkForCloudKeyFirmwareUpdate" type="button" ng-click="maintenanceSettingsCtrl.checkForCloudKeyFirmwareUpdate()" busy-toggle="maintenanceSettingsCtrl.isCheckingForCloudKeyFirmwareUpdate" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_CHECK_FOR_UPDATE\' | translate}}</button></div></div><div class="appRow" ng-if="maintenanceSettingsCtrl.system.repository.model.get(\'cloudkey_update_available\')"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_AVAILABLE_VERSION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.repository.model.get(\'cloudkey_update_version\')}}</label></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy updateCloudKeyFirmware" type="button" ng-click="maintenanceSettingsCtrl.updateCloudKeyFirmware()" busy-toggle="maintenanceSettingsCtrl.isUpdatingCloudKeyFirmware" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_APPLY_UPDATE\' | translate}}</button></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_UPDATE_STATUS"></label></div><div class="col--sm9 appFormGroup"><h5 class="noMarginBottom"><span class="appBadge" ng-class="{                  \'appBadge--success\': !maintenanceSettingsCtrl.system.repository.model.get(\'cloudkey_update_available\'),                  \'appBadge--warning\': maintenanceSettingsCtrl.system.repository.model.get(\'cloudkey_update_available\')                }" translate="SETTINGS_MAINTENANCE_LABEL_UPDATE_STATUS_{{maintenanceSettingsCtrl.system.getFirmwareUpdateStatus()}}"></span></h5></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_CLOUD_KEY_CONTROLLER"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_CURRENT_VERSION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.repository.model.get(\'package_version\')}}</label></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy checkForCloudKeyControllerUpdate" type="button" ng-click="maintenanceSettingsCtrl.checkForCloudKeyControllerUpdate()" busy-toggle="maintenanceSettingsCtrl.isCheckingForCloudKeyControllerUpdate" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_CHECK_FOR_UPDATE\' | translate}}</button></div></div><div class="appRow" ng-if="maintenanceSettingsCtrl.system.isPackageUpdateAvailable()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_AVAILABLE_VERSION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.getPackageUpdateVersion()}}</label></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy updateCloudKeyController" type="button" ng-click="maintenanceSettingsCtrl.updateCloudKeyController()" busy-toggle="maintenanceSettingsCtrl.isUpdatingCloudKeyController" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_APPLY_UPDATE\' | translate}}</button></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_UPDATE_STATUS"></label></div><div class="col--sm9 appFormGroup"><h5 class="noMarginBottom"><span class="appBadge" ng-class="{                  \'appBadge--success\': !maintenanceSettingsCtrl.system.repository.model.get(\'package_update_version\'),                  \'appBadge--warning\': maintenanceSettingsCtrl.system.repository.model.get(\'package_update_version\')                }" translate="SETTINGS_MAINTENANCE_LABEL_UPDATE_STATUS_{{maintenanceSettingsCtrl.system.getControllerUpdateStatus()}}"></span></h5></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_CLOUD_KEY_OPERATIONS"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_ACTIONS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy restartCloudKey" type="button" ng-click="maintenanceSettingsCtrl.restartCloudKey()" busy-toggle="maintenanceSettingsCtrl.isRestartingCloudKey" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_RESTART_CLOUD_KEY\' | translate}}</button></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy shutdownCloudKey" type="button" ng-click="maintenanceSettingsCtrl.shutdownCloudKey()" busy-toggle="maintenanceSettingsCtrl.isShuttingDownCloudKey" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_SHUTDOWN_CLOUD_KEY\' | translate}}</button></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--danger appMainButton--cozy resetCloudKey" type="button" ng-click="maintenanceSettingsCtrl.resetCloudKey()" busy-toggle="maintenanceSettingsCtrl.isResettingCloudKey" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_RESET_CLOUD_KEY\' | translate}}</button></div></div></div></div></div></fieldset><div class="unifiSettingsSection" ng-if="!maintenanceSettingsCtrl.system.isUnifiGo()"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_FIRMWARE"></div><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--cozy" ng-class="{ \'appMainButtonGroup--dark\': maintenanceSettingsCtrl.preferences.model.isSettingsDark() }"><li class="button appMainButton appMainButton--cozy" ng-repeat="deviceType in [\'all\', \'known\', \'site\']" ng-click="maintenanceSettingsCtrl.filterDevice = deviceType" ng-class="{\'is-button-selected\': maintenanceSettingsCtrl.filterDevice === deviceType }">{{maintenanceSettingsCtrl.filterDeviceTranslationKeys[deviceType] | translate}}</li></ul></div><div class="appActionBarFilter"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--cozy" ng-class="{ \'appMainButtonGroup--dark\': maintenanceSettingsCtrl.preferences.model.isSettingsDark() }"><li class="button appMainButton appMainButton--cozy" ng-repeat="state in [\'all\', \'cached\', \'available\']" ng-click="maintenanceSettingsCtrl.filterState = state" ng-class="{\'is-button-selected\': maintenanceSettingsCtrl.filterState === state}">{{maintenanceSettingsCtrl.filterStateTranslationKeys[state] | translate}}</li></ul></div></div></div></div><unifi-firmware-list unifi-firmware-list-filter-device="maintenanceSettingsCtrl.filterDevice" unifi-firmware-list-filter-state="maintenanceSettingsCtrl.filterState"></unifi-firmware-list></div></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],140:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return a(t)}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("NetworksController",["networks","BaseListAndFormController","missingModelControllerMixin",function(t,e,n){return new(function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(l,e);var s=r(l);function l(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=s.call(this)).collection=t.repository.collection,n(a(e)),e}return l}())}])},{}],141:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiNetworks",{controller:"NetworksController",controllerAs:"networksCtrl",template:t("./networks.pug")()})},{"./networks.pug":142}],142:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="networkSettings"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_NETWORKS"></div></div><div ng-if="networksCtrl.view === \'form\'" ng-switch="networksCtrl.model.attributes.purpose" ng-init="networksCtrl.sharedAttrs = networksCtrl.model.deepAttributes()"><div ng-switch-when="remote-user-vpn" unifi-network-form-remote-user-vpn="networksCtrl.model" unifi-network-form-remote-user-vpn-attrs="networksCtrl.sharedAttrs" unifi-network-form-remote-user-vpn-on-save="networksCtrl.list()" unifi-network-form-remote-user-vpn-on-cancel="networksCtrl.list()" unifi-network-form-remote-user-vpn-is-read-only="!networksCtrl.isAdmin()"></div><div ng-switch-when="site-vpn" unifi-network-form-site-vpn="networksCtrl.model" unifi-network-form-site-vpn-attrs="networksCtrl.sharedAttrs" unifi-network-form-site-vpn-on-save="networksCtrl.list()" unifi-network-form-site-vpn-on-cancel="networksCtrl.list()" unifi-network-form-site-vpn-is-read-only="!networksCtrl.isAdmin()"></div><div ng-switch-when="vlan-only" unifi-network-form-vlan-only="networksCtrl.model" unifi-network-form-vlan-only-attrs="networksCtrl.sharedAttrs" unifi-network-form-vlan-only-on-save="networksCtrl.list()" unifi-network-form-vlan-only-on-cancel="networksCtrl.list()" unifi-network-form-vlan-only-is-read-only="!networksCtrl.isAdmin()"></div><div ng-switch-when="vpn-client" unifi-network-form-vpn-client="networksCtrl.model" unifi-network-form-vpn-client-attrs="networksCtrl.sharedAttrs" unifi-network-form-vpn-client-on-save="networksCtrl.list()" unifi-network-form-vpn-client-on-cancel="networksCtrl.list()" unifi-network-form-vpn-client-is-read-only="!networksCtrl.isAdmin()"></div><div ng-switch-when="wan" unifi-network-form-wan="networksCtrl.model" unifi-network-form-wan-attrs="networksCtrl.sharedAttrs" unifi-network-form-wan-on-save="networksCtrl.list()" unifi-network-form-wan-on-cancel="networksCtrl.list()" unifi-network-form-wan-is-read-only="!networksCtrl.isAdmin()"></div><div'+o("ng-switch-default",!0,!0,!0)+' unifi-network-form-lan="networksCtrl.model" unifi-network-form-lan-attrs="networksCtrl.sharedAttrs" unifi-network-form-lan-on-save="networksCtrl.list()" unifi-network-form-lan-on-cancel="networksCtrl.list()" unifi-network-form-lan-is-read-only="!networksCtrl.isAdmin()"></div></div><div ng-if="networksCtrl.view === \'list\'"><unifi-network-list unifi-network-list-on-edit="networksCtrl.edit(model)"></unifi-network-list><div class="unifiSettingsFooter"'+o("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="networksCtrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_NETWORK_BUTTON_ADD"></span></button></div></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],143:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("NotificationsSettingsController",["$translate","$q","BaseSettingsController","frame","localStorageFailSafe","StorageObjectValue","notifications","preferences","EVENT_KEYS",function(t,e,n,l,u,c,d,m,f){return new(function(_){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(y,n);var g,S,b,v=a(y);function y(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return p(s(t=v.call.apply(v,[this].concat(n))),"preferences",m),p(s(t),"isEventDisabled",d.isEventDisabled.bind(d)),p(s(t),"isEventDefault",d.isEventDefault.bind(d)),p(s(t),"settingsSection","notifications"),p(s(t),"settingsSectionTranslationKeys",{super_events:"SETTINGS_NAV_NOTIFICATIONS"}),p(s(t),"storage",new c(u,"LOGGING_SETTINGS_EXPANDED")),p(s(t),"withDisabled",!1),p(s(t),"eventGroups",[{id:"ap",groups:["AP","CF"],translationKey:"SETTINGS_NOTIFICATIONS_SECTION_AP"},{id:"gateway",groups:"GW",translationKey:"SETTINGS_NOTIFICATIONS_SECTION_GATEWAY"},{id:"switch",groups:"SW",translationKey:"SETTINGS_NOTIFICATIONS_SECTION_SWITCH"},{id:"lte",groups:"LTE",translationKey:"SETTINGS_NOTIFICATIONS_SECTION_LTE"},{id:"client",groups:["LC","LG","LU","WC","WG","WU"],translationKey:"SETTINGS_NOTIFICATIONS_SECTION_CLIENT"},{id:"hotspot",groups:"HS",translationKey:"SETTINGS_NOTIFICATIONS_SECTION_HOTSPOT"},{id:"stream",groups:"PA",translationKey:"SETTINGS_NOTIFICATIONS_SECTION_STREAM"},{id:"admin",groups:"AD",translationKey:"SETTINGS_NOTIFICATIONS_SECTION_ADMIN"},{id:"ips",groups:"IPS",translationKey:"SETTINGS_NOTIFICATIONS_SECTION_THREAT_MANAGEMENT"}]),t}return g=y,(S=[{key:"$onInit",value:function(){this.storage.hydrate(),this.isExpanded=this.storage.getValue()||{},this.updateEvents()}},{key:"updateEvents",value:function(){var t=this;this.eventsByGroup={},this.eventGroups.forEach(function(e){t.eventsByGroup[e.id]=d.getEventsByGroup(e.groups,!0)})}},{key:"isEventInEventGroup",value:function(t,e){return angular.isArray(e.groups)?-1!==e.groups.indexOf(t.getEventGroup()):e.groups===t.getEventGroup()}},{key:"getDisabledCountByEventGroup",value:function(t){var e=this;return Object.keys(this.forms).reduce(function(n,o){var i=e.forms[o]&&e.forms[o].modelCopy;return i&&e.isEventInEventGroup(i,t)&&d.isEventDisabled(i)?n+1:n},0)}},{key:"getEventLabel",value:function(t){var e=f[t.id];return"object"===o(e)&&(e=e.key),e&&e.replace("EVT_","EVT_LABEL_")}},{key:"getEffectiveEvent",value:function(t){return d.repositories.effectiveEvents.collection.get(t.id)}},{key:"getDefaultEvent",value:function(t){return d.repositories.defaultEvents.collection.get(t.id)}},{key:"areAllEventGroupsCollapsed",value:function(){var t=this;return!this.eventGroups.reduce(function(e,n){return e=!(!e&&!t.isExpanded[n.id])},!1)}},{key:"expandEventGroups",value:function(){var t=this;this.eventGroups.forEach(function(e){t.isExpanded[e.id]=!0}),this.storage.setValue(this.isExpanded)}},{key:"collapseEventGroups",value:function(){var t=this;this.eventGroups.forEach(function(e){t.isExpanded[e.id]=!1}),this.storage.setValue(this.isExpanded)}},{key:"toggleExpandGroup",value:function(t){this.isExpanded[t.id]=!this.isExpanded[t.id],this.storage.setValue(this.isExpanded)}},{key:"resetEventToDefaults",value:function(t){var e=this.getDefaultEvent(t);t.set(e.toJSON())}},{key:"resetToDefaults",value:function(){var e=this;return l.show("confirm",{title:function(){return t.instant("SETTINGS_NOTIFICATIONS_RESET_CONFIRM_TITLE")},message:function(){return t.instant("SETTINGS_NOTIFICATIONS_RESET_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){e.isDefaulting=!0;var t={};angular.forEach(Object.keys(e.forms),function(n){var o=e.forms[n].modelCopy;o.set(e.getDefaultEvent(o).toJSON()),t[n]={}});var n=[];return n.push(e.saveSection(e.getSettingFromKey("super_events"),t,"super_events")),e.afterSave(n).finally(function(){e.isDefaulting=!1})})}},{key:"save",value:function(){var t=this;this.isSubmitting=!0;var n={};angular.forEach(Object.keys(this.forms),function(e){d.isEventDefault(t.forms[e].modelCopy)?n[e]={}:n[e]=t.forms[e].modelCopy.toJSON()});var o=[];return o.push(this.saveSection(this.getSettingFromKey("super_events"),n,"super_events")),this.afterSave(o).finally(function(){t.isSubmitting=!1,e.all([d.repositories.defaultEvents.refresh(),d.repositories.effectiveEvents.refresh()]).then(function(){return t.updateEvents()})})}}])&&i(g.prototype,S),b&&i(g,b),y}())}])},{}],144:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiNotificationsSettings",{controller:"NotificationsSettingsController",controllerAs:"notificationsSettingsCtrl",template:t("./notificationsSettings.pug")()})},{"./notificationsSettings.pug":145}],145:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="notificationsSettings"><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="notificationsSettingsCtrl.form" ng-class="{      \'is-form-validation-visible\': notificationsSettingsCtrl.showValidation,      \'is-validation-hidden\': !notificationsSettingsCtrl.showValidation    }" ng-submit="notificationsSettingsCtrl.form.$valid &amp;&amp; notificationsSettingsCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="notificationsSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="notificationsSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="notificationsSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!notificationsSettingsCtrl.isAdmin()"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__left"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_NOTIFICATIONS"></div></div><div class="unifiSettingsHeader__right"><div class="appActionIconGroup"><div class="appActionIcon appActionIcon--medium" ng-click="notificationsSettingsCtrl.withDisabled = !notificationsSettingsCtrl.withDisabled" ng-class="{                \'appActionIcon--dark\': notificationsSettingsCtrl.preferences.model.isSettingsDark(),                \'appActionIcon--primary\': notificationsSettingsCtrl.withDisabled,              }" title="{{notificationsSettingsCtrl.withDisabled ? \'SETTINGS_NOTIFICATIONS_ACTION_HIDE_DISABLED_EVENTS\' : \'SETTINGS_NOTIFICATIONS_ACTION_SHOW_DISABLED_EVENTS\' | translate}}"><span class="icon ubnt-icon--eye-fill"></span></div><div class="appActionIcon appActionIcon--medium appActionIcon--primary" ng-click="isExpandIcon ? notificationsSettingsCtrl.expandEventGroups() : notificationsSettingsCtrl.collapseEventGroups()" title="{{(isExpandIcon = notificationsSettingsCtrl.areAllEventGroupsCollapsed()) ? \'COMMON_PROPERTY_PANEL_EXPAND_ALL\' : \'COMMON_PROPERTY_PANEL_COLLAPSE_ALL\' | translate}}"><span class="icon ubnt-icon--menu"></span></div></div></div></div><div class="unifiSettingsSection" ng-repeat="eventGroup in notificationsSettingsCtrl.eventGroups track by eventGroup.id"><div class="appSubHeading appSubHeading--comfy" ng-click="notificationsSettingsCtrl.toggleExpandGroup(eventGroup)" ng-class="notificationsSettingsCtrl.isExpanded[eventGroup.id] ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'"><span translate="{{::eventGroup.translationKey}}"></span><a class="appSubHeading__note" ng-if="!notificationsSettingsCtrl.withDisabled &amp;&amp; notificationsSettingsCtrl.isExpanded[eventGroup.id] &amp;&amp; (numDisabled = notificationsSettingsCtrl.getDisabledCountByEventGroup(eventGroup))" ng-click="notificationsSettingsCtrl.withDisabled = true; $event.stopPropagation()" translate="SETTINGS_NOTIFICATIONS_DISABLED_EVENTS" translate-values="{count: numDisabled}" translate-interpolation="messageformat"></a></div><fieldset class="appFieldset appFieldset--quiet" ng-show="notificationsSettingsCtrl.isExpanded[eventGroup.id]"><ng-form ng-repeat="event in notificationsSettingsCtrl.eventsByGroup[eventGroup.id] track by event.id" ng-if="eventLabel = notificationsSettingsCtrl.getEventLabel(event)" name="notificationsSettingsCtrl.forms[event.id]" unifi-model-form="notificationsSettingsCtrl.getEffectiveEvent(event)"><div class="appRow" ng-hide="!notificationsSettingsCtrl.withDisabled &amp;&amp; notificationsSettingsCtrl.isEventDisabled(modelFormCtrl.modelCopy)"><div class="col--sm5 col--md4 col--lg3"><label class="appLabel appLabel--primary" translate="{{::eventLabel}}" ng-class="{\'is-label-disabled\': notificationsSettingsCtrl.isEventDisabled(modelFormCtrl.modelCopy)}"></label></div><div class="col--sm7 col--md8 col--lg9 appFormGroup appFormGroup--condensed"><div class="appInputGroup appInputGroup--cozy inlineBlock horizontalRhythm--cozy"><input type="checkbox" name="notificationEvent-{{::event.id}}" id="notificationEvent-{{::event.id}}" ng-model="modelFormCtrl.modelCopy.attributes.event_enabled" ng-model-master="modelFormCtrl.model.attributes.event_enabled"><label for="notificationEvent-{{::event.id}}" translate="SETTINGS_NOTIFICATIONS_LABEL_EVENT"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock horizontalRhythm--cozy"><input type="checkbox" name="notificationAlert-{{::event.id}}" id="notificationAlert-{{::event.id}}" ng-model="modelFormCtrl.modelCopy.attributes.alert_enabled" ng-model-master="modelFormCtrl.model.attributes.alert_enabled"><label for="notificationAlert-{{::event.id}}" translate="SETTINGS_NOTIFICATIONS_LABEL_ALERT"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock horizontalRhythm--cozy"><input type="checkbox" name="notificationEmail-{{::event.id}}" id="notificationEmail-{{::event.id}}" ng-model="modelFormCtrl.modelCopy.attributes.email_enabled" ng-model-master="modelFormCtrl.model.attributes.email_enabled"><label for="notificationEmail-{{::event.id}}" translate="SETTINGS_NOTIFICATIONS_LABEL_EMAIL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock horizontalRhythm--cozy"><input type="checkbox" name="notificationPush-{{::event.id}}" id="notificationPush-{{::event.id}}" ng-model="modelFormCtrl.modelCopy.attributes.push_enabled" ng-model-master="modelFormCtrl.model.attributes.push_enabled"><label for="notificationPush-{{::event.id}}" translate="SETTINGS_NOTIFICATIONS_LABEL_PUSH"></label></div><div class="appInputGroup inlineBlock horizontalRhythmLeft--cozy"><button class="appMainButton appMainButton--iconOnly appMainButton--tertiary appMainButton--condensed" type="button" ng-if="!notificationsSettingsCtrl.isEventDefault(modelFormCtrl.modelCopy)" ng-click="notificationsSettingsCtrl.resetEventToDefaults(modelFormCtrl.modelCopy)" title="{{\'COMMON_ACTIONS_RESET_TO_DEFAULTS\' | translate}}"><span class="button__icon icon ubnt-icon--reset"></span></button></div></div></div></ng-form></fieldset></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+o("unifi-if-role-super-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="notificationsSettingsCtrl.showValidation = true" ng-disabled="notificationsSettingsCtrl.isDefaulting" busy-toggle="notificationsSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="notificationsSettingsCtrl.reset()" ng-disabled="notificationsSettingsCtrl.form.$pristine" translate="COMMON_ACTIONS_RESET"></button></div><div class="appFormFooter__right"><button class="appMainButton appMainButton--danger" type="button" ng-click="notificationsSettingsCtrl.resetToDefaults()" ng-disabled="notificationsSettingsCtrl.isSubmitting" busy-toggle="notificationsSettingsCtrl.isDefaulting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_RESET_TO_DEFAULTS\' | translate}}</button></div></div></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],146:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("NtpSettingsController",["BaseSettingsController","REGEX_PATTERNS",function(t,e){return new(function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(u,t);var o,s,l,p=a(u);function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=p.call(this)).settingsSectionTranslationKey="SETTINGS_SERVICES_TAB_NTP",t.settingsSectionTranslationKeys={ntp:"SETTINGS_SERVICES_TAB_NTP"},t.patterns={hostname:e.HOSTNAME,ipAddress:e.IPV4_ADDRESS},t}return o=u,(s=[{key:"save",value:function(){var t=this,e=[];return this.isSubmitting=!0,angular.forEach(["ntp"],function(n){e.push(t.saveSection(t.getSettingFromKey(n),t.forms[n].modelCopy.attributes,n))}),this.afterSave(e).finally(function(){t.isSubmitting=!1})}}])&&i(o.prototype,s),l&&i(o,l),u}())}])},{}],147:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiNtpSettings",{controller:"NtpSettingsController",controllerAs:"ntpSettingsCtrl",template:t("./ntpSettings.pug")()})},{"./ntpSettings.pug":148}],148:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="ntpSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="ntpSettingsCtrl.form" ng-class="{      \'is-form-validation-visible\': ntpSettingsCtrl.showValidation,      \'is-validation-hidden\': !ntpSettingsCtrl.showValidation    }" ng-submit="ntpSettingsCtrl.form.$valid &amp;&amp; ntpSettingsCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="ntpSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="ntpSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="ntpSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!ntpSettingsCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="ntpSettingsCtrl.forms.ntp" unifi-model-form="ntpSettingsCtrl.getSettingFromKey(\'ntp\')"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" for="ntpServer_1" translate="SETTINGS_NTP_LABEL"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="noMarginBottom"'+o("unifi-repeatable-input",!0,!0,!0)+' unifi-repeatable-input-min="4" unifi-repeatable-input-max="4"><div class="remoteSubnets appInputGroup appInputGroup--cozy" ng-repeat="i in repeatableInputCtrl.getOptions() track by $index"><input type="text" name="ntp_server_{{$index + 1}}" id="ntpServer_{{$index + 1}}" ng-model="modelFormCtrl.modelCopy.attributes[\'ntp_server_\' + ($index + 1)]" ng-model-master="modelFormCtrl.model.attributes[\'ntp_server_\' + ($index + 1)]" unifi-validate-patterns="[                        ntpSettingsCtrl.patterns.hostname,                        ntpSettingsCtrl.patterns.ipAddress                      ]"><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeRemoteSubnet" type="button" ng-show="!repeatableInputCtrl.isReadOnly" ng-click="repeatableInputCtrl.removeItem($index)" ng-hide="!repeatableInputCtrl.isRemoveAllowed()" title="{{\'SETTINGS_NTP_BUTTON_REMOVE\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-show="!repeatableInputCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRemoteSubnet" type="button" ng-click="repeatableInputCtrl.addItem()" ng-hide="!repeatableInputCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_NTP_BUTTON_ADD"></span></button></div></div></div></div></div><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+o("unifi-if-role-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" type="submit" ng-click="ntpSettingsCtrl.showValidation = true" busy-toggle="ntpSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="ntpSettingsCtrl.reset()" ng-disabled="ntpSettingsCtrl.form.$pristine" translate="COMMON_ACTIONS_RESET"></button></div></div></div></div></ng-form></div></fieldset></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],149:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return a(t)}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("PortForwardController",["BaseListAndFormController","gatewayUtils","missingModelControllerMixin","portForwards",function(t,e,n,o){return new(function(s){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(p,t);var l=r(p);function p(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(t=l.call(this)).collection=o.repository.collection,t.hasSiteGateway=e.hasSiteGateway.bind(e),n(a(t)),t}return p}())}])},{}],150:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiPortForward",{controller:"PortForwardController",controllerAs:"portForwardCtrl",template:t("./portForward.pug")()})},{"./portForward.pug":151}],151:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="portForwardSettings"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-security-gateway-is-required ng-if="!portForwardCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_PORT_FORWARD_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><div ng-if="portForwardCtrl.view === \'form\' &amp;&amp; portForwardCtrl.hasSiteGateway()" unifi-port-forward-form="portForwardCtrl.model" unifi-port-forward-form-on-save="portForwardCtrl.list()" unifi-port-forward-form-on-cancel="portForwardCtrl.list()" unifi-port-forward-form-is-read-only="!portForwardCtrl.isAdmin()"></div><div ng-if="portForwardCtrl.view === \'list\' &amp;&amp; portForwardCtrl.hasSiteGateway()"><unifi-port-forward-list unifi-port-forward-list-on-edit="portForwardCtrl.edit(model)"></unifi-port-forward-list><div class="unifiSettingsFooter"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="portForwardCtrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_PORT_FORWARD_BUTTON_CREATE"></span></button></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],152:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return l(t)}(this,n)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage").controller("PortForwardFormController",["$translate","BaseFormController","apiResults","gatewayUtils","heyToasts","ipUtils","networks","portForwards","REGEX_PATTERNS","UI",function(t,e,n,o,c,d,m,f,_,g){return new(function(d){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(T,e);var S,b,v,y=s(T);function T(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,T);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return u(l(t=y.call.apply(y,[this].concat(n))),"gateway",o.getSiteGateway()),u(l(t),"UI",g),u(l(t),"patterns",{ip:_.IPV4_ADDRESS,name:_.NAME}),t}return S=T,(b=[{key:"$onInit",value:function(){this.wanNetworkGroups=f.getPortForwardInterfaces(!0),this.initDestinationIps()}},{key:"initDestinationIps",value:function(){this.wanNetworks=m.repository.collection.filter(function(t){return"wan"===t.get("purpose")}).reduce(function(t,e){var n=(e.get("wan_ip_aliases")||[]).map(function(t){return t.substring(0,t.indexOf("/"))});n.length&&(t[e.get("wan_networkgroup").toLowerCase()]=[].concat(e.get("wan_ip")||[],n));return t},{})}},{key:"save",value:function(){var e=this;this.isSubmitting=!0;var o=angular.extend({},this.modelCopy.attributes,{destination_ip:this.modelCopy.attributes.destination_ip||"any",src:"limited"===this.srcType?this.limitedSrc:this.srcType,proto:this.protocol});return this.model.save(o,{wait:!0}).then(function(){return c.pushSuccess(t.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:t.instant("SETTINGS_ROUTING_TAB_PORT_FORWARD").toLowerCase()})),f.repository.collection.add(e.model,{merge:!0}),e.reset(),!0}).catch(function(e){return c.pushError(n.appendErrorMsg(t.instant("COMMON_NOTICE_SAVE_ERROR",{section:t.instant("SETTINGS_ROUTING_TAB_PORT_FORWARD").toLowerCase()}),e)),!1}).finally(function(){e.isSubmitting=!1})}},{key:"setDefaultAttrs",value:function(t){var e=t?"Master":"",n=t?"":"Copy";this["srcType"+e]=this.model&&this.model.get("src")&&"any"!==this.model.get("src")?"limited":"any",this["limitedSrc"+e]=this.model&&"any"!==this.model.get("src")?this.model.get("src"):"",this["protocol"+e]=(this.model?this.model.get("proto"):void 0)||"tcp_udp",this["model"+n]&&(this["model"+n].attributes.enabled=!this.model||!1!==this.model.get("enabled"),this["model"+n].attributes.pfwd_interface=(this.model?this.model.get("pfwd_interface"):void 0)||"wan",this["model"+n].attributes.destination_ip=(this.model?this.model.get("destination_ip"):void 0)||"any")}},{key:"updateMultipleDestinationPorts",value:function(){this.hasMultipleDestinationPorts=!(!this.modelCopy||!this.modelCopy.attributes.dst_port)&&this.isMultiplePortString(this.modelCopy.attributes.dst_port),this.modelCopy.attributes.fwd_port=this.modelCopy.attributes.dst_port}},{key:"showUpdateMultipleDestinationPortsPrompt",value:function(){return this.modelCopy&&this.modelCopy.attributes.fwd_port===this.modelCopy.attributes.dst_port||this.form.portForwardDstPort.$invalid}},{key:"isMultiplePortString",value:function(t){return!/^[0-9]*$/.test(t)}},{key:"onModelChange",value:function(){this.setDefaultAttrs(!0)}},{key:"reset",value:function(){r(p(T.prototype),"reset",this).call(this),this.setDefaultAttrs(!1)}},{key:"getDestinationIps",value:function(){var t,e=null===(t=this.modelCopy)||void 0===t?void 0:t.get("pfwd_interface");return this.wanNetworks[e]||[]}}])&&i(S.prototype,b),v&&i(S,v),T}())}])},{}],153:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiPortForwardForm",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiPortForwardForm",onSave:"&unifiPortForwardFormOnSave",onCancel:"&unifiPortForwardFormOnCancel",isReadOnly:"=unifiPortForwardFormIsReadOnly"},controller:"PortForwardFormController",controllerAs:"portForwardFormCtrl",template:t("./portForwardForm.pug")(),link:function(t,n,o,i){t.directiveId=t.$id,t.onSubmit=function(e){!0===e&&t.onSave()},e.init(t,n,o,i,!0)}}}])},{"./portForwardForm.pug":154}],154:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="portForwardFormCtrl.form" ng-class="{    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': portForwardFormCtrl.showValidation,    \'is-validation-hidden\': !portForwardFormCtrl.showValidation  }" ng-submit="portForwardFormCtrl.form.$valid &amp;&amp; portForwardFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="portForwardFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="portForwardFormCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="portForwardFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+o("translate",!0,!0,!0)+' translate-values="{ruleName: portForwardFormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_PORT_FORWARD_SECTION_VIEW\' : (portForwardFormCtrl.model.id ? \'SETTINGS_PORT_FORWARD_SECTION_EDIT\' : \'SETTINGS_PORT_FORWARD_SECTION_CREATE\')}}</div><div class="appRow verticalRhythmTop--cozy"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="portForwardName" ng-model="portForwardFormCtrl.modelCopy.attributes.name" ng-model-master="portForwardFormCtrl.model.attributes.name" ng-pattern="portForwardFormCtrl.patterns.name" ng-maxlength="portForwardFormCtrl.UI.MAX_NAME_LENGTH"'+o("required",!0,!0,!0)+o("autofocus",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_PORT_LABEL_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="portForwardingEnabled" id="portForwardingEnabled" ng-model="portForwardFormCtrl.modelCopy.attributes.enabled" ng-model-master="portForwardFormCtrl.model.attributes.enabled"><label for="portForwardingEnabled" translate="SETTINGS_PORT_FORWARD_ENABLE"></label></div></div></div><div class="appRow" ng-show="::portForwardFormCtrl.gateway.isUbios()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_NETWORK_LABEL_INTERFACE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="port in portForwardFormCtrl.wanNetworkGroups track by $index"><input type="radio" name="portForwardFormCtrlInterface" id="portForwardFormCtrl_{{port.value}}" ng-model="portForwardFormCtrl.modelCopy.attributes.pfwd_interface" ng-model-master="portForwardFormCtrl.model.attributes.pfwd_interface" ng-required="::portForwardFormCtrl.gateway.isUbios()" value="{{port.value}}"><label for="portForwardFormCtrl_{{port.value}}">{{port.label}}</label></div></div></div></div><div class="appRow" ng-show="portForwardFormCtrl.setVisibility(\'destinationIp\', portForwardFormCtrl.gateway.isUbios() &amp;&amp; portForwardFormCtrl.getDestinationIps().length)"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_DESTINATION_IP"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><select class="select--half" name="portForwardDestinationIp" ng-model="portForwardFormCtrl.modelCopy.attributes.destination_ip" ng-model-master="portForwardFormCtrl.model.attributes.destination_ip" ng-required="portForwardFormCtrl.getVisibility(\'destinationIp\')"><option value="any" translate="SETTINGS_PORT_FORWARD_OPTION_DESTINATION_IP_ANY"></option><option ng-repeat="opt in portForwardFormCtrl.getDestinationIps() track by $index" ng-value="opt">{{opt}}</option></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_FROM"></label></div><div class="col--sm7 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="portForwardSrc" id="portForwardSrcAny" value="any" ng-model="portForwardFormCtrl.srcType" ng-model-master="portForwardFormCtrl.srcTypeMaster"><label for="portForwardSrcAny" translate="DEVICE_PROPERTIES_VALUES_ANYWHERE"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="portForwardSrc" id="portForwardSrcLimited" value="limited" ng-model="portForwardFormCtrl.srcType" ng-model-master="portForwardFormCtrl.srcTypeMaster"><label for="portForwardSrcLimited" translate="DEVICE_PROPERTIES_VALUES_LIMITED"></label><input type="text" name="portForwardSrcLimited" ng-model="portForwardFormCtrl.limitedSrc" ng-model-master="portForwardFormCtrl.limitedSrcMaster" ng-disabled="portForwardFormCtrl.srcType !== \'limited\'" ng-required="portForwardFormCtrl.srcType === \'limited\'"'+o("unifi-validate-ip-range",!0,!0,!0)+'></div><div class="appInputFeedback appInputFeedback--danger" ng-if="portForwardFormCtrl.form.portForwardSrcLimited.$invalid" translate="VALIDATION_HINT_IP_RANGE"></div></div></div></div><div class="appRow"><div class="col--sm3 col--xs12"><label class="appLabel appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_PORT"></label></div><div class="col--sm9 col--xs12 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input class="input--half" type="text" name="portForwardDstPort" ng-model="portForwardFormCtrl.modelCopy.attributes.dst_port" ng-model-master="portForwardFormCtrl.model.attributes.dst_port"'+o("required",!0,!0,!0)+o("unifi-validate-port-range",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-if="portForwardFormCtrl.form.portForwardDstPort.$invalid" translate="VALIDATION_HINT_PORT_RANGE"></div><unifi-tooltip class="ubntTooltip--small"><content><span>1000,1002-1004,...</span></content></unifi-tooltip><button class="appMainButton appMainButton--secondary appMainButton--cozy updateForwardPort" type="button" ng-click="portForwardFormCtrl.updateMultipleDestinationPorts()" ng-show="!portForwardFormCtrl.showUpdateMultipleDestinationPortsPrompt()" translate="SETTINGS_NETWORK_BUTTON_UPDATE_FORWARD_PORTS"></button></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_FORWARD_IP"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input class="input--half" type="text" name="portForwardFwdIp" ng-model="portForwardFormCtrl.modelCopy.attributes.fwd" ng-model-master="portForwardFormCtrl.model.attributes.fwd" ng-pattern="portForwardFormCtrl.patterns.ip"'+o("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_FORWARD_PORT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input class="input--half" type="text" name="portForwardFwdPort" ng-model="portForwardFormCtrl.modelCopy.attributes.fwd_port" ng-model-master="portForwardFormCtrl.model.attributes.fwd_port" ng-disabled="portForwardFormCtrl.hasMultipleDestinationPorts"'+o("required",!0,!0,!0)+o("unifi-validate-port-range",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-if="portForwardFormCtrl.form.portForwardFwdPort.$invalid" translate="VALIDATION_HINT_PORT_RANGE"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_PROTOCOL"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="portForwardProtocol" id="portForwardProtocolBoth" value="tcp_udp" ng-model="portForwardFormCtrl.protocol" ng-model-master="portForwardFormCtrl.protocolMaster"><label for="portForwardProtocolBoth" translate="DEVICE_PROPERTIES_VALUES_BOTH"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="portForwardProtocol" id="portForwardProtocolTcp" value="tcp" ng-model="portForwardFormCtrl.protocol" ng-model-master="portForwardFormCtrl.protocolMaster"><label for="portForwardProtocolTcp" translate="DEVICE_PROPERTIES_VALUES_TCP"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="portForwardProtocol" id="portForwardProtocolUdp" value="udp" ng-model="portForwardFormCtrl.protocol" ng-model-master="portForwardFormCtrl.protocolMaster"><label for="portForwardProtocolUdp" translate="DEVICE_PROPERTIES_VALUES_UDP"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_LOG"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="portForwardLog" id="portForwardLog" ng-model="portForwardFormCtrl.modelCopy.attributes.log" ng-model-master="portForwardFormCtrl.model.attributes.log"><label for="portForwardLog" translate="DEVICE_PROPERTIES_VALUES_LOG"></label></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success savePortForward" ng-if="!isReadOnly" ng-click="portForwardFormCtrl.showValidation = true" busy-toggle="portForwardFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--transparent cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button></div></div></form>'};var i=/["&<>]/},{"pug-runtime":2}],155:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return l(t)}(this,n)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("PortProfileFormController",["$translate","heyToasts","BaseFormController","networks","networkUtils","portFeatureUtils","preferences","switches","CAST_RATES","EGRESS_RATE_LIMITS","PORT_PROFILE_DEFAULTS","UI",function(t,e,n,o,c,d,m,f,_,g,S,b){return new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(C,n);var v,y,T,E=s(C);function C(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,C);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return u(l(t=E.call.apply(E,[this].concat(n))),"preferences",m),u(l(t),"switches",f),u(l(t),"CAST_RATES",_),u(l(t),"EGRESS_RATE_LIMITS",g),u(l(t),"UI",b),u(l(t),"poeOptions",[{value:"off",translationKey:"DEVICE_PROPERTIES_VALUES_OFF"},{value:"pasv24",translationKey:"DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_PASSIVE"},{value:"auto",translationKey:"DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_AUTO"},{value:"passthrough",translationKey:"DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_PASSTHROUGH"}]),u(l(t),"isNetworksVlansExpanded",!0),t}return v=C,(y=[{key:"$onInit",value:function(){this.setSpeedAvailability()}},{key:"addEventHandlers",value:function(){r(p(C.prototype),"addEventHandlers",this).call(this),this.collectionListeners={networks:o.repository.collection.onEvent("add remove change reset",this.onNetworksChange.bind(this))},this.onNetworksChange()}},{key:"removeEventHandlers",value:function(){var t=this;r(p(C.prototype),"removeEventHandlers",this).call(this),this.collectionListeners&&Object.keys(this.collectionListeners).forEach(function(e){t.collectionListeners[e].stopListening()})}},{key:"save",value:function(){var t=this;return this.isSubmitting=!0,f.savePortProfile(this.model,this.getAttrsToSave(),{wait:!0}).then(function(t){return e.pushSuccess(t),!0}).catch(function(t){return e.pushError(t),!1}).finally(function(){t.isSubmitting=!1})}},{key:"getAttrsToSave",value:function(){var t=angular.extend({},this.modelCopy.attributes);return delete t.portSpeed,this.getVisibility("poe-mode")||delete t.poe_mode,t.native_networkconf_id=t.native_networkconf_id||"",t.voice_networkconf_id=t.voice_networkconf_id||"",angular.extend(t,this.getNetworkAttrsToSave()),t.autoneg&&(delete t.full_duplex,delete t.speed),this.getVisibility("dot1x_idle_timeout")||delete t.dot1x_idle_timeout,t.stormctrl_ucast_enabled||delete t.stormctrl_ucast_rate,t.stormctrl_mcast_enabled||delete t.stormctrl_mcast_rate,t.stormctrl_bcast_enabled||delete t.stormctrl_bcast_rate,t.lldpmed_enabled||delete t.lldpmed_notify_enabled,t.egress_rate_limit_kbps_enabled||delete t.egress_rate_limit_kbps,t}},{key:"getNetworkAttrsToSave",value:function(){var t=[];return angular.forEach(this.taggedNetworksCopy,function(e,n){e.checked&&t.push(n)}),{forward:this.modelCopy.attributes.native_networkconf_id&&!t.length?"native":"customize",tagged_networkconf_ids:t}}},{key:"setDefaultAttrs",value:function(t){var e,n=t?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+n]){var i={poe_mode:(this.model?this.model.get("poe_mode"):void 0)||S.poe_mode,dot1x_ctrl:(this.model?this.model.get("dot1x_ctrl"):void 0)||S.dot1x_ctrl,dot1x_idle_timeout:(this.model?this.model.get("dot1x_idle_timeout"):void 0)||S.dot1x_idle_timeout,native_networkconf_id:(this.model?this.model.get("native_networkconf_id"):void 0)||void 0,voice_networkconf_id:(this.model?this.model.get("voice_networkconf_id"):void 0)||void 0,autoneg:this.model&&this.model.has("autoneg")?this.model.get("autoneg"):S.autoneg,full_duplex:this.model&&this.model.has("full_duplex")?this.model.get("full_duplex"):S.full_duplex,speed:this.model&&this.model.has("speed")?this.model.get("speed"):S.speed,lldpmed_enabled:this.model&&this.model.has("lldpmed_enabled")?this.model.get("lldpmed_enabled"):S.lldpmed_enabled,stp_port_mode:this.model&&this.model.has("stp_port_mode")?this.model.get("stp_port_mode"):S.stp_port_mode,egress_rate_limit_kbps_enabled:this.model&&this.model.has("egress_rate_limit_kbps_enabled")?this.model.get("egress_rate_limit_kbps_enabled"):S.egress_rate_limit_kbps_enabled};(!this.model.id&&!this["model"+n].native_networkconf_id||this.model.id&&"All"===this.model.get("attr_hidden_id"))&&(i.native_networkconf_id=(o.repository.collection.findWhere({attr_no_delete:!0,attr_hidden_id:"LAN"})||{}).id),this.model.id&&"All"===this.model.get("attr_hidden_id")&&(e=this.nativeNetworks.map(function(t){return"LAN"!==t.get("attr_hidden_id")?t.id:void 0})),i.portSpeed=this.speedOptions.findIndex(function(t){return!1===i.autoneg?i.speed===t.speed&&i.full_duplex===t.full_duplex:i.autoneg===t.autoneg}),angular.extend(t?this.masterWithDefaults:this.modelCopy.attributes,i)}this["taggedNetworks"+n]=this.getTaggedNetworks(e)}},{key:"setSpeedAvailability",value:function(){this.speedOptions=d.getAllSpeeds()}},{key:"onPortSpeedChange",value:function(){var t=this.modelCopy.attributes,e=this.speedOptions[t.portSpeed];t.autoneg=e.autoneg,t.full_duplex=e.full_duplex,t.speed=e.speed}},{key:"getSpeedCaps",value:function(t){return(this.speedOptions[t]||{}).speedAsCapName}},{key:"setAdvancedExpanded",value:function(){this.model&&(this.model.get("dot1x_ctrl")&&"force_authorized"!==this.model.get("dot1x_ctrl")||!1===this.model.get("autoneg")||this.model.get("isolation")||this.model.get("stormctrl_ucast_enabled")||this.model.get("stormctrl_mcast_enabled")||this.model.get("stormctrl_bcast_enabled")||!1===this.model.get("lldpmed_enabled")||![void 0,S.stp_port_mode].includes(this.model.get("stp_port_mode"))||this.model.get("egress_rate_limit_kbps_enabled"))&&(this.isAdvancedExpanded=!0)}},{key:"setSelectAllTaggedNetworks",value:function(){var t=this;if(this.nativeNetworks){var e=0,n=0;this.nativeNetworks.forEach(function(o){o.id!==t.modelCopy.attributes.native_networkconf_id&&(t.taggedNetworksCopy[o.id]&&t.taggedNetworksCopy[o.id].checked?e++:n++)}),e&&!n?(this.selectAllTaggedNetworks=!0,this.isSelectAllTaggedNetworksIndeterminate=!1):(this.selectAllTaggedNetworks=!1,this.isSelectAllTaggedNetworksIndeterminate=!!e)}}},{key:"toggleSelectAllTaggedNetworks",value:function(t,e){var n=this;this.selectAllTaggedNetworks=angular.isUndefined(t)?!this.selectAllTaggedNetworks:t,e||angular.forEach(this.nativeNetworks,function(t){n.taggedNetworksCopy[t.id]=n.taggedNetworksCopy[t.id]||{name:t.get("name")},n.taggedNetworksCopy[t.id].checked=n.selectAllTaggedNetworks&&t.id!==n.modelCopy.attributes.native_networkconf_id})}},{key:"getTaggedNetworks",value:function(t){var e={},n=t||(this.model?this.model.get("tagged_networkconf_ids"):void 0)||[];return angular.forEach(this.nativeNetworks,function(t){e[t.id]={name:t.get("name"),checked:-1!==n.indexOf(t.id)}}),this.modelCopy&&this.modelCopy.attributes.native_networkconf_id&&e[this.modelCopy.attributes.native_networkconf_id]&&(e[this.modelCopy.attributes.native_networkconf_id].checked=!1),e}},{key:"onNativeNetworkChange",value:function(){if(this.modelCopy&&this.modelCopy.attributes.native_networkconf_id){var t=this.taggedNetworksCopy&&this.taggedNetworksCopy[this.modelCopy.attributes.native_networkconf_id];t&&(t.checked=!1)}}},{key:"onNetworksChange",value:function(){this.nativeNetworks=o.repository.collection.filter(function(t){return-1!==c.nativeNetworkTypes.indexOf(t.get("purpose"))})}},{key:"onModelChange",value:function(){this.setDefaultAttrs(!0),this.setAdvancedExpanded()}},{key:"reset",value:function(){r(p(C.prototype),"reset",this).call(this),this.setDefaultAttrs(!1)}}])&&i(v.prototype,y),T&&i(v,T),C}())}])},{}],156:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiPortProfileForm",["SimpleFormDirective",function(e){var n=new e("portProfile",t("./portProfileForm.pug")());return n.addMixin({init:function(t,e,n,o){t.$watch(function(){return o.nativeNetworks},function(){o.setSelectAllTaggedNetworks()}),t.$watch(function(){return o.taggedNetworksCopy},function(){o.setSelectAllTaggedNetworks()},!0)}}),n}])},{"./portProfileForm.pug":157}],157:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="portProfileFormCtrl.form" ng-class="{    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': portProfileFormCtrl.showValidation,    \'is-validation-hidden\': !portProfileFormCtrl.showValidation  }" ng-submit="portProfileFormCtrl.form.$valid &amp;&amp; portProfileFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="portProfileFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="portProfileFormCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="portProfileFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+o("translate",!0,!0,!0)+' translate-values="{profileName: portProfileFormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_PROFILES_PORT_SECTION_VIEW\' : (portProfileFormCtrl.model.id ? \'SETTINGS_PROFILES_PORT_SECTION_EDIT\' : \'SETTINGS_PROFILES_PORT_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="portProfileName" ng-model="portProfileFormCtrl.modelCopy.attributes.name" ng-model-master="portProfileFormCtrl.model.attributes.name" unifi-validate-duplicate-in-collection="portProfileFormCtrl.switches.repository.collection" unifi-validate-duplicate-in-collection-param="\'name\'" ng-maxlength="portProfileFormCtrl.UI.MAX_NAME_LENGTH"'+o("required",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger invalidPortProfileName" ng-if="portProfileFormCtrl.form.portProfileName.$error.alreadyInCollection" translate="VALIDATION_HINT_UNIQUE"></div></div></div><div class="appRow" ng-show="portProfileFormCtrl.setVisibility(\'poe-mode\', portProfileFormCtrl.poeOptions.length)"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_POE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="option in portProfileFormCtrl.poeOptions"><input type="radio" name="poeMode" id="portProfilePoeMode{{option.value}}" ng-model="portProfileFormCtrl.modelCopy.attributes.poe_mode" ng-model-master="portProfileFormCtrl.masterWithDefaults.poe_mode" ng-value="option.value"'+o("unifi-fix-check-undefined",!0,!0,!0)+'><label for="portProfilePoeMode{{option.value}}" translate="{{option.translationKey}}"></label></div></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="portProfileFormCtrl.isNetworksVlansExpanded = !portProfileFormCtrl.isNetworksVlansExpanded" ng-class="portProfileFormCtrl.isNetworksVlansExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_PROFILES_PORT_SECTION_NETWORKS_VLANS"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="portProfileFormCtrl.isNetworksVlansExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_NATIVE_NETWORK"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="networkVlanNativeNetwork" ng-model="portProfileFormCtrl.modelCopy.attributes.native_networkconf_id" ng-model-master="portProfileFormCtrl.masterWithDefaults.native_networkconf_id" ng-change="portProfileFormCtrl.onNativeNetworkChange()" ng-options="network.id as network | networkVlan for network in portProfileFormCtrl.nativeNetworks"><option value="" translate="SETTINGS_PROFILES_PORT_VALUES_NONE"></option></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_PROFILES_PORT_LABEL_TAGGED_NETWORKS"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><ol class="list list--inline appInputList"><li class="appInputGroup networkVlanTaggedNetwork" ng-if="portProfileFormCtrl.nativeNetworks &amp;&amp; portProfileFormCtrl.nativeNetworks.length"><input type="checkbox" id="portProfileTaggedNetworksSelectAll" ng-checked="portProfileFormCtrl.selectAllTaggedNetworks" ng-click="portProfileFormCtrl.toggleSelectAllTaggedNetworks()" unifi-indeterminate-checkbox="portProfileFormCtrl.isSelectAllTaggedNetworksIndeterminate"><label for="portProfileTaggedNetworksSelectAll" translate="COMMON_VALUE_SELECT_ALL"></label></li><li class="appInputGroup networkVlanTaggedNetwork" ng-repeat="network in portProfileFormCtrl.nativeNetworks"><input type="checkbox" id="portProfileTaggedNetwork{{::network.id}}" ng-model="portProfileFormCtrl.taggedNetworksCopy[network.id].checked" ng-model-master="portProfileFormCtrl.taggedNetworks[network.id].checked" ng-disabled="network.id === portProfileFormCtrl.modelCopy.attributes.native_networkconf_id"><label for="portProfileTaggedNetwork{{::network.id}}">{{network | networkVlan}}</label></li></ol></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_VOICE_NETWORK"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="networkVlanVoiceNetwork" ng-model="portProfileFormCtrl.modelCopy.attributes.voice_networkconf_id" ng-model-master="portProfileFormCtrl.masterWithDefaults.voice_networkconf_id" ng-options="network.id as network | networkVlan for network in portProfileFormCtrl.nativeNetworks"><option value="" translate="SETTINGS_PROFILES_PORT_VALUES_NONE"></option></select></div></div></fieldset></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="portProfileFormCtrl.isAdvancedExpanded = !portProfileFormCtrl.isAdvancedExpanded" ng-class="portProfileFormCtrl.isAdvancedExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="COMMON_SECTION_ADVANCED_OPTIONS"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="portProfileFormCtrl.isAdvancedExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_PROFILES_PORT_LABEL_8021X_CONTROL"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-notify-firmware-requirement class="mb-2" ng-if="portProfileFormCtrl.modelCopy.attributes.dot1x_ctrl !== \'auto\'" unifi-notify-firmware-requirement-switch-caps="[\'SWITCH_CAP_DOT1X\']" unifi-notify-firmware-requirement-hide-upgrade-message="true"></unifi-notify-firmware-requirement><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dot1xCtrl" id="portProfile8021xCtrlAuto" value="auto" ng-model="portProfileFormCtrl.modelCopy.attributes.dot1x_ctrl" ng-model-master="portProfileFormCtrl.masterWithDefaults.dot1x_ctrl"><label for="portProfile8021xCtrlAuto" translate="SETTINGS_PROFILES_PORT_VALUES_8021X_CONTROL_AUTO"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dot1xCtrl" id="portProfile8021xCtrlForceAuthorized" value="force_authorized" ng-model="portProfileFormCtrl.modelCopy.attributes.dot1x_ctrl" ng-model-master="portProfileFormCtrl.model.attributes.dot1x_ctrl"><label for="portProfile8021xCtrlForceAuthorized" translate="SETTINGS_PROFILES_PORT_VALUES_8021X_CONTROL_FORCE_AUTHORIZED"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dot1xCtrl" id="portProfile8021xCtrlForceUnauthorized" value="force_unauthorized" ng-model="portProfileFormCtrl.modelCopy.attributes.dot1x_ctrl" ng-model-master="portProfileFormCtrl.model.attributes.dot1x_ctrl"><label for="portProfile8021xCtrlForceUnauthorized" translate="SETTINGS_PROFILES_PORT_VALUES_8021X_CONTROL_FORCE_UNAUTHORIZED"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dot1xCtrl" id="portProfile8021xCtrlMacBased" value="mac_based" ng-model="portProfileFormCtrl.modelCopy.attributes.dot1x_ctrl" ng-model-master="portProfileFormCtrl.model.attributes.dot1x_ctrl"><label for="portProfile8021xCtrlMacBased" translate="SETTINGS_PROFILES_PORT_VALUES_8021X_CONTROL_MAC_BASED"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dot1xCtrl" id="portProfile8021xCtrlMultiHost" value="multi_host" ng-model="portProfileFormCtrl.modelCopy.attributes.dot1x_ctrl" ng-model-master="portProfileFormCtrl.model.attributes.dot1x_ctrl"><label for="portProfile8021xCtrlMultiHost" translate="SETTINGS_PROFILES_PORT_VALUES_8021X_CONTROL_MULTI_HOST"></label></div></div></div></div><div class="appRow" ng-show="portProfileFormCtrl.setVisibility(\'dot1x_idle_timeout\', portProfileFormCtrl.modelCopy.attributes.dot1x_ctrl == \'mac_based\')"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_IDLE_TIMEOUT"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="number" id="dot1xIdleTimeout" name="dot1xIdleTimeout" ng-model="portProfileFormCtrl.modelCopy.attributes.dot1x_idle_timeout" ng-model-master="portProfileFormCtrl.masterWithDefaults.dot1x_idle_timeout" ng-required="portProfileFormCtrl.getVisibility(\'dot1x_idle_timeout\')" min="10" max="3600"><label class="appLabel--boxInline" for="dot1xIdleTimeout" translate="DATETIME_SECONDS_ABBR"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_LINK_SPEED"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-notify-firmware-requirement class="mb-2" unifi-notify-firmware-requirement-speed-caps="[portProfileFormCtrl.getSpeedCaps(portProfileFormCtrl.modelCopy.attributes.portSpeed)]" unifi-notify-firmware-requirement-hide-upgrade-message="true"></unifi-notify-firmware-requirement><div class="appInputGroup appInputGroup--cozy"><select class="select--full" name="linkPortSpeed" ng-model="portProfileFormCtrl.modelCopy.attributes.portSpeed" ng-model-master="portProfileFormCtrl.model.attributes.portSpeed" ng-options="                  idx * 1 as speed.translationKey | translate:{speed: (speed.speed * 1e6 | bps:{isSi:true} ) }                  for (idx, speed)                  in portProfileFormCtrl.speedOptions                " ng-change="portProfileFormCtrl.onPortSpeedChange()"></select></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_ISOLATION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-notify-firmware-requirement class="mb-2" ng-if="portProfileFormCtrl.modelCopy.attributes.isolation" unifi-notify-firmware-requirement-switch-caps="[\'SWITCH_CAP_PORT_ISOLATION\']" unifi-notify-firmware-requirement-hide-upgrade-message="true"></unifi-notify-firmware-requirement><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="enableIsolation" id="portProfileIsolation" ng-model="portProfileFormCtrl.modelCopy.attributes.isolation" ng-model-master="portProfileFormCtrl.model.attributes.isolation"><label for="portProfileIsolation" translate="SETTINGS_PROFILES_PORT_VALUES_ENABLE_ISOLATION"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_STORM_CONTROL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy" ng-repeat="type in [\'ucast\', \'mcast\', \'bcast\']"><input type="checkbox" name="enableStormControl{{type}}" id="portProfileStormControl{{type}}" ng-model="portProfileFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\']" ng-model-master="portProfileFormCtrl.model.attributes[\'stormctrl_\' + type + \'_enabled\']"><label for="portProfileStormControl{{type}}" translate="{{\'SETTINGS_PROFILES_PORT_VALUES_\' + type | toTranslationKey}}"></label><input type="number" name="stormControl{{type}}Rate" ng-model="portProfileFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_rate\']" ng-model-master="portProfileFormCtrl.model.attributes[\'stormctrl_\' + type + \'_rate\']" ng-disabled="!portProfileFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\']" ng-required="portProfileFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\']" min="{{portProfileFormCtrl.CAST_RATES.MIN}}" max="{{portProfileFormCtrl.CAST_RATES.MAX}}"><label ng-class="{\'is-label-disabled\': !portProfileFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\']}">pkts/s</label><div class="appInputFeedback appInputFeedback--danger invalidStormControlRate" ng-if="portProfileFormCtrl.form[\'stormControl\' + type + \'Rate\'].$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: portProfileFormCtrl.CAST_RATES.MIN, max: \'{{portProfileFormCtrl.CAST_RATES.MAX | numberToString}}\'}"></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary mt-2" translate="SETTINGS_PROFILES_PORT_LABEL_STP"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-notify-firmware-requirement class="mb-2" ng-if="portProfileFormCtrl.modelCopy.attributes.stp_port_mode" unifi-notify-firmware-requirement-switch-caps="[\'SWITCH_CAP_STP\']" unifi-notify-firmware-requirement-hide-upgrade-message="true"></unifi-notify-firmware-requirement><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="enableStp" id="portProfileEnableStp" ng-model="portProfileFormCtrl.modelCopy.attributes.stp_port_mode" ng-model-master="portProfileFormCtrl.masterWithDefaults.stp_port_mode"><label for="portProfileEnableStp" translate="SETTINGS_PROFILES_PORT_VALUES_ENABLE_STP"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_PROFILES_PORT_LABEL_LLDP_MED"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-notify-firmware-requirement class="mb-2" ng-if="portProfileFormCtrl.modelCopy.attributes.lldpmed_enabled" unifi-notify-firmware-requirement-switch-caps="[\'SWITCH_CAP_LLDP_MED\']" unifi-notify-firmware-requirement-hide-upgrade-message="true"></unifi-notify-firmware-requirement><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="enableLldpMed" id="portProfileEnableLldpMed" ng-model="portProfileFormCtrl.modelCopy.attributes.lldpmed_enabled" ng-model-master="portProfileFormCtrl.masterWithDefaults.lldpmed_enabled" ng-required="!!portProfileFormCtrl.modelCopy.attributes.voice_networkconf_id"><label for="portProfileEnableLldpMed" translate="SETTINGS_PROFILES_PORT_VALUES_ENABLE_LLDP_MED"></label><div class="appInputFeedback appInputFeedback--danger invalidLldpMedRequired" ng-show="portProfileFormCtrl.form.enableLldpMed.$error.required" translate="SETTINGS_PROFILES_PORT_VALIDATION_HINT_LLDP_MED_REQUIRED"></div></div><div class="appInputGroup appInputGroup--cozy" ng-show="portProfileFormCtrl.modelCopy.attributes.lldpmed_enabled"><input type="checkbox" name="enableLldpMedNotify" id="portProfileEnableLldpMedNotify" ng-model="portProfileFormCtrl.modelCopy.attributes.lldpmed_notify_enabled" ng-model-master="portProfileFormCtrl.model.attributes.lldpmed_notify_enabled"><label for="portProfileEnableLldpMedNotify" translate="SETTINGS_PROFILES_PORT_VALUES_ENABLE_LLDP_MED_NOTIFY"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_PROFILES_PORT_LABEL_RATE_LIMIT"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-notify-firmware-requirement class="mb-2" ng-if="portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled" unifi-notify-firmware-requirement-switch-caps="[\'SWITCH_CAP_EGRESS_RATE_LIMIT\']" unifi-notify-firmware-requirement-hide-upgrade-message="true"></unifi-notify-firmware-requirement><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="enableRateLimit" id="portProfileEnableRateLimit" ng-model="portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled" ng-model-master="portProfileFormCtrl.masterWithDefaults.egress_rate_limit_kbps_enabled"><label for="portProfileEnableRateLimit" translate="SETTINGS_PROFILES_PORT_VALUES_ENABLE_RATE_LIMIT"></label><unifi-binary-input unifi-binary-input-suffix="\'bps\'" unifi-binary-input-base-prefix="\'K\'" unifi-binary-input-allowed-prefixes="[\'K\', \'M\']" unifi-binary-input-standard="\'SI\'" unifi-binary-input-min="portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled ? portProfileFormCtrl.EGRESS_RATE_LIMITS.MIN : \'\'" unifi-binary-input-max="portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled ? portProfileFormCtrl.EGRESS_RATE_LIMITS.MAX : \'\'" name="rateLimitValue" ng-model="portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps" ng-disabled="!portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled" ng-required="portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled"></unifi-binary-input><div class="appInputFeedback appInputFeedback--danger invalidRateLimit" ng-if="portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled &amp;&amp; portProfileFormCtrl.form.rateLimitValue.$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: \'{{portProfileFormCtrl.form.rateLimitValue.rateLimitValue.$$attr.min | numberToString: undefined : 3}}\', max: \'{{portProfileFormCtrl.form.rateLimitValue.rateLimitValue.$$attr.max | numberToString: undefined : 3}}\'}"></div></div></div></div></fieldset></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success savePortProfile" ng-if="!isReadOnly" ng-click="portProfileFormCtrl.showValidation = true" busy-toggle="portProfileFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--transparent cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button></div></div></form>'};var i=/["&<>]/},{"pug-runtime":2}],158:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("PortProfileListController",["$translate","BaseListController","frame","heyToasts","networks","networkUtils","switches","switchUtils",function(t,e,n,o,l,u,c,d){return new(function(l){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(S,e);var m,f,_,g=a(S);function S(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,S);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return p(s(t=g.call.apply(g,[this].concat(n))),"switchUtils",d),p(s(t),"networkUtils",u),p(s(t),"defaultSortBy","name"),p(s(t),"isRemoving",{}),t}return m=S,(f=[{key:"getCollection",value:function(){return c.repository.collection}},{key:"remove",value:function(e){var i=this;return n.show("confirm",{title:function(){return t.instant("SETTINGS_PROFILES_PORT_DELETE_CONFIRM_TITLE",{name:e.get("name")})},message:function(){return t.instant("SETTINGS_PROFILES_PORT_DELETE_CONFIRM_MESSAGE",{name:e.get("name")})},options:angular.noop}).then(function(){return i.isRemoving[e.id]=!0,c.removePortProfile(e,{wait:!0}).then(function(t){return o.pushSuccess(t),!0}).catch(function(t){return o.pushError(t),i.isRemoving[e.id]=!1,!1})})}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}}])&&i(m.prototype,f),_&&i(m,_),S}())}])},{}],159:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiPortProfileList",["ListDirective",function(e){return new e("portProfile",t("./portProfileList.pug")(),{onEdit:"&unifiPortProfileListOnEdit"})}])},{"./portProfileList.pug":160}],160:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div><table class="verticalRhythmTop--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="portProfilesTable" collection-view-sort="portProfileListCtrl.view"><thead><tr><th class="portProfileName" collection-view-sort-by="name"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_NAME"></span></th><th class="portProfilePoe" collection-view-sort-by="poe_mode"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_POE"></span></th><th class="portProfileNativeNetwork" collection-view-sort-by="native_networkconf_id"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_NATIVE_NETWORK"></span></th><th class="portProfileLinkNegotiation" collection-view-sort-by="autoneg"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_LINK_NEGOTIATION"></span></th><th class="portProfileIsolation" collection-view-sort-by="isolation"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_ISOLATION"></span></th><th class="portProfileStormControl"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_STORM_CONTROL"></span></th><th class="portProfileSpanningTreeProtocol" collection-view-sort-by="stp_port_mode"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_STP"></span></th><th class="portProfileActions" colspan="2"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in portProfileListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="portProfileName wrappable">{{::model.get(\'name\')}}</td><td class="portProfilePoe">{{::portProfileListCtrl.switchUtils.getPortPoeModeText(model, true)}}</td><td class="portProfileNativeNetwork">{{::portProfileListCtrl.networkUtils.getNetworkName(model.get(\'native_networkconf_id\'))}}</td><td class="portProfileLinkNegotiation" ng-switch="::model.get(\'autoneg\')"><span ng-switch-when="true">{{\'DEVICE_PROPERTIES_SWITCH_PORT_VALUES_AUTO\' | translate}}</span><span ng-switch-when="false">{{::model | duplex}}</span></td><td class="portProfileIsolation" ng-bind-html="model.get(\'isolation\') | enabledIcon"></td><td class="portProfileStormControl" ng-bind-html="model.get(\'stormctrl_ucast_enabled\') || model.get(\'stormctrl_mcast_enabled\') || model.get(\'stormctrl_bcast_enabled\') | enabledIcon"></td><td class="portProfileSpanningTreeProtocol" ng-bind-html="model.get(\'stp_port_mode\') | enabledIcon"></td><td class="portProfileActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed noHorizontalMargin"'+o("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="!model.get(\'attr_no_edit\')" ng-click="portProfileListCtrl.edit(model)" ng-disabled="portProfileListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed noHorizontalMargin" unifi-if-role-admin="false" unifi-if-role-admin-or="model.get(\'attr_no_edit\')" ng-click="portProfileListCtrl.edit(model)" ng-disabled="portProfileListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button></td><td class="portProfileActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed noHorizontalMargin"'+o("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="!model.get(\'attr_no_delete\')" ng-click="portProfileListCtrl.remove(model)" ng-disabled="portProfileListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!portProfileListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_PROFILES_PORT_TABLE_EMPTY"></p></div></div></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],161:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return a(t)}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("PortProfilesController",["switches","BaseListAndFormController","missingModelControllerMixin",function(t,e,n){return new(function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(l,e);var s=r(l);function l(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=s.call(this)).collection=t.repository.collection,n(a(e)),e}return l}())}])},{}],162:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiPortProfiles",{controller:"PortProfilesController",controllerAs:"portProfilesCtrl",template:t("./portProfiles.pug")()})},{"./portProfiles.pug":163}],163:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="portProfilesSettings"><unifi-settings-sub-menu-profiles></unifi-settings-sub-menu-profiles><div ng-if="portProfilesCtrl.view === \'form\'" unifi-port-profile-form="portProfilesCtrl.model" unifi-port-profile-form-on-save="portProfilesCtrl.list()" unifi-port-profile-form-on-cancel="portProfilesCtrl.list()" unifi-port-profile-form-is-read-only="!portProfilesCtrl.isAdmin() || portProfilesCtrl.model.get(\'attr_no_edit\')"></div><div ng-if="portProfilesCtrl.view === \'list\'"><unifi-port-profile-list unifi-port-profile-list-on-edit="portProfilesCtrl.edit(model)"></unifi-port-profile-list><div class="unifiSettingsFooter"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="portProfilesCtrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_PROFILES_PORT_ACTIONS_BUTTON_ADD"></span></button></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],164:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return a(t)}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("RadiusProfilesController",["radius","BaseListAndFormController","missingModelControllerMixin",function(t,e,n){return new(function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(l,e);var s=r(l);function l(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=s.call(this)).collection=t.repository.collection,n(a(e)),e}return l}())}])},{}],165:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiRadiusProfiles",{controller:"RadiusProfilesController",controllerAs:"radiusProfilesCtrl",template:t("./radiusProfiles.pug")()})},{"./radiusProfiles.pug":166}],166:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="radiusProfilesSettings"><unifi-settings-sub-menu-profiles></unifi-settings-sub-menu-profiles><div ng-if="radiusProfilesCtrl.view === \'form\'" unifi-radius-profile-form="radiusProfilesCtrl.model" unifi-radius-profile-form-on-save="radiusProfilesCtrl.list()" unifi-radius-profile-form-on-cancel="radiusProfilesCtrl.list()" unifi-radius-profile-form-is-read-only="!radiusProfilesCtrl.isAdmin()"></div><div ng-if="radiusProfilesCtrl.view === \'list\'"><unifi-radius-profile-list unifi-radius-profile-list-on-edit="radiusProfilesCtrl.edit(model)"></unifi-radius-profile-list><div class="unifiSettingsFooter"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton" ng-click="radiusProfilesCtrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="PROFILES_RADIUS_ACTIONS_BUTTON_ADD"></span></button></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],167:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("RadiusServerController",["account","BaseSettingsController","devices","gatewayUtils","networks","radiusUtils","siteUtils","RADIUS_DEFAULTS","RADIUS_LIMITS","REGEX_PATTERNS",function(t,e,n,o,s,l,p,u,c,d){return new(function(p){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(S,e);var m,f,_,g=a(S);function S(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,S),(e=g.call(this)).settingsSection="radius",e.settingsSectionTranslationKey="SETTINGS_SERVICES_TAB_RADIUS",e.settingsSectionTranslationKeys={radius:"SETTINGS_SERVICES_TAB_RADIUS"},e.isSuperAdmin=t.isSuperAdmin.bind(t),e.hasSiteGateway=o.hasSiteGateway.bind(o),e.defaultInterimUpdate=u.INTERIM_UPDATE,e.interimUpdateIntervalMin=c.INTERIM_UPDATE_INTERVAL_MIN,e.interimUpdateIntervalMax=c.INTERIM_UPDATE_INTERVAL_MAX,e.patterns={ipAddress:d.IPV4_ADDRESS,portNumber:d.PORT_NUMBER,secret:d.RADIUS_SECRET},e}return m=S,(f=[{key:"isDeviceOrNetworkUseDefaultProfile",value:function(){var t=l.getDefaultProfile();if(t){var e=!!s.repository.collection.findWhere({radiusprofile_id:t.id}),o=!!n.repository.collection.findWhere({dot1x_portctrl_enabled:!0,radiusprofile_id:t.id});return e||o}return!1}},{key:"save",value:function(){var t=this,e=[];return this.isSubmitting=!0,angular.forEach(["radius"],function(n){e.push(t.saveSection(t.getSettingFromKey(n),t.forms[n].modelCopy.attributes,n))}),this.afterSave(e).finally(function(){t.isSubmitting=!1})}}])&&i(m.prototype,f),_&&i(m,_),S}())}])},{}],168:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiRadiusServer",{controller:"RadiusServerController",controllerAs:"radiusServerCtrl",template:t("./radiusServer.pug")()})},{"./radiusServer.pug":169}],169:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div id="radiusServerSettings"><unifi-settings-security-gateway-is-required ng-if="!radiusServerCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_RADIUS_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><div ng-if="radiusServerCtrl.hasSiteGateway()"><unifi-settings-sub-menu-radius></unifi-settings-sub-menu-radius><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="radiusServerCtrl.form" ng-class="{        \'is-form-validation-visible\': radiusServerCtrl.showValidation,        \'is-validation-hidden\': !radiusServerCtrl.showValidation      }" ng-submit="radiusServerCtrl.form.$valid &amp;&amp; radiusServerCtrl.save()" unifi-disable-coming-soon="\'servicesRadius\'"><unifi-config-changed unifi-config-changed-on-reset="radiusServerCtrl.resolveDivergence()" unifi-config-changed-on-ignore="radiusServerCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="radiusServerCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!radiusServerCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="radiusServerCtrl.forms.radius" unifi-model-form="radiusServerCtrl.getSettingFromKey(\'radius\', { enabled: false, auth_port: 1812, acct_port: 1813, interim_update_interval: radiusServerCtrl.defaultInterimUpdate, configure_whole_network: true, tunneled_reply: true })"><div class="appRow"><div class="col--sm3 noWrap"><label class="appLabel appLabel--primary" for="dpiEnable" translate="SETTINGS_RADIUS_LABEL_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="radiusEnable" id="radiusEnable" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled" ng-required="radiusServerCtrl.isDeviceOrNetworkUseDefaultProfile()"><label for="radiusEnable"></label></div><div class="appInputFeedback appInputFeedback--danger" ng-if="radiusServerCtrl.forms.radius.radiusEnable.$invalid" translate="SETTINGS_RADIUS_VALIDATION_HINT_DEFAULT_SERVER_REQUIRED"></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_RADIUS_LABEL_SECRET"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><unifi-password-reveal><input type="password" id="radiusServerSecret" name="radiusServerSecret" ng-model="modelFormCtrl.modelCopy.attributes.x_secret" ng-model-master="modelFormCtrl.model.attributes.x_secret" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-pattern="radiusServerCtrl.patterns.secret"></unifi-password-reveal><div class="appInputFeedback appInputFeedback--danger" ng-if="radiusServerCtrl.forms.radius.radiusServerSecret.$invalid" translate="VALIDATION_HINT_RADIUS_SECRET"></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_RADIUS_LABEL_CLIENTS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="radiusServerConfigureWholeNetwork" id="radiusServerConfigureWholeNetwork" ng-model="modelFormCtrl.modelCopy.attributes.configure_whole_network" ng-model-master="modelFormCtrl.model.attributes.configure_whole_network"'+o("disabled",!0,!0,!0)+'><label for="radiusServerConfigureWholeNetwork" translate="SETTINGS_RADIUS_VALUES_CONFIGURE_WHOLE_NETWORK"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_RADIUS_VALUES_CONFIGURE_WHOLE_NETWORK_DISABLED_TOOLTIP"></content></unifi-tooltip></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_RADIUS_LABEL_AUTH_PORT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" id="radiusServerAuthPort" name="radiusServerAuthPort" ng-model="modelFormCtrl.modelCopy.attributes.auth_port" ng-model-master="modelFormCtrl.model.attributes.auth_port" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-pattern="radiusServerCtrl.patterns.portNumber"></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_RADIUS_LABEL_ACCT_PORT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" id="radiusServerAcctPort" name="radiusServerAcctPort" ng-model="modelFormCtrl.modelCopy.attributes.acct_port" ng-model-master="modelFormCtrl.model.attributes.acct_port" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-pattern="radiusServerCtrl.patterns.portNumber"></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_RADIUS_LABEL_ACCT_INTERIM_INTERVAL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="number" id="radiusServerAcctInterimInterval" name="radiusServerAcctInterimInterval" ng-model="modelFormCtrl.modelCopy.attributes.interim_update_interval" ng-model-master="modelFormCtrl.model.attributes.interim_update_interval" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" min="{{radiusServerCtrl.interimUpdateIntervalMin}}" max="{{radiusServerCtrl.interimUpdateIntervalMax}}"><div class="appInputFeedback appInputFeedback--danger" ng-if="radiusServerCtrl.forms.radius.radiusServerAcctInterimInterval.$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: radiusServerCtrl.interimUpdateIntervalMin, max: radiusServerCtrl.interimUpdateIntervalMax}"></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3 noWrap"><label class="appLabel appLabel--primary" for="dpiEnable" translate="SETTINGS_RADIUS_LABEL_TUNNELLED_REPLY"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="radiusTunnelledReplyEnable" id="radiusTunnelledReplyEnable" ng-model="modelFormCtrl.modelCopy.attributes.tunneled_reply" ng-model-master="modelFormCtrl.model.attributes.tunneled_reply"><label for="radiusTunnelledReplyEnable"></label></div></div></div></div></ng-form></div><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+o("unifi-if-role-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="radiusServerCtrl.showValidation = true" busy-toggle="radiusServerCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="radiusServerCtrl.reset()" ng-disabled="radiusServerCtrl.form.$pristine">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></fieldset></form></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],170:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("RadiusUserFormController",["BaseFormController","heyToasts","radiusUsers","system","REGEX_PATTERNS","UI",function(t,e,n,o,l,u){return new(function(c){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(g,t);var d,m,f,_=a(g);function g(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return p(s(t=_.call.apply(_,[this].concat(n))),"UI",u),p(s(t),"patterns",{ip:l.IPV4_ADDRESS,vlan:o.isUdm()?l.VLAN_UDM:l.VLAN_USG,name:l.RADIUS_USER_NAME}),p(s(t),"tunnelsPrepopulationMapping",{13:6}),t}return d=g,(m=[{key:"prepopulateTunnelMediumType",value:function(){var t=this.modelCopy.attributes.tunnel_type;!this.modelCopy.attributes.tunnel_medium_type&&this.tunnelsPrepopulationMapping[t]&&(this.modelCopy.attributes.tunnel_medium_type=this.tunnelsPrepopulationMapping[t])}},{key:"save",value:function(){var t=this;return this.isSubmitting=!0,n.save(this.model,this.modelCopy.attributes).then(function(t){return e.pushSuccess(t),!0}).catch(function(t){return e.pushError(t),!1}).finally(function(){t.isSubmitting=!1})}}])&&i(d.prototype,m),f&&i(d,f),g}())}])},{}],171:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiRadiusUserForm",["SimpleFormDirective",function(e){return new e("radiusUser",t("./radiusUserForm.pug")())}])},{"./radiusUserForm.pug":172}],172:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="radiusUserFormCtrl.form" ng-class="{    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': radiusUserFormCtrl.showValidation,    \'is-validation-hidden\': !radiusUserFormCtrl.showValidation  }" ng-submit="radiusUserFormCtrl.form.$valid &amp;&amp; radiusUserFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="radiusUserFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="radiusUserFormCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="radiusUserFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+o("translate",!0,!0,!0)+' translate-values="{userName: radiusUserFormCtrl.model.attributes.name}">{{radiusUserFormCtrl.model.id ? \'SETTINGS_PROFILES_SECTION_EDIT_USER\' : \'SETTINGS_PROFILES_SECTION_CREATE_USER\'}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_RADIUS_USERS_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="name" ng-model="radiusUserFormCtrl.modelCopy.attributes.name" ng-model-master="radiusUserFormCtrl.model.attributes.name" ng-pattern="radiusUserFormCtrl.patterns.name" ng-maxlength="radiusUserFormCtrl.UI.MAX_NAME_LENGTH"'+o("required",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="radiusUserFormCtrl.form.name.$error.pattern" translate="VALIDATION_HINT_RADIUS_USER_NAME"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_RADIUS_USERS_LABEL_PASSWORD"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="radiusUserP" ng-model="radiusUserFormCtrl.modelCopy.attributes.x_password" ng-model-master="radiusUserFormCtrl.model.attributes.x_password"'+o("required",!0,!0,!0)+'></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_RADIUS_USERS_LABEL_VLAN"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--smallNumber" type="text" name="networkVlan" ng-model="radiusUserFormCtrl.modelCopy.attributes.vlan" ng-model-master="radiusUserFormCtrl.model.attributes.vlan" ng-pattern="radiusUserFormCtrl.patterns.vlan"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_RADIUS_USERS_LABEL_TUNNEL_TYPE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="tunnelType" ng-model="radiusUserFormCtrl.modelCopy.attributes.tunnel_type" ng-model-master="radiusUserFormCtrl.model.attributes.tunnel_type" ng-options="tunnelType as tunnelType + \' - \' + (\'SETTINGS_RADIUS_HEADERS_TUNNEL_TYPE_\' + tunnelType | translate) for tunnelType in [] | range:1:13" ng-required="!!radiusUserFormCtrl.modelCopy.attributes.vlan || radiusUserFormCtrl.modelCopy.attributes.tunnel_medium_type" ng-change="radiusUserFormCtrl.prepopulateTunnelMediumType()"'+o("unifi-select-empty-string-option",!0,!0,!0)+'><option value="">{{\'SETTINGS_RADIUS_HEADERS_TUNNEL_TYPE_NONE\' | translate}}</option></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_RADIUS_USERS_LABEL_TUNNEL_MEDIUM_TYPE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="tunnelMediumType" ng-model="radiusUserFormCtrl.modelCopy.attributes.tunnel_medium_type" ng-model-master="radiusUserFormCtrl.model.attributes.tunnel_medium_type" ng-options="tunnelMediumType as tunnelMediumType + \' - \' + (\'SETTINGS_RADIUS_HEADERS_TUNNEL_MEDIUM_TYPE_\' + tunnelMediumType | translate) for tunnelMediumType in [] | range:1:15" ng-required="!!radiusUserFormCtrl.modelCopy.attributes.vlan || radiusUserFormCtrl.modelCopy.attributes.tunnel_type"'+o("unifi-select-empty-string-option",!0,!0,!0)+'><option value="">{{\'SETTINGS_RADIUS_HEADERS_TUNNEL_MEDIUM_TYPE_NONE\' | translate}}</option></select></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveRadiusUser" ng-if="!isReadOnly" ng-click="radiusUserFormCtrl.showValidation = true" busy-toggle="radiusUserFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--transparent cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button></div></div></form>'};var i=/["&<>]/},{"pug-runtime":2}],173:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return a(t)}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("RadiusUsersController",["BaseListAndFormController","account","gatewayUtils","radiusUsers","missingModelControllerMixin",function(t,e,n,o,s){return new(function(l){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(u,t);var p=r(u);function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=p.call(this)).collection=o.repository.collection,t.isAdmin=e.isAdmin.bind(e),t.hasSiteGateway=n.hasSiteGateway.bind(n),s(a(t)),t}return u}())}])},{}],174:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiRadiusUsers",{controller:"RadiusUsersController",controllerAs:"radiusUsersCtrl",template:t("./radiusUsers.pug")()})},{"./radiusUsers.pug":175}],175:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div id="radiusUsersSettings"><unifi-settings-security-gateway-is-required ng-if="!radiusUsersCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_RADIUS_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><div ng-if="radiusUsersCtrl.hasSiteGateway()"><unifi-settings-sub-menu-radius></unifi-settings-sub-menu-radius><div ng-switch="radiusUsersCtrl.view" unifi-disable-coming-soon="\'servicesRadius\'"><div ng-switch-when="form" unifi-radius-user-form="radiusUsersCtrl.model" unifi-radius-user-form-on-save="radiusUsersCtrl.list()" unifi-radius-user-form-on-cancel="radiusUsersCtrl.list()" unifi-radius-user-form-is-read-only="!radiusUsersCtrl.isAdmin()"></div><div ng-switch-when="list"><unifi-radius-users-list unifi-radius-users-list-on-edit="radiusUsersCtrl.edit(model)"></unifi-radius-users-list><div'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="radiusUsersCtrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_RADIUS_USERS_BUTTON_ADD"></span></button></div></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],176:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("RadiusUsersListController",["BasePaginatedListController","$translate","frame","heyToasts","radiusUsers",function(t,e,n,o,l){return new(function(p){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(f,t);var u,c,d,m=a(f);function f(){var t,e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=m.call.apply(m,[this].concat(r)),e=s(t),o={},(n="isRemoving")in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,t}return u=f,(c=[{key:"getCollection",value:function(){return l.repository.collection}},{key:"removeUser",value:function(t){var i=this;return n.show("confirm",{title:function(){return e.instant("SETTINGS_RADIUS_USERS_DELETE_CONFIRM_TITLE",{name:t.get("name")})},message:function(){return e.instant("SETTINGS_RADIUS_USERS_DELETE_CONFIRM_MESSAGE",{name:t.get("name")})},options:angular.noop}).then(function(){return i.isRemoving[t.id]=!0,l.removeUser(t).then(function(t){return o.pushSuccess(t),!0}).catch(function(e){return o.pushError(e),i.isRemoving[t.id]=!1,!1})})}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}}])&&i(u.prototype,c),d&&i(u,d),f}())}])},{}],177:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiRadiusUsersList",["ListDirective",function(e){return new e("radiusUsers",t("./radiusUsersList.pug")(),{onEdit:"&unifiRadiusUsersListOnEdit"})}])},{"./radiusUsersList.pug":178}],178:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div><table class="verticalRhythmTop--comfy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="radiusUsersTable" collection-view-sort="radiusUsersListCtrl.view"><thead><tr><th class="radiusUserName" collection-view-sort-by="name"><span translate="SETTINGS_RADIUS_USERS_TABLE_HEADER_NAME"></span></th><th class="radiusUserNetwork" collection-view-sort-by="vlan"><span translate="SETTINGS_RADIUS_USERS_TABLE_HEADER_VLAN"></span></th><th class="radiusUserActions"><span translate="SETTINGS_RADIUS_USERS_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tfoot ng-if="radiusUsersListCtrl.view.getModels().length"><tr><td colspan="3"><unifi-list-pagination unifi-list-pagination-current-page="radiusUsersListCtrl.currentPage" unifi-list-pagination-rows-per-page="radiusUsersListCtrl.rowsPerPage" unifi-list-pagination-total-rows="radiusUsersListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in radiusUsersListCtrl.view.getModels(),                startFrom (radiusUsersListCtrl.currentPage - 1) * radiusUsersListCtrl.rowsPerPage,                limitTo radiusUsersListCtrl.rowsPerPage" data-id="{{::model.id}}"><td class="radiusUserName">{{::model.get(\'name\')}}</td><td class="radiusUserVlan">{{::model.get(\'vlan\')}}</td><td class="radiusUserActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="radiusUsersListCtrl.edit(model)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="radiusUsersListCtrl.removeUser(model)" ng-disabled="radiusUsersListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!radiusUsersListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_RADIUS_USERS_TABLE_EMPTY"></p></div></div></div></div>'}},{"pug-runtime":2}],179:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return a(t)}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("RoutingController",["BaseListAndFormController","gatewayUtils","routing","missingModelControllerMixin",function(t,e,n,o){return new(function(s){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(p,t);var l=r(p);function p(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(t=l.call(this)).activeTab="staticRoutes",t.collection=n.repository.collection,t.hasSiteGateway=e.hasSiteGateway.bind(e),o(a(t)),t}return p}())}])},{}],180:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiRouting",{controller:"RoutingController",controllerAs:"routingCtrl",template:t("./routing.pug")()})},{"./routing.pug":181}],181:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="routingSettings"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-security-gateway-is-required ng-if="!routingCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_ROUTING_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><div ng-if="routingCtrl.view === \'form\' &amp;&amp; routingCtrl.hasSiteGateway()" unifi-routing-form="routingCtrl.model" unifi-routing-form-on-save="routingCtrl.list()" unifi-routing-form-on-cancel="routingCtrl.list()" unifi-routing-form-is-read-only="!routingCtrl.isAdmin()"></div><div ng-if="routingCtrl.view === \'list\' &amp;&amp; routingCtrl.hasSiteGateway()"><unifi-routing-list unifi-routing-list-on-edit="routingCtrl.edit(model)"></unifi-routing-list><div class="unifiSettingsFooter"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="routingCtrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_ROUTING_BUTTON_ADD"></span></button></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],182:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiServicesContainer",{template:t("./servicesContainer.pug")()})},{"./servicesContainer.pug":183}],183:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiSettingsContainer" id="radiusServices"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><ui-view></ui-view></div>'}},{"pug-runtime":2}],184:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").controller("SettingsSecurityGatewayIsRequiredController",["URLS","preferences",function(t,e){return new function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.URLS=t,this.preferences=e}}])},{}],185:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSecurityGatewayIsRequired",[function(){return{controller:"SettingsSecurityGatewayIsRequiredController",controllerAs:"settingsSecurityGatewayIsRequiredCtrl",scope:{feature:"@unifiSettingsSecurityGatewayIsRequiredFeature"},bindToController:!0,template:t("./settingsSecurityGatewayIsRequired.pug")()}}])},{"./settingsSecurityGatewayIsRequired.pug":186}],186:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appInfoBox appInfoBox--wide autoMargin verticalRhythmTop--breezy withLayerShadow"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="SETTINGS_COMMON_GATEWAY_REQUIRED_HEADER"></div><div class="appInfoBox__body"><p class="appLinkContainer noMarginBottom" translate="SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE" translate-values="{unifiGatewayLink: settingsSecurityGatewayIsRequiredCtrl.URLS.UNIFI_SECURITY_GATEWAY, feature:settingsSecurityGatewayIsRequiredCtrl.feature}"></p></div></div></div>'}},{"pug-runtime":2}],187:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").controller("SettingsSubMenuDhcpController",["featureUtils",function(t){return new function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.tabs=[t.isSupported("servicesDhcpServer")?{translationKey:"SETTINGS_DHCP_TAB_DHCP_SERVER",state:"manage.site.settings.services.dhcp.dhcpServer"}:null,t.isSupported("servicesDhcpRelay")?{translationKey:"SETTINGS_DHCP_TAB_DHCP_RELAY",state:"manage.site.settings.services.dhcp.dhcpRelay"}:null,t.isSupported("servicesDhcpOptions")?{translationKey:"SETTINGS_DHCP_TAB_DHCP_OPTIONS",state:"manage.site.settings.services.dhcp.dhcpOptions"}:null].filter(Boolean)}}])},{}],188:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuDhcp",[function(){return{controller:"SettingsSubMenuDhcpController",controllerAs:"settingsSubMenuDhcpCtrl",template:t("./settingsSubMenuDhcp.pug")()}}])},{"./settingsSubMenuDhcp.pug":189}],189:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-settings-sub-tabs-header tabs="settingsSubMenuDhcpCtrl.tabs"></unifi-settings-sub-tabs-header>'}},{"pug-runtime":2}],190:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").controller("SettingsSubMenuDpiController",[function(){return new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tabs=[{translationKey:"SETTINGS_DPI_TAB_SETTINGS",state:"manage.site.settings.dpi.settings"},{translationKey:"SETTINGS_DPI_TAB_RESTRICTIONS",state:"manage.site.settings.dpi.restrictions"}]}}])},{}],191:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiSettingsSubMenuDpi",{template:t("./settingsSubMenuDpi.pug")(),controller:"SettingsSubMenuDpiController",controllerAs:"settingsSubMenuDpiCtrl"})},{"./settingsSubMenuDpi.pug":192}],192:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-settings-tabs-header tabs="settingsSubMenuDpiCtrl.tabs"></unifi-settings-tabs-header>'}},{"pug-runtime":2}],193:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").controller("SettingsSubMenuDpiRestrictionsController",[function(){return new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tabs=[{translationKey:"SETTINGS_DPI_SUB_TAB_RESTRICTION_GROUPS",state:"manage.site.settings.dpi.restrictions.groups"},{translationKey:"SETTINGS_DPI_SUB_TAB_RESTRICTION_ASSIGNMENTS",state:"manage.site.settings.dpi.restrictions.assignments"}]}}])},{}],194:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiSettingsSubMenuDpiRestrictions",{controller:"SettingsSubMenuDpiRestrictionsController",controllerAs:"settingsSubMenuDpiRestrictionsCtrl",template:t("./settingsSubMenuDpiRestrictions.pug")()})},{"./settingsSubMenuDpiRestrictions.pug":195}],195:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-settings-sub-tabs-header tabs="settingsSubMenuDpiRestrictionsCtrl.tabs"></unifi-settings-sub-tabs-header>'}},{"pug-runtime":2}],196:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").controller("SettingsSubMenuFirewallController",["comingSoon",function(){return new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tabs=[{translationKey:"SETTINGS_ROUTING_TAB_FIREWALL_RULES_IPV4",state:"manage.site.settings.routingAndFirewall.firewall.rulesIpv4"},{translationKey:"SETTINGS_ROUTING_TAB_FIREWALL_RULES_IPV6",state:"manage.site.settings.routingAndFirewall.firewall.rulesIpv6"},{translationKey:"SETTINGS_ROUTING_TAB_FIREWALL_GROUPS",state:"manage.site.settings.routingAndFirewall.firewall.groups"},{translationKey:"SETTINGS_ROUTING_TAB_FIREWALL_SETTINGS",state:"manage.site.settings.routingAndFirewall.firewall.settings"}]}}])},{}],197:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuFirewall",[function(){return{controller:"SettingsSubMenuFirewallController",controllerAs:"settingsSubMenuFirewallCtrl",template:t("./settingsSubMenuFirewall.pug")()}}])},{"./settingsSubMenuFirewall.pug":198}],198:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-settings-sub-tabs-header tabs="settingsSubMenuFirewallCtrl.tabs"></unifi-settings-sub-tabs-header>'}},{"pug-runtime":2}],199:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").controller("SettingsSubMenuProfilesController",[function(){return new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tabs=[{translationKey:"SETTINGS_PROFILES_TAB_RADIUS",state:"manage.site.settings.profiles.radius"},{translationKey:"SETTINGS_PROFILES_TAB_PORTS",state:"manage.site.settings.profiles.ports"}]}}])},{}],200:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuProfiles",[function(){return{controller:"SettingsSubMenuProfilesController",controllerAs:"settingsSubMenuProfilesCtrl",template:t("./settingsSubMenuProfiles.pug")()}}])},{"./settingsSubMenuProfiles.pug":201}],201:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appRow"><unifi-settings-tabs-header class="col--xs12" tabs="settingsSubMenuProfilesCtrl.tabs"></unifi-settings-tabs-header></div>'}},{"pug-runtime":2}],202:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").controller("SettingsSubMenuRadiusController",[function(){return new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tabs=[{translationKey:"SETTINGS_RADIUS_TAB_USERS",state:"manage.site.settings.services.radius.users"},{translationKey:"SETTINGS_RADIUS_TAB_SERVER",state:"manage.site.settings.services.radius.server"}]}}])},{}],203:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuRadius",[function(){return{controller:"SettingsSubMenuRadiusController",controllerAs:"settingsSubMenuRadiusCtrl",template:t("./settingsSubMenuRadius.pug")()}}])},{"./settingsSubMenuRadius.pug":204}],204:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-settings-sub-tabs-header tabs="settingsSubMenuRadiusCtrl.tabs"></unifi-settings-sub-tabs-header>'}},{"pug-runtime":2}],205:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").controller("SettingsSubMenuRoutingAndFirewallController",["comingSoon",function(t){return new function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.tabs=[{translationKey:"SETTINGS_ROUTING_TAB_STATIC_ROUTES",state:"manage.site.settings.routingAndFirewall.routing"},{translationKey:"SETTINGS_ROUTING_TAB_FIREWALL",state:"manage.site.settings.routingAndFirewall.firewall"},{translationKey:"SETTINGS_ROUTING_TAB_PORT_FORWARD",state:"manage.site.settings.routingAndFirewall.portforward"},{translationKey:"SETTINGS_ROUTING_TAB_GEO_IP_FILTERING",state:"manage.site.settings.routingAndFirewall.geoipfiltering",beta:!0,comingSoon:t.is("routingAndFirewallGeoIpFiltering")}]}}])},{}],206:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuRoutingAndFirewall",[function(){return{controller:"SettingsSubMenuRoutingAndFirewallController",controllerAs:"settingsSubMenuRoutingAndFirewallCtrl",template:t("./settingsSubMenuRoutingAndFirewall.pug")()}}])},{"./settingsSubMenuRoutingAndFirewall.pug":207}],207:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-settings-tabs-header tabs="settingsSubMenuRoutingAndFirewallCtrl.tabs"></unifi-settings-tabs-header>'}},{"pug-runtime":2}],208:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").controller("SettingsSubMenuServicesController",["comingSoon","featureUtils",function(t,e){return new function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.tabs=[{translationKey:"SETTINGS_SERVICES_TAB_RADIUS",state:"manage.site.settings.services.radius",comingSoon:t.is("servicesRadius"),isHidden:!e.isSupported("servicesRadius")},{translationKey:"SETTINGS_SERVICES_TAB_HOTSPOT2",state:"manage.site.settings.services.hotspot2",comingSoon:t.is("servicesHotspot2"),isHidden:!e.isSupported("servicesHotspot2")},{translationKey:"SETTINGS_SERVICES_TAB_DHCP",state:"manage.site.settings.services.dhcp",comingSoon:t.is("servicesDhcp"),isHidden:!e.isSupported("servicesDhcp")},{translationKey:"SETTINGS_SERVICES_TAB_DYNAMIC_DNS",state:"manage.site.settings.services.dynamicdns",comingSoon:t.is("servicesDynamicDns"),isHidden:!e.isSupported("servicesDynamicDns")},{translationKey:"SETTINGS_SERVICES_TAB_MDNS",state:"manage.site.settings.services.mdns"},{translationKey:"SETTINGS_SERVICES_TAB_SIP",state:"manage.site.settings.services.sip",beta:!0,comingSoon:t.is("servicesSip"),isHidden:!e.isSupported("servicesSip")},{translationKey:"SETTINGS_SERVICES_TAB_SNMP",state:"manage.site.settings.services.snmp",comingSoon:t.is("servicesSnmp"),isHidden:!e.isSupported("servicesSnmp")},{translationKey:"SETTINGS_SERVICES_TAB_UPNP",state:"manage.site.settings.services.upnp",comingSoon:t.is("servicesUpnp"),isHidden:!e.isSupported("servicesUpnp")},{translationKey:"SETTINGS_SERVICES_TAB_NTP",state:"manage.site.settings.services.ntp"},{translationKey:"SETTINGS_SERVICES_TAB_SCHEDULED_UPGRADES",state:"manage.site.settings.services.upgrades"}]}}])},{}],209:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuServices",[function(){return{controller:"SettingsSubMenuServicesController",controllerAs:"settingsSubMenuServicesCtrl",template:t("./settingsSubMenuServices.pug")()}}])},{"./settingsSubMenuServices.pug":210}],210:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appRow"><unifi-settings-tabs-header class="col--xs12" tabs="settingsSubMenuServicesCtrl.tabs"></unifi-settings-tabs-header></div>'}},{"pug-runtime":2}],211:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").controller("SettingsSubMenuSipController",[function(){return new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tabs=[{translationKey:"SETTINGS_SIP_TAB_SETTINGS",state:"manage.site.settings.services.sip.settings"},{translationKey:"SETTINGS_SIP_TAB_ENDPOINTS",state:"manage.site.settings.services.sip.endpoints"}]}}])},{}],212:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuSip",[function(){return{controller:"SettingsSubMenuSipController",controllerAs:"settingsSubMenuSipCtrl",template:t("./settingsSubMenuSip.pug")()}}])},{"./settingsSubMenuSip.pug":213}],213:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-settings-sub-tabs-header tabs="settingsSubMenuSipCtrl.tabs"></unifi-settings-sub-tabs-header>'}},{"pug-runtime":2}],214:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubTabsHeader",["$window","preferences",function(e,n){return{replace:!0,restrict:"E",scope:{tabs:"=tabs"},template:t("./settingsSubTabsHeader.pug")(),link:function(t){t.preferences=n,t.disableComingSoon=function(){return e.disableComingSoon}}}}])},{"./settingsSubTabsHeader.pug":215}],215:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<ul class="appSubtabs appSubtabs--responsive unifiSettingsSubtabs" ng-class="{\'appSubtabs--dark unifiSettingsSubtabs--dark\': preferences.model.isSettingsDark()}"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("pageutils-nav",!0,!0,!0)+' pageutils-nav-active-class="is-tab-selected"><li class="tabs__item noPaddingTop" ng-repeat="tab in tabs" pageutils-nav-state="{{tab.state}}" ng-class="{\'is-tab-disabled\': tab.comingSoon &amp;&amp; !disableComingSoon()}"><span>{{ tab.translationKey | translate }}</span><span class="appBadge appBadge--warning inline horizontalRhythmLeft--condensed" ng-if="tab.alpha &amp;&amp; !tab.comingSoon" translate="COMMON_ALPHA"></span><unifi-notify-coming-soon class="inline horizontalRhythmLeft--condensed" ng-if="tab.comingSoon"></unifi-notify-coming-soon></li></ul>'};var o=/["&<>]/},{"pug-runtime":2}],216:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsTabsHeader",["$window","preferences",function(e,n){return{replace:!0,restrict:"E",scope:{tabs:"=tabs"},template:t("./settingsTabsHeader.pug")(),link:function(t){t.preferences=n,t.disableComingSoon=function(){return e.disableComingSoon}}}}])},{"./settingsTabsHeader.pug":217}],217:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsHeader unifiSettingsHeader--withTabs noBorder"><ul class="appTabs appTabs--cozy appTabs--flexible" ng-class="{\'appTabs--dark\': preferences.model.isSettingsDark()}"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("pageutils-nav",!0,!0,!0)+' pageutils-nav-active-class="is-tab-selected"><li class="tabs__item" ng-repeat="tab in tabs" pageutils-nav-state="{{tab.state}}" ng-class="{\'is-tab-disabled\': tab.comingSoon &amp;&amp; !disableComingSoon()}" ng-hide="tab.isHidden"><span>{{ tab.translationKey | translate }}</span><span class="appBadge appBadge--warning horizontalRhythmLeft--condensed" ng-if="tab.beta &amp;&amp; !tab.comingSoon" translate="COMMON_BETA"></span><unifi-notify-coming-soon class="horizontalRhythmLeft--condensed" ng-if="tab.comingSoon"></unifi-notify-coming-soon></li></ul></div>'};var o=/["&<>]/},{"pug-runtime":2}],218:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("SipEndpointsController",["account","BaseListAndFormController","devices",function(t,e,n){return new(function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,e);var a=r(s);function s(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).isAdmin=t.isAdmin.bind(t),e.collection=n.repository.collection,e}return s}())}])},{}],219:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiSipEndpoints",{controller:"SipEndpointsController",controllerAs:"sipEndpointsCtrl",template:t("./sipEndpoints.pug")()})},{"./sipEndpoints.pug":220}],220:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="sipSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-sub-menu-sip></unifi-settings-sub-menu-sip><div class="unifiSettingsSection noMarginTop"><div ng-switch="sipEndpointsCtrl.view" unifi-disable-coming-soon="\'servicesSip\'"><div ng-switch-when="form" unifi-sip-endpoint-form="sipEndpointsCtrl.model" unifi-sip-endpoint-form-on-save="sipEndpointsCtrl.list()" unifi-sip-endpoint-form-on-cancel="sipEndpointsCtrl.list()" unifi-sip-endpoint-form-is-read-only="!sipEndpointsCtrl.isAdmin()"></div><div ng-switch-when="list"><unifi-sip-endpoint-list unifi-sip-endpoint-list-on-edit="sipEndpointsCtrl.edit(model)"></unifi-sip-endpoint-list><div'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="sipEndpointsCtrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_SIP_ENDPOINT_BUTTON_ADD"></span></button></div></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],221:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("SipSettingsController",["BaseSettingsController","regexUtils","REGEX_PATTERNS",function(t,e,n){return new(function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(c,t);var s,l,p,u=a(c);function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this)).settingsSectionTranslationKey="SETTINGS_SERVICES_TAB_SIP",t.settingsSectionTranslationKeys={baresip:"SETTINGS_SERVICES_TAB_SIP"},t.patterns={server:e.or([e.exact(e.bookend("(",e.contains(n.FQDN),")(:"+e.getPattern(e.contains(n.PORT_NUMBER))+")?")),e.exact(e.bookend("(",e.contains(n.IPV4_ADDRESS),")(:"+e.getPattern(e.contains(n.PORT_NUMBER))+")?"))],"i"),outboundProxy:e.or([e.exact(e.bookend("(",e.contains(n.FQDN),")(:"+e.getPattern(e.contains(n.PORT_NUMBER))+")?")),e.exact(e.bookend("(",e.contains(n.IPV4_ADDRESS),")(:"+e.getPattern(e.contains(n.PORT_NUMBER))+")?"))],"i")},t}return s=c,(l=[{key:"save",value:function(){var t=this,e=[];return this.isSubmitting=!0,angular.forEach(["baresip"],function(n){e.push(t.saveSection(t.getSettingFromKey(n),t.forms[n].modelCopy.attributes,n))}),this.afterSave(e).finally(function(){t.isSubmitting=!1})}}])&&i(s.prototype,l),p&&i(s,p),c}())}])},{}],222:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiSipSettings",{controller:"SipSettingsController",controllerAs:"sipSettingsCtrl",template:t("./sipSettings.pug")()})},{"./sipSettings.pug":223}],223:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="sipSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-sub-menu-sip></unifi-settings-sub-menu-sip><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="sipSettingsCtrl.form" ng-class="{      \'is-form-validation-visible\': sipSettingsCtrl.showValidation,      \'is-validation-hidden\': !sipSettingsCtrl.showValidation    }" ng-submit="sipSettingsCtrl.form.$valid &amp;&amp; sipSettingsCtrl.save()" unifi-disable-coming-soon="\'servicesSip\'"><unifi-config-changed unifi-config-changed-on-reset="sipSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="sipSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="sipSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!sipSettingsCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="sipSettingsCtrl.forms.baresip" unifi-model-form="sipSettingsCtrl.getSettingFromKey(\'baresip\')"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" for="sipClientEnable" translate="SETTINGS_SIP_LABEL_ENABLE_CLIENT"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="sipClientEnable" id="sipClientEnable" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="sipClientEnable"></label></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_SIP_LABEL_SERVER"></label></div><div class="col--sm5 col--xs10 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" id="sipServer" name="sipServer" ng-model="modelFormCtrl.modelCopy.attributes.server" ng-model-master="modelFormCtrl.model.attributes.server" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-pattern="modelFormCtrl.modelCopy.attributes.enabled ? sipSettingsCtrl.patterns.server : \'\'"><div class="appInputFeedback appInputFeedback--danger" ng-show="sipSettingsCtrl.forms.baresip.sipServer.$error.pattern" translate="SETTINGS_SIP_VALIDATION_HINT_SERVER"></div></div><div class="col--sm1 col--xs2 noPaddingLeft pt-1"><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_SIP_TOOLTIP_SERVER"></content></unifi-tooltip></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_SIP_LABEL_OUTBOUND_PROXY"></label></div><div class="col--sm5 col--xs10 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" id="outboundProxy" name="outboundProxy" ng-model="modelFormCtrl.modelCopy.attributes.outbound_proxy" ng-model-master="modelFormCtrl.model.attributes.outbound_proxy" ng-pattern="modelFormCtrl.modelCopy.attributes.enabled ? sipSettingsCtrl.patterns.outboundProxy : \'\'"><div class="appInputFeedback appInputFeedback--danger" ng-show="sipSettingsCtrl.forms.baresip.outboundProxy.$error.pattern" translate="SETTINGS_SIP_VALIDATION_HINT_OUTBOUND_PROXY"></div></div><div class="col--sm1 col--xs2 noPaddingLeft pt-1"><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_SIP_TOOLTIP_OUTBOUND_PROXY"></content></unifi-tooltip></div></div><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy"'+o("unifi-if-role-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="sipSettingsCtrl.showValidation = true" busy-toggle="sipSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="sipSettingsCtrl.reset()" ng-disabled="sipSettingsCtrl.form.$pristine">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></div></div></ng-form></div></fieldset></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],224:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("SiteSettingsController",["$state","$translate","account","apGroups","BaseSettingsController","countries","countryUtils","countryChannels","devices","deviceFeatureUtils","frame","gatewayUtils","heyToasts","preferences","settings","speedTest","siteUtils","system","timezones","UseWebrtc","wirelessNetworks","AP_GROUP_SETTINGS","CREDENTIALS_SETTINGS","DEVICE_MODELS","NETWORK_OPTIMIZATION_SETTINGS","REGEX_PATTERNS","SWAI_PROPS","WLAN_BANDS",function(t,e,n,o,l,u,c,d,m,f,_,g,S,b,v,y,T,E,C,I,h,N,w,L,A,O,G,R){return new(function(F){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(D,l);var k,P,M,B=a(D);function D(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,D);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return p(s(t=B.call.apply(B,[this].concat(o))),"countryUtils",c),p(s(t),"preferences",b),p(s(t),"gatewayUtils",g),p(s(t),"settings",v),p(s(t),"system",E),p(s(t),"timezones",C),p(s(t),"UseWebrtc",I),p(s(t),"AP_GROUP_SETTINGS",N),p(s(t),"CREDENTIALS_SETTINGS",w),p(s(t),"NETWORK_OPTIMIZATION_SETTINGS",A),p(s(t),"isStandalone",G.isStandalone),p(s(t),"hasMultipleSites",T.hasMultipleSites()),p(s(t),"settingsSection","site"),p(s(t),"settingsSectionTranslationKeys",{auto_speedtest:"SETTINGS_SITE_KEY_AUTO_SPEEDTEST",connectivity:"SETTINGS_SITE_KEY_CONNECTIVITY",country:"SETTINGS_SITE_KEY_COUNTRY",dpi:"SETTINGS_SITE_KEY_DPI",locale:"SETTINGS_SITE_KEY_LOCALE",mgmt:"SETTINGS_SITE_KEY_MGMT",porta:"SETTINGS_SITE_KEY_PORTA",rsyslogd:"SETTINGS_SITE_KEY_RSYSLOGD",site:"SETTINGS_SITE_KEY_SITE",usw:"SETTINGS_SITE_KEY_USW_DHCP_SNOOP"}),p(s(t),"isAdmin",n.isAdmin.bind(n)),p(s(t),"isSuperAdmin",n.isSuperAdmin.bind(n)),p(s(t),"patterns",{name:O.NAME,hostname:O.HOSTNAME,ipAddress:O.IPV4_ADDRESS,portNumber:O.PORT_NUMBER,deviceAccountName:O.DEVICE_ACCOUNT_NAME}),p(s(t),"SPEED_TEST_INTERVAL",{MIN:12,MAX:9999}),t}return k=D,(P=[{key:"timezoneValueGetter",value:function(t){return t?t.get("timezone"):""}},{key:"saveSite",value:function(t){return T.updateActiveSiteDesc(t.desc).then(function(){return!0}).catch(function(t){return S.pushError(t),!1})}},{key:"save",value:function(){var t=this,e=[];this.isSubmitting=!0,e.push(this.saveSite(this.forms.site.modelCopy.attributes)),e.push(this.saveSection(this.getSettingFromKey("mgmt"),{auto_upgrade:this.forms.mgmt1.modelCopy.attributes.auto_upgrade,led_enabled:this.forms.mgmt3.modelCopy.attributes.led_enabled,outdoor_mode_enabled:this.forms.mgmt1.modelCopy.attributes.outdoor_mode_enabled,alert_enabled:this.forms.mgmt1.modelCopy.attributes.alert_enabled,x_ssh_enabled:this.forms.mgmt2.modelCopy.attributes.x_ssh_enabled,x_ssh_username:this.forms.mgmt2.modelCopy.attributes.x_ssh_username,x_ssh_password:this.forms.mgmt2.modelCopy.attributes.x_ssh_password,x_ssh_keys:this.forms.mgmt2.modelCopy.attributes.x_ssh_keys},"mgmt"));return this.forms.rsyslogd.modelCopy.attributes.enabled&&this.forms.rsyslogd.modelCopy.attributes.this_controller&&(delete this.forms.rsyslogd.modelCopy.attributes.ip,delete this.forms.rsyslogd.modelCopy.attributes.port,delete this.forms.rsyslogd.modelCopy.attributes.netconsole_host,delete this.forms.rsyslogd.modelCopy.attributes.netconsole_port,this.forms.rsyslogd.modelCopy.attributes.netconsole_enabled=!1),angular.forEach(["country","locale","connectivity","element_adopt","rsyslogd","auto_speedtest","porta","network_optimization","usw","lcm"],function(n){t.forms[n]&&e.push(t.saveSection(t.getSettingFromKey(n),t.forms[n].modelCopy.attributes,n))}),this.afterSave(e).then(function(){t.forms.mgmt2.modelCopy.set("x_ssh_keys",v.getSiteSettingFromKey("mgmt").get("x_ssh_keys"))}).finally(function(){d.repository.refresh()})}},{key:"deleteSite",value:function(){var n=this;return _.show("confirm",{title:function(){return e.instant("SETTINGS_SITE_DELETE_CONFIRM_TITLE",{siteDesc:n.site.get("desc")})},message:function(){return e.instant("SETTINGS_SITE_DELETE_CONFIRM_MESSAGE",{siteDesc:n.site.get("desc")})},options:angular.noop}).then(function(){return n.isDeleting=!0,T.deleteSite(n.site).then(function(e){S.pushSuccess(e);var n=T.getDefaultSiteName();return n&&t.go("manage.site.dashboard",{site:n}),!0}).catch(function(t){return S.pushError(t),!1})}).finally(function(){n.isDeleting=!1})}},{key:"exportSite",value:function(){_.show("exportSite")}},{key:"canDeleteSite",value:function(){return this.isSuperAdmin()&&!this.site.get("attr_no_delete")}},{key:"canRemapPort",value:function(){var t=g.getSiteGateway();return!!t&&(!f.isGatewayPortReassignmentSupported(t)&&!!((L[t.get("model")]||{}).features||{}).legacyPortRemap)}},{key:"hasBootSound",value:function(){var t=g.getSiteGateway();return!!t&&f.isBootSoundSupported(t)}},{key:"geWirelessNetworkCountByDevice",value:function(t,e){var n=o.getApGroupsByDevice(t);return h.getWlansByApGroupIdsAndWifiBand(n.map(function(t){return t.id}),e).length}},{key:"getWirelessNetworkCountByDevicesAndBand",value:function(t){var e=this;return m.repository.collection.reduce(function(n,o){if(o.hasAp()){var i=o.get("mac");n[i]=e.geWirelessNetworkCountByDevice(i,t)}return n},{})}},{key:"canEnableConnectivityMonitor",value:function(){var t=this;return![R["2G"],R["5G"]].some(function(e){var n=t.getWirelessNetworkCountByDevicesAndBand(e);return Object.values(n).some(function(t){return t>N.MAX_WLANCONF_WITH_WIRELESS_UPLINK})})}},{key:"getCountries",value:function(){return u.repository.collection.models}},{key:"confirmOverrideInformUrl",value:function(){var t=this;this.forms.connectivity.modelCopy.attributes.override_inform_url&&_.show("confirm",{title:function(){return e.instant("SETTINGS_SITE_CONFIRM_OVERRIDE_INFORM_URL_TITLE")},message:function(){return e.instant("SETTINGS_SITE_CONFIRM_OVERRIDE_INFORM_URL_MESSAGE")},options:angular.noop}).catch(function(){t.forms.connectivity.modelCopy.attributes.override_inform_url=!1})}},{key:"addSshKey",value:function(){var t=this;_.show("addSshKey").then(function(e){t.forms.mgmt2.modelCopy.attributes.x_ssh_keys.push(e)})}},{key:"removeSshKey",value:function(t){this.forms.mgmt2.modelCopy.attributes.x_ssh_keys.splice(t,1)}},{key:"populateSpeedTestResults",value:function(){var t=this;this.isPopulatingSpeedTestResults=!0,y.resolve().then(function(t){return y.isTestCompleted(t)?t:(_.show("speedTest"),y.startTest())}).catch(function(){S.pushError(e.instant("SETTINGS_SITE_PREPOPULATE_FAILED"))}).finally(function(){t.isPopulatingSpeedTestResults=!1})}}])&&i(k.prototype,P),M&&i(k,M),D}())}])},{}],225:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiSiteSettings",{controller:"SiteSettingsController",controllerAs:"siteSettingsCtrl",template:t("./siteSettings.pug")()})},{"./siteSettings.pug":226}],226:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="siteSettings"><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="siteSettingsCtrl.form" ng-class="{      \'is-form-validation-visible\': siteSettingsCtrl.showValidation,      \'is-validation-hidden\': !siteSettingsCtrl.showValidation    }" ng-submit="siteSettingsCtrl.form.$valid &amp;&amp; siteSettingsCtrl.save()"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_SITE"></div></div><unifi-config-changed unifi-config-changed-on-reset="siteSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="siteSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="siteSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!siteSettingsCtrl.isAdmin()"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_SITE_SECTION_CONFIGURATION" ng-if="siteSettingsCtrl.isStandalone || siteSettingsCtrl.hasMultipleSites"></div><ng-form name="siteSettingsCtrl.forms.site" unifi-model-form="siteSettingsCtrl.site"><div class="appRow" ng-if="siteSettingsCtrl.isStandalone || siteSettingsCtrl.hasMultipleSites"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_SITE_LABEL_SITE_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="siteName" ng-model="modelFormCtrl.modelCopy.attributes.desc" ng-model-master="modelFormCtrl.model.attributes.desc" ng-pattern="siteSettingsCtrl.patterns.name"'+o("required",!0,!0,!0)+'></div></div></ng-form><ng-form name="siteSettingsCtrl.forms.country" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'country\', { code: \'840\' })"><div class="appRow" ng-if="siteSettingsCtrl.isStandalone"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxInline" translate="SETTINGS_SITE_LABEL_COUNTRY"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_SITE_TOOLTIP_COUNTRY"></content></unifi-tooltip></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="siteCountry" ng-model="modelFormCtrl.modelCopy.attributes.code" ng-model-master="modelFormCtrl.model.attributes.code" ng-options="country.get(\'code\') as country.get(\'name\') for country in siteSettingsCtrl.getCountries()"><option unifi-option-placeholder="SETTINGS_SITE_VALUES_SELECT_COUNTRY"></option></select></div></div></ng-form><ng-form name="siteSettingsCtrl.forms.locale" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'locale\', { timezone: \'America/Los_Angeles\' })" ng-if="siteSettingsCtrl.isStandalone"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_SITE_LABEL_TIMEZONE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-select-simple-dropdown unifi-select-simple-dropdown-selected-icon="\'maps\'" unifi-select-simple-dropdown-width="\'381px\'" unifi-select-simple-dropdown-is-standalone="true" unifi-select-simple-dropdown-is-standalone-input-always-visible="true" unifi-select-simple-dropdown-collection="siteSettingsCtrl.timezones.repository.collection" unifi-select-simple-dropdown-selected-value="modelFormCtrl.modelCopy.attributes.timezone" unifi-select-simple-dropdown-selected-value-master="modelFormCtrl.model.attributes.timezone" unifi-select-simple-dropdown-render-label="modelFormCtrl.model.attributes.timezone" unifi-select-simple-dropdown-row-template="\'timezone\'" unifi-select-simple-dropdown-default-sort-by="\'offset\'" unifi-select-simple-dropdown-rows-per-page="25" unifi-select-simple-dropdown-default-sort-desc="false" unifi-select-simple-dropdown-search-placeholder="\'MAP_SELECT_DROPDOWN_SEARCH_PLACEHOLDER\'" unifi-select-simple-dropdown-searchable-attributes="[\'timezone\']" unifi-select-simple-dropdown-empty-table-notice="\'MAP_SELECT_DROPDOWN_TABLE_EMPTY\'" unifi-select-simple-dropdown-no-clear="true" unifi-select-simple-dropdown-value-getter="siteSettingsCtrl.timezoneValueGetter"></unifi-select-simple-dropdown></div></div></ng-form></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_SITE_SECTION_LED_LCM"></div><ng-form name="siteSettingsCtrl.forms.mgmt3" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'mgmt\', { led_enabled: true})"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_LABEL_STATUS_LED_OR_SCREEN"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableStatusLed" id="siteEnableStatusLed" ng-model="modelFormCtrl.modelCopy.attributes.led_enabled" ng-model-master="modelFormCtrl.model.attributes.led_enabled"><label for="siteEnableStatusLed" translate="SETTINGS_SITE_VALUES_STATUS_LED_OR_SCREEN"></label></div></div></div></ng-form><ng-form name="siteSettingsCtrl.forms.lcm" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'lcm\')"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_LABEL_STATUS_LCM_BRIGHTNESS"></label></div><div class="col--sm5 appFormGroup appFormGroup--smash"><div class="d-flex mb-5"><input class="ubntRangeSlider" type="range" name="lcmBrightness" style="--min: 1; --max: 100;" min="1" max="100" ng-style="{\'--val\' : modelFormCtrl.modelCopy.attributes.brightness + \'\'}" ng-model="modelFormCtrl.modelCopy.attributes.brightness"><div class="type-small pl-3">{{modelFormCtrl.modelCopy.attributes.brightness | percent: 100}}</div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_LABEL_STATUS_LCM_SYNC"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteLcmSync" id="siteLcmSync" ng-model="modelFormCtrl.modelCopy.attributes.sync" ng-model-master="modelFormCtrl.model.attributes.sync"><label for="siteLcmSync" translate="SETTINGS_SITE_VALUES_STATUS_LCM_SYNC"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_LABEL_STATUS_LCM_IDLE_TIME"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="number" id="siteLcmIdleTime" name="siteLcmIdleTime" ng-model="modelFormCtrl.modelCopy.attributes.idle_timeout" ng-model-master="modelFormCtrl.model.attributes.idle_timeout" min="10" max="3600"><label class="appLabel--boxInline" for="siteLcmIdleTime" translate="DATETIME_SECONDS_ABBR"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_SITE_VALUES_LCM_IDLE_TIME_TOOLTIP"></content></unifi-tooltip></div></div></div><div class="appRow" ng-if="::siteSettingsCtrl.hasBootSound()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_LABEL_BOOT_SOUND"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteBootSound" id="siteBootSound" ng-model="modelFormCtrl.modelCopy.attributes.boot_sound" ng-model-master="modelFormCtrl.model.attributes.boot_sound"><label for="siteBootSound" translate="SETTINGS_SITE_VALUES_BOOT_SOUND"></label></div></div></div></ng-form></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_SITE_SECTION_SERVICES"></div><ng-form name="siteSettingsCtrl.forms.mgmt1" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'mgmt\', { alert_enabled: true })"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_LABEL_AUTOMATIC_UPGRADE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableAutoUpgrade" id="siteEnableAutoUpgrade" ng-model="modelFormCtrl.modelCopy.attributes.auto_upgrade" ng-model-master="modelFormCtrl.model.attributes.auto_upgrade"><label for="siteEnableAutoUpgrade" translate="SETTINGS_SITE_VALUES_AUTOMATIC_UPGRADE"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_LABEL_ALERT_EMAILS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableAlerts" id="siteEnableAlerts" ng-model="modelFormCtrl.modelCopy.attributes.alert_enabled" ng-model-master="modelFormCtrl.model.attributes.alert_enabled"><label for="siteEnableAlerts" translate="SETTINGS_SITE_VALUES_ALERT_EMAILS"></label></div></div></div><div class="appRow" ng-if="siteSettingsCtrl.countryUtils.isOutdoorDfsRestrictedCountry()"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_LABEL_OUTDOOR_MODE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableOutdoorMode" id="siteEnableOutdoorMode" ng-model="modelFormCtrl.modelCopy.attributes.outdoor_mode_enabled" ng-model-master="modelFormCtrl.model.attributes.outdoor_mode_enabled"><label for="siteEnableOutdoorMode" translate="SETTINGS_SITE_VALUES_OUTDOOR_MODE"></label></div></div></div></ng-form><ng-form name="siteSettingsCtrl.forms.auto_speedtest" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'auto_speedtest\', { enabled: false, interval: 20 })"><div class="appRow"><div class="col--xs3"><label class="appLabel appLabel--primary appLabel--withBadge" translate="SETTINGS_SITE_LABEL_AUTO_SPEED_TEST"></label></div><div class="col--xs9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableAutoSpeedTest" id="siteEnableAutoSpeedTest" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="siteEnableAutoSpeedTest" translate="SETTINGS_SITE_VALUES_AUTO_SPEED_TEST"></label><input class="input--smallNumber" type="number" id="siteAutoSpeedTestInterval" name="siteAutoSpeedTestInterval" ng-model="modelFormCtrl.modelCopy.attributes.interval" ng-model-master="modelFormCtrl.model.attributes.interval" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" min="{{siteSettingsCtrl.SPEED_TEST_INTERVAL.MIN}}" max="{{siteSettingsCtrl.SPEED_TEST_INTERVAL.MAX}}"><label class="appLabel--boxInline" translate="DATETIME_HOURS_FULL" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.enabled}"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_SITE_VALUES_AUTO_SPEED_TEST_TOOLTIP" translate-values="{min: siteSettingsCtrl.SPEED_TEST_INTERVAL.MIN, max: siteSettingsCtrl.SPEED_TEST_INTERVAL.MAX}"></content></unifi-tooltip><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></div></div></ng-form><ng-form ng-if="siteSettingsCtrl.canRemapPort()" name="siteSettingsCtrl.forms.porta" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'porta\', { ugw3_wan2_enabled: false })"><div class="appRow"><div class="col--xs3"><label class="appLabel appLabel--primary appLabel--withBadge" translate="SETTINGS_SITE_LABEL_PORT_REMAP"></label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span></div><div class="col--xs9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnablePortRemap" id="siteEnablePortRemap" ng-model="modelFormCtrl.modelCopy.attributes.ugw3_wan2_enabled" ng-model-master="modelFormCtrl.model.attributes.ugw3_wan2_enabled"><label for="siteEnablePortRemap" translate="SETTINGS_SITE_VALUES_PORT_REMAP_UGW3"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></div></div></ng-form><ng-form name="siteSettingsCtrl.forms.connectivity" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'connectivity\', { enabled: true })"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_LABEL_UPLINK_CONNECTIVITY_MONITOR"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableConnectivityMonitor" id="siteEnableConnectivityMonitor" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled" ng-disabled="isConnectivityMonitorDisabled = !siteSettingsCtrl.canEnableConnectivityMonitor()"><label for="siteEnableConnectivityMonitor" translate="SETTINGS_SITE_VALUES_UPLINK_CONNECTIVITY_MONITOR"></label><unifi-tooltip class="type-large ubntTooltip--small" ng-if="isConnectivityMonitorDisabled"><prompt class="icon ubnt-icon--alert danger"></prompt><content translate="SETTINGS_SITE_TOOLTIP_UPLINK_CONNECTIVITY_MONITOR" translate-values="{maxWlans: siteSettingsCtrl.AP_GROUP_SETTINGS.MAX_WLANCONF_WITH_WIRELESS_UPLINK}"></content></unifi-tooltip></div><div class="appInputGroup verticalRhythmTop--condensed" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><ng-form name="siteSettingsCtrl.forms.element_adopt" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'element_adopt\', { enabled: true })"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="siteEnableElementAdopt" id="siteEnableElementAdopt" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="siteEnableElementAdopt" translate="SETTINGS_SITE_VALUES_UPLINK_ELEMENT_ADOPTION"></label></div></ng-form><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="siteConnectivityMonitorUplinkType" id="siteConnectivityMonitorUplinkDefaultGateway" value="gateway" ng-model="modelFormCtrl.modelCopy.attributes.uplink_type" ng-model-master="modelFormCtrl.model.attributes.uplink_type"><label for="siteConnectivityMonitorUplinkDefaultGateway" translate="SETTINGS_SITE_VALUES_UPLINK_DEFAULT_GATEWAY"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="siteConnectivityMonitorUplinkType" id="siteConnectivityMonitorUplinkCustomIp" value="custom" ng-model="modelFormCtrl.modelCopy.attributes.uplink_type" ng-model-master="modelFormCtrl.model.attributes.uplink_type"><label for="siteConnectivityMonitorUplinkCustomIp" translate="SETTINGS_SITE_VALUES_UPLINK_CUSTOM_IP"></label></div><input type="text" name="siteConnectivityMonitorUplinkCustomIp" placeholder="{{::\'SETTINGS_SITE_VALUES_UPLINK_CUSTOM_IP_PLACEHOLDER\' | translate}}" ng-model="modelFormCtrl.modelCopy.attributes.uplink_host" ng-model-master="modelFormCtrl.model.attributes.uplink_host" ng-model-master-cleanup="true" ng-disabled="modelFormCtrl.modelCopy.attributes.uplink_type !== \'custom\'" ng-required="modelFormCtrl.modelCopy.attributes.enabled &amp;&amp; modelFormCtrl.modelCopy.attributes.uplink_type === \'custom\'" ng-pattern="siteSettingsCtrl.patterns.ipAddress"></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="modelFormCtrl.modelCopy.attributes.enabled"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_SITE_INFO_BOX_UPLINK_CONNECTIVITY_MONITOR"></p></div></div></div></div></div><div class="appRow" ng-if="::(\'withOverrideSiteInformUrl\' | featureFlagEnable)"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_LABEL_INFORM_URL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="siteConnectivityOverrideInformUrl" id="siteConnectivityOverrideInformUrl" ng-model="modelFormCtrl.modelCopy.attributes.override_inform_url" ng-model-master="modelFormCtrl.model.attributes.override_inform_url" ng-change="siteSettingsCtrl.confirmOverrideInformUrl()"><label for="controllerOverrideInformHost" translate="SETTINGS_SITE_VALUES_OVERRIDE_INFORM_URL"></label><input type="text" name="siteConnectivityInformUrl" placeholder="{{\'SETTINGS_SITE_VALUES_INFORM_URL\' | translate}}" ng-model="modelFormCtrl.modelCopy.attributes.inform_url" ng-model-master="modelFormCtrl.model.attributes.inform_url" ng-model-master-cleanup="true" ng-required="modelFormCtrl.modelCopy.attributes.override_inform_url" ng-disabled="!modelFormCtrl.modelCopy.attributes.override_inform_url"></div></div></div></ng-form><ng-form name="siteSettingsCtrl.forms.rsyslogd" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'rsyslogd\')"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_LABEL_REMOTE_LOGGING"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="siteEnableRemoteSyslog" id="siteEnableRemoteSyslog" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="siteEnableRemoteSyslog" translate="SETTINGS_SITE_VALUES_REMOTE_LOGGING"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><input type="checkbox" name="siteEnableDebugLogging" id="siteEnableDebugLogging" ng-model="modelFormCtrl.modelCopy.attributes.debug"><label for="siteEnableDebugLogging" translate="SETTINGS_SITE_VALUES_REMOTE_LOGGING_DEBUG_LOGGING"></label></div></div><div class="appInputGroup" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><input type="checkbox" name="siteEnableLogThisController" id="siteEnableLogThisController" ng-model="modelFormCtrl.modelCopy.attributes.this_controller"><label for="siteEnableLogThisController" translate="SETTINGS_SITE_VALUES_REMOTE_LOGGING_THIS_CONTROLLER"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="modelFormCtrl.modelCopy.attributes.this_controller"><input type="checkbox" name="siteEnableLogThisControllerEncryptedOnly" id="siteEnableLogThisControllerEncryptedOnly" ng-model="modelFormCtrl.modelCopy.attributes.this_controller_encrypted_only"><label for="siteEnableLogThisControllerEncryptedOnly" translate="SETTINGS_SITE_VALUES_REMOTE_LOGGING_THIS_CONTROLLER_ENCRYPTED_ONLY"></label></div></div><div class="appInputGroup verticalRhythmTop--condensed verticalRhythm--condensed" ng-show="modelFormCtrl.modelCopy.attributes.enabled &amp;&amp; !modelFormCtrl.modelCopy.attributes.this_controller"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="siteRemoteLoggingIpAddress" translate="SETTINGS_SITE_LABEL_REMOTE_LOGGING_IP_OR_HOSTNAME"></label><input type="text" id="siteRemoteLoggingIpAddress" name="siteRemoteLoggingIpAddress" ng-model="modelFormCtrl.modelCopy.attributes.ip" ng-model-master="modelFormCtrl.model.attributes.ip" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled &amp;&amp; !modelFormCtrl.modelCopy.attributes.this_controller" ng-pattern="siteSettingsCtrl.patterns.hostname"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="siteRemoteLoggingPort" translate="SETTINGS_SITE_LABEL_REMOTE_LOGGING_PORT"></label><input type="text" id="siteRemoteLoggingPort" name="siteRemoteLoggingPort" size="5" placeholder="514" ng-model="modelFormCtrl.modelCopy.attributes.port" ng-model-master="modelFormCtrl.model.attributes.port" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled &amp;&amp; !modelFormCtrl.modelCopy.attributes.this_controller" ng-pattern="siteSettingsCtrl.patterns.portNumber"'+o("unifi-use-placeholder",!0,!0,!0)+'></div></div><div class="appInputGroup" ng-show="!modelFormCtrl.modelCopy.attributes.enabled || (modelFormCtrl.modelCopy.attributes.enabled &amp;&amp; !modelFormCtrl.modelCopy.attributes.this_controller)"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="siteEnableNetconsoleSyslog" id="siteEnableNetconsoleSyslog" ng-model="modelFormCtrl.modelCopy.attributes.netconsole_enabled" ng-model-master="modelFormCtrl.model.attributes.netconsole_enabled"><label for="siteEnableNetconsoleSyslog" translate="SETTINGS_SITE_VALUES_NETCONSOLE_LOGGING"></label></div></div><div class="appInputGroup verticalRhythmTop--condensed" ng-if="(!modelFormCtrl.modelCopy.attributes.enabled || (modelFormCtrl.modelCopy.attributes.enabled &amp;&amp; !modelFormCtrl.modelCopy.attributes.this_controller)) &amp;&amp; modelFormCtrl.modelCopy.attributes.netconsole_enabled"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="siteRemoteNetconsoleLoggingIpAddress" translate="SETTINGS_SITE_LABEL_REMOTE_LOGGING_IP_OR_HOSTNAME"></label><input type="text" id="siteRemoteNetconsoleLoggingIpAddress" name="siteRemoteNetconsoleLoggingIpAddress" ng-model="modelFormCtrl.modelCopy.attributes.netconsole_host" ng-model-master="modelFormCtrl.model.attributes.netconsole_host" ng-disabled="!modelFormCtrl.modelCopy.attributes.netconsole_enabled" ng-required="modelFormCtrl.modelCopy.attributes.netconsole_enabled" ng-pattern="siteSettingsCtrl.patterns.hostname"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="siteRemoteLoggingPort" translate="SETTINGS_SITE_LABEL_REMOTE_LOGGING_PORT"></label><input type="text" id="siteRemoteNetconsoleLoggingPort" name="siteRemoteNetconsoleLoggingPort" size="5" placeholder="514" ng-model="modelFormCtrl.modelCopy.attributes.netconsole_port" ng-model-master="modelFormCtrl.model.attributes.netconsole_port" ng-disabled="!modelFormCtrl.modelCopy.attributes.netconsole_enabled" ng-required="modelFormCtrl.modelCopy.attributes.netconsole_enabled" ng-pattern="siteSettingsCtrl.patterns.portNumber"'+o("unifi-use-placeholder",!0,!0,!0)+'></div></div></div></div></ng-form><ng-form ng-show="siteSettingsCtrl.settings.isAdvancedFeaturesEnabled()" name="siteSettingsCtrl.forms.usw" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'usw\', {            dhcp_snoop: true          })"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_LABEL_USW_DHCP_SNOOP"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="siteEnableUswDhcpSnoop" id="siteEnableUswDhcpSnoop" ng-model="modelFormCtrl.modelCopy.attributes.dhcp_snoop" ng-model-master="modelFormCtrl.model.attributes.dhcp_snoop"><label for="siteEnableUswDhcpSnoop" translate="SETTINGS_SITE_VALUES_USW_DHCP_SNOOP"></label></div></div></div></div></ng-form></div><div class="unifiSettingsSection"'+o("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="(\'enableOptimizeNetwork\' | featureFlagEnable)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_SITE_SECTION_AUTO_OPTIMIZE_NETWORK_HEADER"></div><ng-form name="siteSettingsCtrl.forms.network_optimization" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'network_optimization\', siteSettingsCtrl.NETWORK_OPTIMIZATION_SETTINGS.ONE_CLICK_FORM_DEFAULTS)"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxInline" translate="SETTINGS_SITE_LABEL_AUTO_OPTIMIZE_NETWORK_ENABLE" for="siteNetworkOptimizationEnable"></label></div><div class="col--sm7"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle appToggle--inline" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="siteNetworkOptimizationEnable" id="siteNetworkOptimizationEnable" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="siteNetworkOptimizationEnable"></label></div><div class="appInfoBox appInfoBox-- appInfoBox--cozy verticalRhythmTop--cozy" ng-if="modelFormCtrl.modelCopy.attributes.enabled" ng-class="{\'appInfoBox--dark\': siteSettingsCtrl.preferences.model.isSettingsDark()}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p translate="SETTINGS_SITE_TOOLTIP_AUTO_OPTIMIZE_NETWORK_HEADER"></p><ul class="ml-8 mb-0"><li class="mb-2" ng-if="::(\'enableAutoOptimizeNo2ghz\' | featureFlagEnable)"><span translate="SETTINGS_SITE_TOOLTIP_AUTO_OPTIMIZE_NETWORK_LIST_BLOCK_2GHZ"></span><span class="appBadge appBadge--warning ml-2" translate="COMMON_BETA"></span></li><li class="mb-2"><span translate="SETTINGS_SITE_TOOLTIP_AUTO_OPTIMIZE_NETWORK_LIST_BLOCK_BROADCAST_TRAFFIC"></span></li><li class="mb-2"><span translate="SETTINGS_SITE_TOOLTIP_AUTO_OPTIMIZE_NETWORK_LIST_BLOCK_ARP_TIMEOUT"></span></li></ul><p class="mb-0" translate="SETTINGS_SITE_TOOLTIP_AUTO_OPTIMIZE_NETWORK_FOOTER"></p></div></div></div></div></div></div></ng-form></div><div class="unifiSettingsSection" ng-show="siteSettingsCtrl.setVisibility(\'showDeviceAuthentication\', siteSettingsCtrl.settings.isAdvancedFeaturesEnabled() &amp;&amp; siteSettingsCtrl.isAdmin())"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_SITE_SECTION_DEVICE_AUTHENTICATION"></div><div class="appRow"><div class="col--sm12"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_SECTION_DEVICE_AUTHENTICATION_DESCRIPTION"></label></div></div><ng-form name="siteSettingsCtrl.forms.mgmt2" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'mgmt\', {x_ssh_keys: []})"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH"></label></div><div class="col--sm9 appFormGroup"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="siteEnableSshAuthentication" id="siteEnableSshAuthentication" ng-model="modelFormCtrl.modelCopy.attributes.x_ssh_enabled" ng-model-master="modelFormCtrl.model.attributes.x_ssh_enabled"><label for="siteEnableSshAuthentication" translate="SETTINGS_SITE_VALUES_DEVICE_AUTHENTICATION_SSH"></label></div></div><div class="appInputGroup verticalRhythmTop--condensed" ng-show="siteSettingsCtrl.setVisibility(\'showSshConfiguration\', modelFormCtrl.modelCopy.attributes.x_ssh_enabled &amp;&amp; siteSettingsCtrl.getVisibility(\'showDeviceAuthentication\'))"><div class="appInputGroup appInputGroup--cozy inlineBlock verticalAlign--top"><label class="appLabel--boxInline" for="siteDeviceAuthenticationUsername" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_USERNAME"></label><input type="text" id="siteDeviceAuthenticationUsername" name="siteDeviceAuthenticationU" ng-model="modelFormCtrl.modelCopy.attributes.x_ssh_username" ng-model-master="modelFormCtrl.model.attributes.x_ssh_username" ng-pattern="siteSettingsCtrl.patterns.deviceAccountName" ng-disabled="!siteSettingsCtrl.getVisibility(\'showSshConfiguration\')" ng-required="siteSettingsCtrl.getVisibility(\'showSshConfiguration\')" ng-maxlength="siteSettingsCtrl.CREDENTIALS_SETTINGS.MAX_SSH_USERNAME_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="siteSettingsCtrl.forms.mgmt2.siteDeviceAuthenticationU.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{ max: siteSettingsCtrl.CREDENTIALS_SETTINGS.MAX_SSH_USERNAME_LENGTH }"></div></div><div class="appInputGroup appInputGroup--cozy inlineBlock verticalAlign--top"><label class="appLabel--boxInline" for="siteDeviceAuthenticationPassword" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_PASSWORD"></label><unifi-password-reveal><input type="password" autocomplete="new-password" id="siteDeviceAuthenticationPassword" name="siteDeviceAuthenticationP" ng-model="modelFormCtrl.modelCopy.attributes.x_ssh_password" ng-model-master="modelFormCtrl.model.attributes.x_ssh_password" ng-disabled="!siteSettingsCtrl.getVisibility(\'showSshConfiguration\')" ng-required="siteSettingsCtrl.getVisibility(\'showSshConfiguration\')" ng-maxlength="siteSettingsCtrl.CREDENTIALS_SETTINGS.MAX_SSH_PASSWORD_LENGTH"></unifi-password-reveal><div class="appInputFeedback appInputFeedback--danger" ng-show="siteSettingsCtrl.forms.mgmt2.siteDeviceAuthenticationP.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{ max: siteSettingsCtrl.CREDENTIALS_SETTINGS.MAX_SSH_PASSWORD_LENGTH }"></div></div><div class="appInputHelp" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_DESC"></div></div></div></div><div class="appRow" ng-if="siteSettingsCtrl.getVisibility(\'showSshConfiguration\')"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH_KEYS"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy noMarginBottom"><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm--cozy" ng-if="!modelFormCtrl.modelCopy.attributes.x_ssh_keys.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_SITE_INFO_BOX_SSH_KEYS_EMPTY"></p></div></div></div><table class="appTable appTable--noWrap appTable--flexible verticalRhythm--condensed" id="adminSshKeys"><tbody><tr ng-repeat="sshKey in modelFormCtrl.modelCopy.attributes.x_ssh_keys track by $index"><td class="unifiSettingsAdminSshKeysTable__status"><span class="icon ubnt-icon--key unifiSshKeyIcon" ng-class="{\'unifiSshKeyIcon--active\': !!sshKey.fingerprint}"></span></td><td><div class="verticalRhythm--cozy"><h5 class="verticalRhythm--condensed" ng-class="{\'appType--darkImportant\': siteSettingsCtrl.preferences.model.isSettingsDark()}">{{::sshKey.name}}</h5><div class="verticalRhythm--condensed"><strong class="withColon" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH_KEY_ADDED"></strong><span ng-if="sshKey.date" ng-class="{\'appType--darkImportant\': siteSettingsCtrl.preferences.model.isSettingsDark()}"> {{::sshKey.date | moment: \'fromNow\'}}</span><span ng-if="!sshKey.date" ng-class="{\'appType--darkImportant\': siteSettingsCtrl.preferences.model.isSettingsDark()}" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH_KEY_NOT_SAVED_YET"></span></div><div><strong class="withColon" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH_KEY_FINGERPRINT"></strong><span ng-if="sshKey.fingerprint" ng-class="{\'appType--darkImportant\': siteSettingsCtrl.preferences.model.isSettingsDark()}"> {{::sshKey.fingerprint}}</span><span ng-if="!sshKey.fingerprint" ng-class="{\'appType--darkImportant\': siteSettingsCtrl.preferences.model.isSettingsDark()}" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH_KEY_APPLY_FOR_FINGERPRINT"></span></div></div></td><td class="appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" title="{{::\'COMMON_ACTIONS_DELETE\' | translate}}" ng-click="siteSettingsCtrl.removeSshKey($index)" ng-disabled="siteSettingsCtrl.isReadOnly"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInputGroup" ng-if="!siteSettingsCtrl.isReadOnly"><button class="appMainButton appMainButton--primary appMainButton--condensed addRestrictedSubnet" type="button" ng-click="siteSettingsCtrl.addSshKey()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_SITE_ACTIONS_ADD_NEW_SSH_KEY"></span></button></div></div></div></ng-form></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+o("unifi-if-role-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="siteSettingsCtrl.showValidation = true" busy-toggle="siteSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" translate="COMMON_ACTIONS_APPLY_CHANGES"></button><button class="appMainButton appMainButton--transparent" type="button" ng-click="siteSettingsCtrl.reset()" ng-disabled="siteSettingsCtrl.form.$pristine" translate="COMMON_ACTIONS_RESET"></button></div><div class="appFormFooter__right"><button class="appMainButton" type="button" ng-if="siteSettingsCtrl.isSuperAdmin()" ng-click="siteSettingsCtrl.exportSite()" busy-toggle="siteSettingsCtrl.isExporting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" translate="SETTINGS_SITE_ACTIONS_EXPORT"></button><button class="appMainButton appMainButton--danger" type="button" ng-if="siteSettingsCtrl.canDeleteSite()" ng-click="siteSettingsCtrl.deleteSite()" busy-toggle="siteSettingsCtrl.isDeleting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" translate="SETTINGS_SITE_ACTIONS_DELETE"></button></div></div></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],227:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("SnmpSettingsController",["BaseSettingsController","REGEX_PATTERNS","SNMP_SETTINGS",function(t,e,n){return new(function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(c,t);var s,l,p,u=a(c);function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this)).SNMP_SETTINGS=n,t.settingsSectionTranslationKey="SETTINGS_SERVICES_TAB_SNMP",t.settingsSectionTranslationKeys={snmp:"SETTINGS_SERVICES_TAB_SNMP"},t.patterns={snmpv3Username:e.SNMPV3_USERNAME,snmpv3Password:e.SNMPV3_PASSWORD},t}return s=c,(l=[{key:"save",value:function(){var t=this;this.isSubmitting=!0;var e=this.forms.snmp.modelCopy.attributes;e.enabled||delete e.community,e.enabledV3||(delete e.username,delete e.x_password);var n=[this.saveSection(this.getSettingFromKey("snmp"),e,"snmp")];return this.afterSave(n).finally(function(){t.isSubmitting=!1})}}])&&i(s.prototype,l),p&&i(s,p),c}())}])},{}],228:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiSnmpSettings",{controller:"SnmpSettingsController",controllerAs:"snmpSettingsCtrl",template:t("./snmpSettings.pug")()})},{"./snmpSettings.pug":229}],229:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="snmpSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="snmpSettingsCtrl.form" ng-class="{      \'is-form-validation-visible\': snmpSettingsCtrl.showValidation,      \'is-validation-hidden\': !snmpSettingsCtrl.showValidation    }" ng-submit="snmpSettingsCtrl.form.$valid &amp;&amp; snmpSettingsCtrl.save()" unifi-disable-coming-soon="\'servicesSnmp\'"><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!snmpSettingsCtrl.isAdmin()"><unifi-config-changed unifi-config-changed-on-reset="snmpSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="snmpSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="snmpSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><div class="unifiSettingsSection noMarginTop"><ng-form name="snmpSettingsCtrl.forms.snmp" unifi-model-form="snmpSettingsCtrl.getSettingFromKey(\'snmp\')"><fieldset class="appFieldset appFieldset--quiet"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone verticalRhythmTop--cozy" translate="SETTINGS_SNMP_SECTION_VERSION_1_2C"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" for="snmpEnable" translate="SETTINGS_SNMP_LABEL_ENABLE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="snmpEnable" id="snmpEnable" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="snmpEnable"></label></div></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" for="snmpCommunityString" translate="SETTINGS_SNMP_LABEL_COMMUNITY_STRING"></label></div><div class="col--sm5 col--xs10 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="snmpCommunityString" id="snmpCommunityString" ng-model="modelFormCtrl.modelCopy.attributes.community" ng-model-master="modelFormCtrl.model.attributes.community" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-maxlength="snmpSettingsCtrl.SNMP_SETTINGS.MAX_COMMUNITY_LENGTH" ng-attr-placeholder="{{\'SETTINGS_SNMP_PLACEHOLDER_COMMUNITY_STRING\' | translate}}"'+o("unifi-use-placeholder",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="snmpSettingsCtrl.forms.snmp.snmpCommunityString.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: snmpSettingsCtrl.SNMP_SETTINGS.MAX_COMMUNITY_LENGTH}"></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone verticalRhythmTop--cozy" translate="SETTINGS_SNMP_SECTION_VERSION_3"></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" for="snmpEnableV3" translate="SETTINGS_SNMP_LABEL_ENABLE_V3"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="snmpEnableV3" id="snmpEnableV3" ng-model="modelFormCtrl.modelCopy.attributes.enabledV3" ng-model-master="modelFormCtrl.model.attributes.enabledV3"><label for="snmpEnableV3"></label></div></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="modelFormCtrl.modelCopy.attributes.enabledV3"><div class="appRow"><div class="col--sm3"></div><div class="col--sm5 col--xs10 appFormGroup appFormGroup--cozy"><span translate="SETTINGS_SNMP_DESC_V3_USE"></span></div></div><div class="appRow"><div class="col--sm5 col--smOffset3"><unifi-notify-firmware-requirement class="mb-3" unifi-notify-firmware-requirement-firmware-caps="[\'SNMPV3\']"></unifi-notify-firmware-requirement></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" for="snmpUsername" translate="SETTINGS_SNMP_LABEL_USERNAME"></label></div><div class="col--sm5 col--xs10 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="snmpU" id="snmpUsername" ng-model="modelFormCtrl.modelCopy.attributes.username" ng-model-master="modelFormCtrl.model.attributes.username" ng-maxlength="snmpSettingsCtrl.SNMP_SETTINGS.MAX_USERNAME_LENGTH" ng-required="modelFormCtrl.modelCopy.attributes.enabledV3" ng-pattern="snmpSettingsCtrl.patterns.snmpv3Username"><div class="appInputFeedback appInputFeedback--danger" ng-show="snmpSettingsCtrl.forms.snmp.snmpU.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: snmpSettingsCtrl.SNMP_SETTINGS.MAX_USERNAME_LENGTH}"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="snmpSettingsCtrl.forms.snmp.snmpU.$error.pattern" translate="VALIDATION_HINT_ALPHANUMERIC_DASHES"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" for="snmpPassword" translate="SETTINGS_SNMP_LABEL_PASSWORD"></label></div><div class="col--sm5 col--xs10 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" autocomplete="new-password" name="snmpP" id="snmpPassword" ng-model="modelFormCtrl.modelCopy.attributes.x_password" ng-model-master="modelFormCtrl.model.attributes.x_password" ng-minlength="snmpSettingsCtrl.SNMP_SETTINGS.MIN_PASSWORD_LENGTH" ng-maxlength="snmpSettingsCtrl.SNMP_SETTINGS.MAX_PASSWORD_LENGTH" ng-required="modelFormCtrl.modelCopy.attributes.enabledV3" ng-pattern="snmpSettingsCtrl.patterns.snmpv3Password"></unifi-password-reveal><div class="appInputFeedback appInputFeedback--danger" ng-show="snmpSettingsCtrl.forms.snmp.snmpP.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: snmpSettingsCtrl.SNMP_SETTINGS.MAX_PASSWORD_LENGTH}"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="snmpSettingsCtrl.forms.snmp.snmpP.$error.minlength" translate="VALIDATION_HINT_MIN_LENGTH" translate-values="{min: snmpSettingsCtrl.SNMP_SETTINGS.MIN_PASSWORD_LENGTH}"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="snmpSettingsCtrl.forms.snmp.snmpP.$error.pattern" translate="SETTINGS_SNMP_VALIDATION_HINT_PASSWORD"></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet"><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+o("unifi-if-role-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="snmpSettingsCtrl.showValidation = true" busy-toggle="snmpSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner\', \'appSpinner--light\', \'appSpinner--centered\', \'appSpinner--small\']" translate="COMMON_ACTIONS_APPLY_CHANGES"></button><button class="appMainButton appMainButton--transparent" type="button" ng-click="snmpSettingsCtrl.reset()" ng-disabled="snmpSettingsCtrl.form.$pristine" translate="COMMON_ACTIONS_RESET"></button></div></div></div></div></fieldset></ng-form></div></fieldset></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],230:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("UpnpSettingsController",["$q","BaseSettingsController","gatewayUtils","networks","networkUtils",function(t,e,n,o,s){return new(function(l){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(m,e);var p,u,c,d=a(m);function m(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),(t=d.call(this)).hasSiteGateway=n.hasSiteGateway.bind(n),t.settingsSectionTranslationKey="SETTINGS_SERVICES_TAB_UPNP",t.settingsSectionTranslationKeys={usg:"SETTINGS_SERVICES_TAB_UPNP"},t.hasSiteGateway()&&(t.wanNetworkGroups=n.getWanNetworkGroups(n.getSiteGateway())),t}return p=m,(u=[{key:"getUpnpNetworks",value:function(){return o.repository.collection.models.filter(function(t){var e=t.get("purpose");return-1!==["corporate","guest"].indexOf(e)})}},{key:"save",value:function(){var e=this,n=[];this.isSubmitting=!0,angular.forEach(["usg"],function(t){n.push(e.saveSection(e.getSettingFromKey(t),e.forms[t].modelCopy.attributes,t))});var o=!this.forms.usg.modelCopy.attributes.upnp_enabled;return this.getUpnpNetworks().map(function(n){var i=e.forms.networks[n.id],r=i&&i.modelCopy.attributes||{};return o&&(r.upnp_lan_enabled=!1),n.get("upnp_lan_enabled")!==r.upnp_lan_enabled?s.saveNetwork(n,r):t.when()}),this.afterSave(n).finally(function(){e.isSubmitting=!1})}},{key:"onUpnpEnable",value:function(){var t=this.forms.usg.modelCopy;if(t.get("upnp_enabled")&&!this.onUpnpEnableExecuted){t.set("upnp_wan_interface",this.wanNetworkGroups&&this.wanNetworkGroups.length?this.wanNetworkGroups[0].value:void 0),t.set("upnp_nat_pmp_enabled",!0),t.set("upnp_secure_mode",!0);var e=this.forms.networks;Object.keys(e).forEach(function(t){e[t].modelCopy.set("upnp_lan_enabled",!0)})}this.onUpnpEnableExecuted=!0}}])&&i(p.prototype,u),c&&i(p,c),m}())}])},{}],231:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiUpnpSettings",{controller:"UpnpSettingsController",controllerAs:"upnpSettingsCtrl",template:t("./upnpSettings.pug")()})},{"./upnpSettings.pug":232}],232:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="upnpSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-security-gateway-is-required ng-if="!upnpSettingsCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_UPNP_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="upnpSettingsCtrl.form" ng-class="{      \'is-form-validation-visible\': upnpSettingsCtrl.showValidation,      \'is-validation-hidden\': !upnpSettingsCtrl.showValidation    }" ng-submit="upnpSettingsCtrl.form.$valid &amp;&amp; upnpSettingsCtrl.save()" ng-if="upnpSettingsCtrl.hasSiteGateway()" unifi-disable-coming-soon="\'servicesUpnp\'"><unifi-config-changed unifi-config-changed-on-reset="upnpSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="upnpSettingsCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="upnpSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!upnpSettingsCtrl.isAdmin()"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_UPNP_SECTION_CONFIGURATION"></div><ng-form name="upnpSettingsCtrl.forms.usg" unifi-model-form="upnpSettingsCtrl.getSettingFromKey(\'usg\')"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" for="upnpEnable" translate="SETTINGS_UPNP_LABEL_ENABLE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="upnpEnable" id="upnpEnable" ng-model="modelFormCtrl.modelCopy.attributes.upnp_enabled" ng-model-master="modelFormCtrl.model.attributes.upnp_enabled" ng-change="upnpSettingsCtrl.onUpnpEnable()"><label for="upnpEnable"></label></div><div class="appInputFeedback appInputFeedback--danger" ng-if="upnpSettingsCtrl.forms.usg.upnpEnable.$invalid" translate="SETTINGS_UPNP_VALIDATION_REQUIRED"></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.upnp_enabled"><div class="col--sm3"><label class="appLabel appLabel--primary" for="wanInterface" translate="SETTINGS_UPNP_LABEL_WAN_NETWORK_GROUP"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="networkgroup in upnpSettingsCtrl.wanNetworkGroups"><input type="radio" name="wanNetworkgroup" id="{{\'wanNetworkgroup\' + networkgroup.value}}" value="{{networkgroup.value}}" ng-model="modelFormCtrl.modelCopy.attributes.upnp_wan_interface" ng-model-master="modelFormCtrl.model.attributes.upnp_wan_interface" ng-required="modelFormCtrl.modelCopy.attributes.upnp_enabled"><label for="{{\'wanNetworkgroup\' + networkgroup.value}}">{{networkgroup.label}}</label></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.upnp_enabled"><div class="col--sm3"><label class="appLabel appLabel--primary" for="ntpPmpEnable" translate="SETTINGS_UPNP_LABEL_NAT_PMP_ENABLE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="ntpPmpEnable" id="ntpPmpEnable" ng-model="modelFormCtrl.modelCopy.attributes.upnp_nat_pmp_enabled" ng-model-master="modelFormCtrl.model.attributes.upnp_nat_pmp_enabled"><label for="ntpPmpEnable"></label></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.upnp_enabled"><div class="col--sm3"><label class="appLabel appLabel--primary" for="secureModeEnable" translate="SETTINGS_UPNP_LABEL_SECURE_MODE_ENABLE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="secureModeEnable" id="secureModeEnable" ng-model="modelFormCtrl.modelCopy.attributes.upnp_secure_mode" ng-model-master="modelFormCtrl.model.attributes.upnp_secure_mode"><label for="secureModeEnable"></label></div></div></div></div><div ng-show="modelFormCtrl.modelCopy.attributes.upnp_enabled"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_UPNP_SECTION_NETWORKS"></div><ng-form ng-repeat="network in upnpSettingsCtrl.getUpnpNetworks()" name="upnpSettingsCtrl.forms.networks[network.id]" unifi-model-form="network"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" for="network_{{network.id}}">{{network.get(\'name\')}}</label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="network_{{network.id}}" id="network_{{network.id}}" ng-model="modelFormCtrl.modelCopy.attributes.upnp_lan_enabled" ng-model-master="modelFormCtrl.model.attributes.upnp_lan_enabled"><label for="network_{{network.id}}"></label></div></div></div></div></ng-form></div><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+o("unifi-if-role-admin",!0,!0,!0)+'><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="upnpSettingsCtrl.showValidation = true" busy-toggle="upnpSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--transparent" type="button" ng-click="upnpSettingsCtrl.reset()" ng-disabled="upnpSettingsCtrl.form.$pristine">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></div></div></ng-form></div></fieldset></form></div>'};var i=/["&<>]/},{"pug-runtime":2}],233:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return l(t)}(this,n)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("UserGroupFormController",["$translate","heyToasts","userGroups","BaseFormController","apiResults","REGEX_PATTERNS","UI",function(t,e,n,o,c,d,m){return new(function(f){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(v,o);var _,g,S,b=s(v);function v(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return u(l(t=b.call.apply(b,[this].concat(n))),"UI",m),u(l(t),"patterns",{name:d.NAME}),t}return _=v,(g=[{key:"save",value:function(){var o=this;this.isSubmitting=!0;var i=angular.extend({},this.modelCopy.attributes,{qos_rate_max_down:this.isDownloadLimited?this.maxDownloadRate:-1,qos_rate_max_up:this.isUploadLimited?this.maxUploadRate:-1});return this.model.save(i,{wait:!0}).then(function(){return e.pushSuccess(t.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:t.instant("SETTINGS_NAV_USER_GROUPS").toLowerCase()})),n.repository.collection.add(o.model,{merge:!0}),o.reset(),!0}).catch(function(n){return e.pushError(c.appendErrorMsg(t.instant("COMMON_NOTICE_SAVE_ERROR",{section:t.instant("SETTINGS_NAV_USER_GROUPS").toLowerCase()}),n)),!1}).finally(function(){o.isSubmitting=!1})}},{key:"setDefaultAttrs",value:function(t){var e=t?"Master":"";this["isDownloadLimited"+e]=!(!this.model||-1===this.model.get("qos_rate_max_down")),this["isUploadLimited"+e]=!(!this.model||-1===this.model.get("qos_rate_max_up")),this["maxDownloadRate"+e]=this.model&&-1!==this.model.get("qos_rate_max_down")?this.model.get("qos_rate_max_down"):2,this["maxUploadRate"+e]=this.model&&-1!==this.model.get("qos_rate_max_up")?this.model.get("qos_rate_max_up"):2}},{key:"onModelChange",value:function(){this.setDefaultAttrs(!0)}},{key:"reset",value:function(){r(p(v.prototype),"reset",this).call(this),this.setDefaultAttrs(!1)}}])&&i(_.prototype,g),S&&i(_,S),v}())}])},{}],234:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiUserGroupForm",["SimpleFormDirective",function(e){return new e("userGroup",t("./userGroupForm.pug")())}])},{"./userGroupForm.pug":235}],235:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="userGroupFormCtrl.form" ng-class="{    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': userGroupFormCtrl.showValidation,    \'is-validation-hidden\': !userGroupFormCtrl.showValidation  }" ng-submit="userGroupFormCtrl.form.$valid &amp;&amp; userGroupFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="userGroupFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="userGroupFormCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="userGroupFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+o("translate",!0,!0,!0)+' translate-values="{userGroupName: userGroupFormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_USER_GROUP_SECTION_VIEW\' : (userGroupFormCtrl.model.id ? \'SETTINGS_USER_GROUP_SECTION_EDIT\' : \'SETTINGS_USER_GROUP_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_USER_GROUP_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="userGroupName" ng-model="userGroupFormCtrl.modelCopy.attributes.name" ng-model-master="userGroupFormCtrl.model.attributes.name" ng-pattern="userGroupFormCtrl.patterns.accountName" ng-maxlength="userGroupFormCtrl.UI.MAX_NAME_LENGTH"'+o("required",!0,!0,!0)+'></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_USER_GROUP_LABEL_BANDWIDTH_LIMIT_DOWN"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="userGroupEnableLimitBandwidthDown" id="userGroupEnableLimitBandwidthDown" ng-model="userGroupFormCtrl.isDownloadLimited" ng-model-master="userGroupFormCtrl.isDownloadLimitedMaster"><label for="userGroupEnableLimitBandwidthDown" translate="SETTINGS_USER_GROUP_VALUES_BANDWIDTH_LIMIT_DOWN"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="userGroupLimitBandwidthDownSize" translate="SETTINGS_USER_GROUP_LABEL_LIMITED_TO" ng-class="{\'is-label-disabled\': !userGroupFormCtrl.isDownloadLimited}"></label><div class="inlineBlock"><unifi-binary-input id="userGroupLimitBandwidthDownSize" ng-model="userGroupFormCtrl.maxDownloadRate" ng-model-master="userGroupFormCtrl.maxDownloadRateMaster" unifi-binary-input-suffix="\'COMMON_UNIT_BPS\' | translate" unifi-binary-input-base-prefix="\'K\'" unifi-binary-input-standard="\'SI\'" unifi-binary-input-allowed-prefixes="[\'K\', \'M\']" unifi-binary-input-min="\'2\'" unifi-binary-input-max="\'100000\'" ng-disabled="!userGroupFormCtrl.isDownloadLimited" ng-required="userGroupFormCtrl.isDownloadLimited"></unifi-binary-input></div><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_USER_GROUP_VALUES_BANDWIDTH_LIMIT_DOWN_MAX"></content></unifi-tooltip></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_USER_GROUP_LABEL_BANDWIDTH_LIMIT_UP"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="userGroupEnableLimitBandwidthUp" id="userGroupEnableLimitBandwidthUp" ng-model="userGroupFormCtrl.isUploadLimited" ng-model-master="userGroupFormCtrl.isUploadLimitedMaster"><label for="userGroupEnableLimitBandwidthUp" translate="SETTINGS_USER_GROUP_VALUES_BANDWIDTH_LIMIT_UP"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="userGroupLimitBandwidthUpSize" translate="SETTINGS_USER_GROUP_LABEL_LIMITED_TO" ng-class="{\'is-label-disabled\': !userGroupFormCtrl.isUploadLimited}"></label><div class="inlineBlock"><unifi-binary-input id="userGroupLimitBandwidthUpSize" ng-model="userGroupFormCtrl.maxUploadRate" ng-model-master="userGroupFormCtrl.maxUploadRateMaster" unifi-binary-input-suffix="\'COMMON_UNIT_BPS\' | translate" unifi-binary-input-base-prefix="\'K\'" unifi-binary-input-standard="\'SI\'" unifi-binary-input-allowed-prefixes="[\'K\', \'M\']" unifi-binary-input-min="\'2\'" unifi-binary-input-max="\'100000\'" ng-disabled="!userGroupFormCtrl.isUploadLimited" ng-required="userGroupFormCtrl.isUploadLimited"></unifi-binary-input></div><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_USER_GROUP_VALUES_BANDWIDTH_LIMIT_UP_MAX"></content></unifi-tooltip></div></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveUserGroup" ng-if="!isReadOnly" ng-click="userGroupFormCtrl.showValidation = true" busy-toggle="userGroupFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--transparent cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button></div></div></form>'};var i=/["&<>]/},{"pug-runtime":2}],236:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("UserGroupListController",["$translate","apiResults","heyToasts","frame","BaseListController","userGroups",function(t,e,n,o,l,u){return new(function(c){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(g,l);var d,m,f,_=a(g);function g(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return p(s(t=_.call.apply(_,[this].concat(n))),"defaultSortBy","name"),p(s(t),"isRemoving",{}),t}return d=g,(m=[{key:"getCollection",value:function(){return u.repository.collection}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}},{key:"remove",value:function(i){var r=this;return o.show("confirm",{title:function(){return t.instant("SETTINGS_USER_GROUP_DELETE_CONFIRM_TITLE",{userGroupName:i.get("name")})},message:function(){return t.instant("SETTINGS_USER_GROUP_DELETE_CONFIRM_MESSAGE",{userGroupName:i.get("name")})},options:angular.noop}).then(function(){return r.isRemoving[i.id]=!0,i.destroy({wait:!0}).then(function(){return n.pushSuccess(t.instant("SETTINGS_USER_GROUP_DELETE_SUCCESS",{userGroupName:i.get("name")})),!0}).catch(function(o){return n.pushError(e.appendErrorMsg(t.instant("SETTINGS_USER_GROUP_DELETE_ERROR",{userGroupName:i.get("name")}),o)),!1}).finally(function(){r.isRemoving[i.id]=!1})})}}])&&i(d.prototype,m),f&&i(d,f),g}())}])},{}],237:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiUserGroupList",["ListDirective",function(e){return new e("userGroup",t("./userGroupList.pug")(),{onEdit:"&unifiUserGroupListOnEdit"})}])},{"./userGroupList.pug":238}],238:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div><table class="verticalRhythmTop--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="userGroupsTable" collection-view-sort="userGroupListCtrl.view"><thead><tr><th class="userGroupName" collection-view-sort-by="name"><span translate="SETTINGS_USER_GROUP_TABLE_HEADER_NAME"></span></th><th class="userGroupBandwidthDown" collection-view-sort-by="qos_rate_max_down"><span translate="SETTINGS_USER_GROUP_TABLE_HEADER_BANDWIDTH_LIMIT_DOWN"></span></th><th class="userGroupBandwidthUp" collection-view-sort-by="qos_rate_max_up"><span translate="SETTINGS_USER_GROUP_TABLE_HEADER_BANDWIDTH_LIMIT_UP"></span></th><th class="userGroupActions"><span translate="SETTINGS_USER_GROUP_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in userGroupListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="userGroupName">{{::model.get(\'name\')}}</td><td class="userGroupBandwidthDown">{{::model.get(\'qos_rate_max_down\') === -1 ? (\'SETTINGS_USER_GROUP_TABLE_FLAGS_UNLIMITED\' | translate) : (model.get(\'qos_rate_max_down\') * 1000 | bps:{isSi:true})}}</td><td class="userGroupBandwidthUp">{{::model.get(\'qos_rate_max_up\') === -1 ? (\'SETTINGS_USER_GROUP_TABLE_FLAGS_UNLIMITED\' | translate) : (model.get(\'qos_rate_max_up\') * 1000 | bps:{isSi:true})}}</td><td class="userGroupActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-click="userGroupListCtrl.edit(model)" ng-disabled="userGroupListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="userGroupListCtrl.edit(model)" ng-disabled="userGroupListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+o("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="!model.get(\'attr_no_delete\')" ng-click="userGroupListCtrl.remove(model)" ng-disabled="userGroupListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!userGroupListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_USER_GROUP_TABLE_EMPTY"></p></div></div></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],239:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return a(t)}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("UserGroupsController",["BaseListAndFormController","userGroups","missingModelControllerMixin",function(t,e,n){return new(function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(l,t);var s=r(l);function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this)).collection=e.repository.collection,n(a(t)),t}return l}())}])},{}],240:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiUserGroups",{controller:"UserGroupsController",controllerAs:"userGroupsCtrl",template:t("./userGroups.pug")()})},{"./userGroups.pug":241}],241:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="userGroupSettings"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_USER_GROUPS"></div></div><div ng-switch="userGroupsCtrl.view"><div ng-switch-when="form" unifi-user-group-form="userGroupsCtrl.model" unifi-user-group-form-on-save="userGroupsCtrl.list()" unifi-user-group-form-on-cancel="userGroupsCtrl.list()" unifi-user-group-form-is-read-only="!userGroupsCtrl.isAdmin()"></div><div ng-switch-when="list"><unifi-user-group-list unifi-user-group-list-on-edit="userGroupsCtrl.edit(model)"></unifi-user-group-list><div class="unifiSettingsFooter"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="userGroupsCtrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_USER_GROUP_BUTTON_ADD"></span></button></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],242:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return u(t)}(this,n)}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("WirelessNetworkFormController",["_","$state","$translate","account","apGroups","apiResults","BaseFormController","devices","frame","gatewayUtils","heyToasts","hotspot2","modelUtils","networks","preferences","regexUtils","settings","userGroups","wirelessNetworks","wlanCapabilities","AP_GROUP_SETTINGS","REGEX_PATTERNS","URLS","WLAN_BANDS","WLAN_MINRATE_SETTINGS","WLAN_SECURITY_TYPES","WLAN_SETTINGS",function(t,e,n,o,r,m,f,_,g,S,b,v,y,T,E,C,I,h,N,w,L,A,O,G,R,F,k){return new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(B,f);var e,o,P,M=p(B);function B(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,B);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return d(u(t=M.call.apply(M,[this].concat(n))),"userGroups",h),d(u(t),"preferences",E),d(u(t),"settings",I),d(u(t),"MINRATE_SETTINGS",R),d(u(t),"wlanCapabilities",w),d(u(t),"WLAN_SETTINGS",k),d(u(t),"WLAN_SECURITY_TYPES",F),d(u(t),"WLAN_BANDS",G),d(u(t),"URLS",O),d(u(t),"wpaModeOptions",{auto:"SETTINGS_WLAN_VALUES_BOTH",wpa1:"SETTINGS_WLAN_VALUES_WPA1_ONLY",wpa2:"SETTINGS_WLAN_VALUES_WPA2_ONLY"}),d(u(t),"encryptionOptions",{auto:"SETTINGS_WLAN_VALUES_RSN_AUTO",none:"SETTINGS_WLAN_VALUES_RSN_NONE",ccmp:"SETTINGS_WLAN_VALUES_RSN_CCMP",gcmp:"SETTINGS_WLAN_VALUES_RSN_GCMP","ccmp-256":"SETTINGS_WLAN_VALUES_RSN_CCMP_256","gcmp-256":"SETTINGS_WLAN_VALUES_RSN_GCMP_256"}),d(u(t),"pmfCryptOptions",{auto:"SETTINGS_WLAN_VALUES_PMF_CRYPT_AUTO","aes-128-cmac":"SETTINGS_WLAN_VALUES_PMF_CRYPT_AES128","bip-gmac-256":"SETTINGS_WLAN_VALUES_PMF_CRYPT_GCMP256"}),d(u(t),"minrateSliderLabel",{ng:"SETTINGS_WLAN_LABEL_MINRATE_NG_MODE",na:"SETTINGS_WLAN_LABEL_MINRATE_NA_MODE",enabled_ng:"SETTINGS_WLAN_VALUES_MINRATE_NG_ENABLED_LABEL",enabled_na:"SETTINGS_WLAN_VALUES_MINRATE_NA_ENABLED_LABEL"}),d(u(t),"patterns",{name:A.NAME,macAddress:C.exact(A.MAC_ADDRESS),wep:A.WEP,password:A.PASSWORD,saePassword:A.SAE_PASSWORD,portNumber:A.PORT_NUMBER,hex2:A.HEX2,hex4:A.HEX4}),d(u(t),"radiusAuthServerMin",1),d(u(t),"radiusAuthServerMax",4),d(u(t),"radiusAcctServerMin",0),d(u(t),"radiusAcctServerMax",4),d(u(t),"hotspot2Profiles",v.repository.collection.models),d(u(t),"minrateBeacon",{}),d(u(t),"macFilterMax",512),d(u(t),"bcFilterMax",256),d(u(t),"radiusProfile",null),d(u(t),"macAddressFormatOptions",[{key:"none_lower",label:"aabbccddeeff"},{key:"hyphen_lower",label:"aa-bb-cc-dd-ee-ff"},{key:"colon_lower",label:"aa:bb:cc:dd:ee:ff"},{key:"none_upper",label:"AABBCCDDEEFF"},{key:"hyphen_upper",label:"AA-BB-CC-DD-EE-FF"},{key:"colon_upper",label:"AA:BB:CC:DD:EE:FF"}]),t}return e=B,(o=[{key:"$onInit",value:function(){this.updateWlansByDevice()}},{key:"checkIfNewApGroupButtonEnabled",value:function(){var t=this,e=this.isConnectivityMonitorEnabled()?L.MAX_WLANCONF_WITH_WIRELESS_UPLINK:L.MAX_WLANCONF;return this.newApGroupButtonEnabled=_.repository.collection.some(function(n){var o;if(!n.isValidForApGroup())return!1;var i=t.wlansByDevice2g[n.get("mac")].length<e,r=t.wlansByDevice5g[n.get("mac")].length<e;switch(null===(o=t.modelCopy)||void 0===o?void 0:o.attributes.wlan_band){case G["2G"]:return i;case G["5G"]:return r;case G.BOTH:return i&&r;default:return!0}}),this.newApGroupButtonEnabled}},{key:"updateWlansByDevice",value:function(){this.wlansByDevice2g=this.getOtherWirelessNetworksByDevicesAndBand(G["2G"]),this.wlansByDevice5g=this.getOtherWirelessNetworksByDevicesAndBand(G["5G"]),this.updateDisabledGroupIds()}},{key:"canSave",value:function(){return this.modelCopy&&(this.modelCopy.get("mac_filter_list")||[]).length<=this.getMacFilterAvailable()&&(this.modelCopy.get("bc_filter_list")||[]).length<=this.getBcFilterAvailable()}},{key:"save",value:function(){var t=this;this.isSubmitting=!0;var e=angular.extend({},this.modelCopy.attributes);return e.radius_mac_auth_enabled&&delete e.networkconf_id,e.wpa3_support&&("wpa2"!==e.wpa_mode&&(e.wpa_mode="wpa2"),"none"===e.wpa_enc&&(e.wpa_enc="ccmp"),e.wpa3_transition?"disabled"===e.pmf_mode&&(e.pmf_mode="optional"):e.pmf_mode="required",e.security===F.WPA_ENTERPRISE&&e.wpa3_support&&e.wpa3_enhanced_192&&(delete e.wpa3_transition,e.pmf_mode="required",e.wpa_enc="gcmp-256",e.pmf_cipher="bip-gmac-256",e.fast_roaming_enabled=!e.wpa3_enhanced_192)),e.wpa3_transition&&(e.wpa3_support&&e.security!==F.WPA_ENTERPRISE||(e.wpa3_transition=!1),-1!==[F.OPEN,F.WPA_ENTERPRISE].indexOf(this.modelCopy.get("security"))||this.modelCopy.attributes.security===F.WPA_PERSONAL&&this.modelCopy.attributes.x_passphrase&&this.modelCopy.attributes.x_passphrase.length<63||(e.wpa3_transition=!1)),this.checkPmfMode(!1),this.isGroupRekeyRequired()?this.gtkEnabled||(e.group_rekey=0):delete e.group_rekey,e.security!==F.WEP&&(delete e.x_wep,delete e.wep_idx),"none"===e.wpa_enc&&delete e.wpa_enc,e.security!==F.WPA_PERSONAL&&delete e.x_passphrase,e.security===F.WPA_ENTERPRISE||e.security===F.OSEN||e.radius_mac_auth_enabled||(delete e.radiusprofile_id,e.radius_das_enabled=!1),this.isFastRoamingAllowed()&&(e.fast_roaming_enabled=!1),!0!==e.mac_filter_enabled&&(delete e.mac_filter_policy,delete e.mac_filter_list),"default"===e.dtim_mode&&(delete e.dtim_na,delete e.dtim_ng),e.minrate_ng_mgmt_rate_kbps=e.minrate_ng_data_rate_kbps,e.minrate_na_mgmt_rate_kbps=e.minrate_na_data_rate_kbps,e.minrate_ng_beacon_rate_kbps=this.minrateBeacon.ng||e.minrate_ng_data_rate_kbps,e.minrate_na_beacon_rate_kbps=this.minrateBeacon.na||e.minrate_na_data_rate_kbps,this.isMinrateDefaultValue("ng")&&!this.isCckRatesDisabled("ng")&&(e.minrate_ng_advertising_rates=!1),this.isMinrateDefaultValue("na")&&!this.isCckRatesDisabled("na")&&(e.minrate_na_advertising_rates=!1),delete e.wlangroup_id,this.model.save(e,{wait:!0}).then(function(){return b.pushSuccess(n.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:n.instant("SETTINGS_NAV_WIRELESS_NETWORKS").toLowerCase()})),N.repository.collection.add(this.model,{merge:!0}),this.reset(),!0}.bind(this)).catch(function(t){return b.pushError(m.appendErrorMsg(n.instant("COMMON_NOTICE_SAVE_ERROR",{section:n.instant("SETTINGS_NAV_WIRELESS_NETWORKS").toLowerCase()}),t)),!1}).finally(function(){t.isSubmitting=!1})}},{key:"showApGroupSelectionModal",value:function(t){var e=this;g.show("apGroups",{model:function(){return t}}).then(function(n){t||(e.modelCopy.attributes.ap_group_ids=[].concat(i(e.modelCopy.attributes.ap_group_ids),[n.id])),e.updateDisabledGroupIds(),e.uncheckDisabledApGroups()})}},{key:"getDefaultApGroupId",value:function(){if(this.model.id||this.disabledGroupIds&&!this.disabledGroupIds.length)return r.repository.collection.getDefault()}},{key:"setDefaultAttrs",value:function(t){var e=t?"":"Copy";if(this["model"+e]){var n,o,i,r,a,s,l,p,u,c,d,m,f,_,g,S,b,v,T,E,C,N,L,A,O,P,M,B,D,x,U,H,z,V,W,j,K,q,Y,$,J,X,Q,Z,tt,et,nt,ot,it=this["model"+e].attributes;it.enabled=!this.model||!this.model.id||this.model.get("enabled"),it.wpa3_support=null!==(n=null===(o=this.model)||void 0===o?void 0:o.get("wpa3_support"))&&void 0!==n&&n,it.wpa3_transition=null===(i=null===(r=this.model)||void 0===r?void 0:r.get("wpa3_transition"))||void 0===i||i,it.security=null!==(a=null===(s=this.model)||void 0===s?void 0:s.get("security"))&&void 0!==a?a:F.OPEN,it.wep_idx=null!==(l=null===(p=this.model)||void 0===p?void 0:p.get("wep_idx"))&&void 0!==l?l:1,it.wpa_mode=null!==(u=null===(c=this.model)||void 0===c?void 0:c.get("wpa_mode"))&&void 0!==u?u:"wpa2",it.wpa_enc=null!==(d=null===(m=this.model)||void 0===m?void 0:m.get("wpa_enc"))&&void 0!==d?d:"ccmp",it.pmf_mode=null!==(f=null===(_=this.model)||void 0===_?void 0:_.get("pmf_mode"))&&void 0!==f?f:"disabled",it.pmf_cipher=null!==(g=null===(S=this.model)||void 0===S?void 0:S.get("pmf_cipher"))&&void 0!==g?g:"auto",it.usergroup_id=null!==(b=null===(v=this.model)||void 0===v?void 0:v.get("usergroup_id"))&&void 0!==b?b:(h.repository.collection.getDefault()||{}).id,it.wlan_band=(this.model?this.model.get("wlan_band"):void 0)||G.BOTH,it.ap_group_ids=(this.model?this.model.get("ap_group_ids"):void 0)||[null===(T=this.getDefaultApGroupId())||void 0===T?void 0:T.id].filter(function(t){return!!t}),it.dtim_mode=null!==(E=null===(C=this.model)||void 0===C?void 0:C.get("dtim_mode"))&&void 0!==E?E:"default",it.dtim_ng=null!==(N=null===(L=this.model)||void 0===L?void 0:L.get("dtim_ng"))&&void 0!==N?N:R.DTIM.DEFAULT.NG,it.dtim_na=null!==(A=null===(O=this.model)||void 0===O?void 0:O.get("dtim_na"))&&void 0!==A?A:R.DTIM.DEFAULT.NA,it.minrate_ng_enabled=null!==(P=null===(M=this.model)||void 0===M?void 0:M.get("minrate_ng_enabled"))&&void 0!==P&&P,it.minrate_ng_advertising_rates=null!==(B=null===(D=this.model)||void 0===D?void 0:D.get("minrate_ng_advertising_rates"))&&void 0!==B&&B,it.minrate_ng_data_rate_kbps=null!==(x=null===(U=this.model)||void 0===U?void 0:U.get("minrate_ng_data_rate_kbps"))&&void 0!==x?x:R.MCS.ng[0],it.minrate_ng_cck_rates_enabled=!this.model||!1!==this.model.get("minrate_ng_cck_rates_enabled"),this.minrateBeacon.ng=this.model&&this.model.get("minrate_ng_beacon_rate_kbps")&&this.model.get("minrate_ng_beacon_rate_kbps")!==it.minrate_ng_data_rate_kbps?R.MCS.ng[0]:0,it.minrate_na_enabled=null!==(H=null===(z=this.model)||void 0===z?void 0:z.get("minrate_na_enabled"))&&void 0!==H&&H,it.minrate_na_advertising_rates=null!==(V=null===(W=this.model)||void 0===W?void 0:W.get("minrate_na_advertising_rates"))&&void 0!==V&&V,it.minrate_na_data_rate_kbps=null!==(j=null===(K=this.model)||void 0===K?void 0:K.get("minrate_na_data_rate_kbps"))&&void 0!==j?j:R.MCS.na[0],this.minrateBeacon.na=this.model&&this.model.get("minrate_na_beacon_rate_kbps")&&this.model.get("minrate_na_beacon_rate_kbps")!==it.minrate_na_data_rate_kbps?R.MCS.na[0]:0,it.mac_filter_enabled=null!==(q=null===(Y=this.model)||void 0===Y?void 0:Y.get("mac_filter_enabled"))&&void 0!==q&&q,it.mac_filter_policy=null!==($=null===(J=this.model)||void 0===J?void 0:J.get("mac_filter_policy"))&&void 0!==$?$:"allow",it.mac_filter_list=(this.model?angular.copy(this.model.get("mac_filter_list")):void 0)||[],it.bc_filter_enabled=(this.model?this.model.get("bc_filter_enabled"):void 0)||!1,it.bc_filter_list=(this.model?angular.copy(this.model.get("bc_filter_list")):void 0)||[],this.bcFilterGatewayAutoDetectEnabled=!1===it.bc_filter_enabled,it.group_rekey=y.modelGet(this.model,"group_rekey",k.GTK_REKEY_DEFAULT_VALUE),this.gtkEnabled=!this.model||0!==this.model.get("group_rekey"),this.wpa1Enabled="auto"===it.wpa_mode||"wpa1"===it.wpa_mode||I.isAdvancedFeaturesEnabled(),this.wepEnabled=it.security==F.WEP||I.isAdvancedFeaturesEnabled(),this.wpa3Enabled=w.isWpa3SupportedInSite()&&(!!it.wpa3_support||I.isAdvancedFeaturesEnabled()),this.wpa3Eap192Enabled=w.isWpa3SupportedInSite()&&(!!it.wpa3_support||I.isAdvancedFeaturesEnabled()),this.wpa3Modes=["wpapsk","wpaeap"],it.security==F.OPEN&&it.wpa3_support&&this.wpa3Modes.push("open"),it.hotspot2conf_enabled=null!==(X=null===(Q=this.model)||void 0===Q?void 0:Q.get("hotspot2conf_enabled"))&&void 0!==X&&X,it.bss_transition=null===(Z=null===(tt=this.model)||void 0===tt?void 0:tt.get("bss_transition"))||void 0===Z||Z,it.auth_cache=null===(et=null===(nt=this.model)||void 0===nt?void 0:nt.get("auth_cache"))||void 0===et||et,it.pmf_mode=(this.model?this.model.get("pmf_mode"):void 0)||"disabled",this.wpa1Enabled||(delete this.wpaModeOptions.auto,delete this.wpaModeOptions.wpa1),it.schedule_enabled=(null===(ot=this.model.get("schedule_with_duration"))||void 0===ot?void 0:ot.length)>0}}},{key:"setAdvancedExpanded",value:function(){this.model&&((this.model.get("dtim_mode")&&"default"!==this.model.get("dtim_mode")||this.model.get("minrate_ng_enabled")&&this.model.get("minrate_ng_enabled")||this.model.get("minrate_na_enabled")&&this.model.get("minrate_na_enabled"))&&(this.isMinrateExpanded=!0),this.model.get("mac_filter_enabled")&&(this.isMacFilterExpanded=!0),this.isRadiusMacAuthenticationExpanded=this.model.get("radius_mac_auth_enabled"),(this.model.get("fast_roaming_enabled")||this.model.get("wlan_band")!==G.BOTH||this.model.get("hide_ssid")||this.model.get("wpa_mode")&&"wpa2"!==this.model.get("wpa_mode")||this.model.get("wpa_enc")&&"ccmp"!==this.model.get("wpa_enc")||this.model.get("usergroup_id")&&this.model.get("usergroup_id")!==(h.repository.collection.getDefault()||{}).id||this.model.get("uapsd_enabled")||this.model.get("schedule_enabled")||this.model.get("group_rekey")&&this.model.get("group_rekey")!==k.GTK_REKEY_DEFAULT_VALUE||this.model.get("bc_filter_enabled")&&!1!==this.model.get("bc_filter_enabled")||this.model.get("country_beacon")||this.model.get("p2p")||this.model.get("proxy_arp")||this.model.get("l2_isolation")||this.model.get("tdls_prohibit")||this.model.get("bss_transition")&&!1===this.model.get("bss_transition")||this.model.get("auth_cache")&&!1===this.model.get("auth_cache")||this.isMinrateExpanded||this.isMacFilterExpanded||this.isRadiusMacAuthenticationExpanded)&&(this.isAdvancedExpanded=!0)),this.checkPmfMode(!1)}},{key:"isMinrateDefaultValue",value:function(t){return this.modelCopy.attributes["minrate_"+t+"_data_rate_kbps"]===R.MCS[t][0]}},{key:"isCckRatesDisabled",value:function(t){return!1===this.modelCopy.attributes["minrate_"+t+"_cck_rates_enabled"]}},{key:"isFastRoamingAllowed",value:function(){return!!this.modelCopy&&-1!==[F.OPEN,F.WEP].indexOf(this.modelCopy.get("security"))}},{key:"onGuestPolicyChange",value:function(){this.model&&!this.model.id&&this.form.wlanBcFilterEnabled.$pristine&&(this.modelCopy.attributes.bc_filter_enabled=!!this.modelCopy.attributes.is_guest)}},{key:"onHotspot2Change",value:function(){if(this.model&&!this.model.id){var t,e=this.modelCopy.attributes;this.form.wirelessNetworkP2p.$pristine&&(e.p2p=!!e.hotspot2conf_enabled),this.form.wirelessNetworkP2pXconnect.$pristine&&(e.p2p_cross_connect=!e.hotspot2conf_enabled),this.form.wirelessNetworkProxyArp.$pristine&&(e.proxy_arp=!!e.hotspot2conf_enabled),(null===(t=this.form.wirelessNetworkAuthCache)||void 0===t?void 0:t.$pristine)&&(e.auth_cache=!e.hotspot2conf_enabled),this.form.wirelessNetworkBssTransition.$pristine&&(e.bss_transition=!0),this.form.wirelessNetworkTdlsProhibit.$pristine&&(e.tdls_prohibit=!!e.hotspot2conf_enabled),this.form.wirelessNetworkL2Isolation.$pristine&&(e.l2_isolation=!!e.hotspot2conf_enabled),this.form.wirelessNetworkCountryBeacon.$pristine&&(e.country_beacon=!0)}}},{key:"checkPmfMode",value:function(t){var e=t?"":"Copy";if(this["model"+e]){var n=this["model"+e].attributes;n.wpa3_support&&(n.wpa3_enhanced_192&&(n.pmf_mode="required"),n.wpa3_transition?"disabled"===n.pmf_mode&&(n.pmf_mode="optional"):n.pmf_mode="required")}}},{key:"onWpa3Change",value:function(){if(this.model&&this.modelCopy){var t=this.modelCopy.attributes;this.form.wirelessNetworkWpa3Transition.$pristine&&(t.wpa3_transition=!!t.wpa3_support),this.form.wirelessNetworkCountryBeacon.$pristine&&(t.country_beacon=!0),this.wpa3Modes.includes(t.security)||(t.wpa3_support=!1,delete t.wpa3_transition),t.wpa3_support&&("wpa2"!==t.wpa_mode&&(t.wpa_mode="wpa2"),"none"===t.wpa_enc&&(t.wpa_enc="ccmp"),t.security===F.WPA_ENTERPRISE&&t.wpa3_support&&t.wpa3_enhanced_192&&(delete t.wpa3_transition,t.wpa_enc="gcmp-256",t.pmf_cipher="bip-gmac-256",t.fast_roaming_enabled=!t.wpa3_enhanced_192)),this.checkPmfMode(!1)}}},{key:"onModelChange",value:function(){this.updateWlansByDevice(),this.setDefaultAttrs(!0),this.checkPmfMode(!0),this.setAdvancedExpanded()}},{key:"reset",value:function(){s(c(B.prototype),"reset",this).call(this),this.setDefaultAttrs(!1)}},{key:"onWlanBandChange",value:function(){this.updateDisabledGroupIds()}},{key:"onApGroupSelectionChange",value:function(t){this.modelCopy.attributes.ap_group_ids=t,this.updateDisabledGroupIds()}},{key:"setRadiusProfile",value:function(t){this.radiusProfile=t}},{key:"isProfileWithRadiusAssignedVlan",value:function(){var t=!(!this.radiusProfile||!this.radiusProfile.isEnabled()),e=this.modelCopy&&this.modelCopy.get("security");return e===F.WPA_ENTERPRISE||e===F.OSEN?t:this.modelCopy&&!!this.modelCopy.get("radius_mac_auth_enabled")&&t}},{key:"isProfileWithRadius",value:function(){var t=!!this.radiusProfile,e=this.modelCopy&&this.modelCopy.get("security");return e===F.WPA_ENTERPRISE||e===F.OSEN?t:this.modelCopy&&!!this.modelCopy.get("radius_mac_auth_enabled")&&t}},{key:"getBcFilterAvailable",value:function(){var t=(this.model&&this.model.get("bc_filter_list")||[]).length,e=N.repository.collection.models.reduce(function(t,e){return t+(e.get("bc_filter_list")||[]).length},0);return this.bcFilterMax-e+t}},{key:"getMacFilterAvailable",value:function(){var t=(this.model&&this.model.get("mac_filter_list")||[]).length,e=N.repository.collection.models.reduce(function(t,e){return t+(e.get("mac_filter_list")||[]).length},0);return this.macFilterMax-e+t}},{key:"isGroupRekeyRequired",value:function(){return this.modelCopy&&-1!==[F.WPA_ENTERPRISE,F.WPA_PERSONAL,F.OSEN].indexOf(this.modelCopy.get("security"))}},{key:"onGtkEnabledChange",value:function(){this.gtkEnabled&&0===this.modelCopy.get("group_rekey")&&(this.modelCopy.attributes.group_rekey=k.GTK_REKEY_DEFAULT_VALUE)}},{key:"isBcFilterManagedByNetworkOptimize",value:function(){return I.getSettingValueFromKey("network_optimization","enabled")&&S.hasSiteGateway()}},{key:"isNo2ghzOuiManagedByNetworkOptimize",value:function(){return!1}},{key:"getNetworks",value:function(){return T.repository.collection.filter(function(t){return["corporate","guest","vlan-only"].includes(t.get("purpose"))})}},{key:"getOtherWirelessNetworksByDevice",value:function(t,e){var n,o=this,i=r.getApGroupsByDevice(t),a=N.getWlansByApGroupIdsAndWifiBand(i.map(function(t){return t.id}),e);return(null===(n=this.model)||void 0===n?void 0:n.id)?a.filter(function(t){return t.id!==o.model.id}):a}},{key:"getOtherWirelessNetworksByDevicesAndBand",value:function(t){var e=this;return _.repository.collection.reduce(function(n,o){if(o.isValidForApGroup()){var i=o.get("mac");n[i]=e.getOtherWirelessNetworksByDevice(i,t)}return n},{})}},{key:"isConnectivityMonitorEnabled",value:function(){var t=I.getSiteSettingFromKey("connectivity");return!(!t||!t.get("enabled"))}},{key:"updateDisabledGroupIds",value:function(){var t=this;if(this.wlansByDevice2g&&this.wlansByDevice5g){var e=this.isConnectivityMonitorEnabled()?L.MAX_WLANCONF_WITH_WIRELESS_UPLINK:L.MAX_WLANCONF,n=r.getApGroupsByDevices(Object.keys(this.wlansByDevice2g).filter(function(n){return t.wlansByDevice2g[n].length>=e})),o=r.getApGroupsByDevices(Object.keys(this.wlansByDevice5g).filter(function(n){return t.wlansByDevice5g[n].length>=e}));this.disabledGroupIds2g=n.map(function(t){return t.id}),this.disabledGroupIds5g=o.map(function(t){return t.id}),this.disabledGroupIds=[].concat(i(this.disabledGroupIds2g),i(this.disabledGroupIds5g))}}},{key:"getDisabledGroupIds",value:function(){if(this.modelCopy){if(this.modelCopy.attributes.wlan_band===G["2G"])return this.disabledGroupIds2g;if(this.modelCopy.attributes.wlan_band===G["5G"])return this.disabledGroupIds5g}return this.disabledGroupIds}},{key:"uncheckDisabledApGroups",value:function(){if(this.modelCopy){var t=this.getDisabledGroupIds();this.modelCopy.attributes.ap_group_ids=this.modelCopy.attributes.ap_group_ids?this.modelCopy.attributes.ap_group_ids.filter(function(e){return!t.includes(e)}):[]}}},{key:"transitionCheck",value:function(){return!this.model||this.modelCopy&&!!this.model.attributes.wpa3_transition&&(this.model.attributes.wpa3_support||this.modelCopy.attributes.wpa3_support)&&(-1!==[F.OPEN,F.WPA_ENTERPRISE].indexOf(this.modelCopy.get("security"))||this.modelCopy.attributes.security===F.WPA_PERSONAL&&this.modelCopy.attributes.x_passphrase&&this.modelCopy.attributes.x_passphrase.length<63)}}])&&a(e.prototype,o),P&&a(e,P),B}())}])},{}],243:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkForm",["$timeout","radius","RADIUS_VLAN_OPTIONS",function(e,n,o){return{scope:{model:"=?unifiWirelessNetworkForm",onSave:"&unifiWirelessNetworkFormOnSave",onCancel:"&unifiWirelessNetworkFormOnCancel",isReadOnly:"=unifiWirelessNetworkFormIsReadOnly"},controller:"WirelessNetworkFormController",controllerAs:"wirelessNetworkFormCtrl",template:t("./wirelessNetworkForm.pug")(),link:function(t,i,r,a){t.onSubmit=function(e){!0===e&&t.onSave()},t.$watch(function(){return a.modelCopy?a.modelCopy.attributes.radiusprofile_id:void 0},function(t){if(t){var e=n.repository.collection.get(t),i=a.modelCopy.attributes.radius_mac_auth_enabled;e&&(a.setRadiusProfile(e),e.get("vlan_wlan_mode")===o.ENABLED&&i&&(a.modelCopy.attributes.vlan_enabled=!1))}}),t.$watch(function(){return a.modelCopy?a.modelCopy.attributes.wlan_band:void 0},function(){return a.uncheckDisabledApGroups()}),t.$watch("model",function(t){a.updateModel(t)}),e(function(){t.isLoaded=!0},0)}}}])},{"./wirelessNetworkForm.pug":244}],244:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+o("novalidate",!0,!0,!0)+' autocomplete="off" name="wirelessNetworkFormCtrl.form" ng-class="{    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': wirelessNetworkFormCtrl.showValidation,    \'is-validation-hidden\': !wirelessNetworkFormCtrl.showValidation  }" ng-submit="wirelessNetworkFormCtrl.form.$valid &amp;&amp; wirelessNetworkFormCtrl.canSave() &amp;&amp; wirelessNetworkFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="wirelessNetworkFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="wirelessNetworkFormCtrl.ignoreDivergence()" unifi-config-changed-with-icon="true" ng-show="wirelessNetworkFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+o("translate",!0,!0,!0)+' translate-values="{wlanName: wirelessNetworkFormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_WLAN_SECTION_VIEW\' : (wirelessNetworkFormCtrl.model.id ? \'SETTINGS_WLAN_SECTION_EDIT\' : \'SETTINGS_WLAN_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_NAME_SSID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="wirelessNetworkName" ng-minlength="wirelessNetworkFormCtrl.WLAN_SETTINGS.SSID.MIN_LENGTH" ng-required="true" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.name" ng-model-master="wirelessNetworkFormCtrl.model.attributes.name" unifi-string-max-length="wirelessNetworkFormCtrl.WLAN_SETTINGS.SSID.MAX_LENGTH" unifi-string-max-length-use-byte-length="true"><div class="appInputFeedback appInputFeedback--danger" ng-show="wirelessNetworkFormCtrl.form.wirelessNetworkName.$invalid" translate="SETTINGS_WLAN_VALIDATOR_SSID_MAX_LENGTH" translate-values="{          \'min\': wirelessNetworkFormCtrl.WLAN_SETTINGS.SSID.MIN_LENGTH,          \'max\': wirelessNetworkFormCtrl.WLAN_SETTINGS.SSID.MAX_LENGTH        }"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkEnabled" id="wirelessNetworkEnabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.enabled"><label for="wirelessNetworkEnabled" translate="SETTINGS_WLAN_VALUES_ENABLED"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_SECURITY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkSecurity" id="wirelessNetworkSecurityOpen" ng-value="wirelessNetworkFormCtrl.WLAN_SECURITY_TYPES.OPEN" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.security" ng-model-master="wirelessNetworkFormCtrl.model.attributes.security"><label for="wirelessNetworkSecurityOpen" translate="SETTINGS_WLAN_VALUES_SECURITY_OPEN"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkSecurity" id="wirelessNetworkSecurityWep" ng-value="wirelessNetworkFormCtrl.WLAN_SECURITY_TYPES.WEP" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.security" ng-model-master="wirelessNetworkFormCtrl.model.attributes.security" ng-if="wirelessNetworkFormCtrl.wepEnabled"><label for="wirelessNetworkSecurityWep" translate="SETTINGS_WLAN_VALUES_SECURITY_WEP" ng-if="wirelessNetworkFormCtrl.wepEnabled"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkSecurity" id="wirelessNetworkSecurityWpaPersonal" ng-value="wirelessNetworkFormCtrl.WLAN_SECURITY_TYPES.WPA_PERSONAL" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.security" ng-model-master="wirelessNetworkFormCtrl.model.attributes.security"><label for="wirelessNetworkSecurityWpaPersonal" translate="SETTINGS_WLAN_VALUES_SECURITY_WPA_PERSONAL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkSecurity" id="wirelessNetworkSecurityWpaEnterprise" ng-value="wirelessNetworkFormCtrl.WLAN_SECURITY_TYPES.WPA_ENTERPRISE" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.security" ng-model-master="wirelessNetworkFormCtrl.model.attributes.security"><label for="wirelessNetworkSecurityWpaEnterprise" translate="SETTINGS_WLAN_VALUES_SECURITY_WPA_ENTERPRISE"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-if="wirelessNetworkFormCtrl.wpa3Enabled"><input type="radio" name="wirelessNetworkSecurity" id="wirelessNetworkSecurityOsen" ng-value="wirelessNetworkFormCtrl.WLAN_SECURITY_TYPES.OSEN" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.security" ng-model-master="wirelessNetworkFormCtrl.model.attributes.security"><label for="wirelessNetworkSecurityOsen" translate="SETTINGS_WLAN_VALUES_SECURITY_OSEN"></label></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wep\'"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_SECURITY_WEP_THROUGHPUT_NOTE"></p></div><div class="appInfoBox__footer"><a class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-href="{{wirelessNetworkFormCtrl.URLS.WLAN_SECURITY_WEP_THROUGHPUT_NOTE}}" target="_blank"><span class="button__icon icon ubnt-icon--info"></span><span translate="SETTINGS_WLAN_SECURITY_WPA2_THROUGHPUT_NOTE_LEARN_MORE"></span></a></div></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="wirelessNetworkFormCtrl.modelCopy.attributes.security === \'osen\'"><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_SECURITY_OSEN_DESCRIPTION"></p></div></div></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.setVisibility(\'wep\', wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wep\')"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_WEP_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="wirelessNetworkWepKey" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.x_wep" ng-model-master="wirelessNetworkFormCtrl.model.attributes.x_wep" ng-pattern="wirelessNetworkFormCtrl.getVisibility(\'wep\') ? wirelessNetworkFormCtrl.patterns.wep : \'\'" ng-required="wirelessNetworkFormCtrl.getVisibility(\'wep\')"></unifi-password-reveal><div class="appInputFeedback appInputFeedback--danger" ng-if="wirelessNetworkFormCtrl.form.wirelessNetworkWepKey.$invalid" translate="VALIDATION_HINT_WEP_KEY"></div></div></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><label class="appLabel--boxInline" for="wirelessNetworkWepKeyIndex" translate="SETTINGS_WLAN_LABEL_WEP_KEY_INDEX"></label><select name="wirelessNetworkWepKeyIndex" id="wirelessNetworkWepKeyIndex" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.wep_idx" ng-model-master="wirelessNetworkFormCtrl.model.attributes.wep_idx"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option></select></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.setVisibility(\'wpapsk\', wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpapsk\')"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_SECURITY_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="wirelessNetworkWpaPskKey" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.x_passphrase" ng-model-master="wirelessNetworkFormCtrl.model.attributes.x_passphrase" ng-pattern="wirelessNetworkFormCtrl.getVisibility(\'wpapsk\') ? (                          wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support ? wirelessNetworkFormCtrl.patterns.saePassword : wirelessNetworkFormCtrl.patterns.password                         ) : \'\'" ng-required="wirelessNetworkFormCtrl.getVisibility(\'wpapsk\')"></unifi-password-reveal><div class="appInputFeedback appInputFeedback--danger" ng-if="(wirelessNetworkFormCtrl.form.wirelessNetworkWpaPskKey.$invalid &amp;&amp; wirelessNetworkFormCtrl.getVisibility(\'wpapsk\') &amp;&amp; (!wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support))" translate="VALIDATION_HINT_WPA_PSK"></div><div class="appInputFeedback appInputFeedback--danger" ng-if="(wirelessNetworkFormCtrl.form.wirelessNetworkWpaPskKey.$invalid &amp;&amp; wirelessNetworkFormCtrl.getVisibility(\'wpapsk\') &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support)" translate="VALIDATION_HINT_WPA3_PSK"></div></div></div></div><div class="appRow" ng-show="(wirelessNetworkFormCtrl.wpa3Enabled &amp;&amp; wirelessNetworkFormCtrl.wpa3Modes.includes(wirelessNetworkFormCtrl.modelCopy.attributes.security))"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_WPA3_ENABLE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="wirelessNetworkWpa3Enable" id="wirelessNetworkWpa3Enable" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support" ng-model-master="wirelessNetworkFormCtrl.model.attributes.wpa3_support" ng-change="wirelessNetworkFormCtrl.onWpa3Change()"><label translate="SETTINGS_WLAN_DESC_WPA3_ENABLE" for="wirelessNetworkWpa3Enable"></label></div></div><div class="appInfoBox appInfoBox--info appInfoBox--cozy verticalRhythmTop--cozy" ng-show="(wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.security === \'open\')"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_SECURITY_WPA3_OWE_NOTE"></p></div></div></div><div class="appInfoBox appInfoBox--info appInfoBox--cozy verticalRhythmTop--cozy" ng-show="(wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpapsk\')"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_SECURITY_WPA3_NOTE"></p></div></div></div><div class="appInfoBox appInfoBox--info appInfoBox--cozy verticalRhythmTop--cozy" ng-show="(wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpaeap\')"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_SECURITY_WPA3_ENTERPRISE_NOTE"></p><p class="noMarginBottom" translate="SETTINGS_WLAN_SECURITY_WPA3_ENTERPRISE_RADIUS_NOTE"></p></div></div></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support"><div class="col--sm5 col--smOffset3"><unifi-notify-firmware-requirement class="mb-3" unifi-notify-firmware-requirement-wifi-caps="[\'WPA3\']"></unifi-notify-firmware-requirement></div></div><div class="appRow" ng-show="(wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.security === \'open\')"><div class="col--sm5 col--smOffset3"><unifi-notify-firmware-requirement class="mb-3" unifi-notify-firmware-requirement-wifi-caps="[\'WPA3_OWE\']"></unifi-notify-firmware-requirement></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support &amp;&amp; wirelessNetworkFormCtrl.wpa3Modes.includes(wirelessNetworkFormCtrl.modelCopy.attributes.security) &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.security !== \'wpaeap\'"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_WPA3_TRANSITION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="wirelessNetworkWpa3Transition" id="wirelessNetworkWpa3Transition" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_transition" ng-model-master="wirelessNetworkFormCtrl.model.attributes.wpa3_transition" ng-checked="wirelessNetworkFormCtrl.transitionCheck()" ng-change="wirelessNetworkFormCtrl.onWpa3Change()"><label translate="SETTINGS_WLAN_DESC_WPA3_TRANSITION" for="wirelessNetworkWpa3Transition"></label></div></div></div></div><div class="appRow" ng-show="(wirelessNetworkFormCtrl.wpa3Eap192Enabled &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpaeap\')"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_WPA3_ENHANCED_192"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="wirelessNetworkWpa3Enhanced192" id="wirelessNetworkWpa3Enhanced192" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_enhanced_192" ng-model-master="wirelessNetworkFormCtrl.model.attributes.wpa3_enhanced_192" ng-change="wirelessNetworkFormCtrl.onWpa3Change()"><label translate="SETTINGS_WLAN_DESC_WPA3_ENHANCED_192" for="wirelessNetworkWpa3Enhanced192"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_WLAN_TOOLTIP_WPA3_ENhANCED_192"></content></unifi-tooltip></div></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_enhanced_192"><div class="col--sm5 col--smOffset3"><unifi-notify-firmware-requirement class="mb-3" unifi-notify-firmware-requirement-wifi-caps="[\'WPA3_EAP_192\']"></unifi-notify-firmware-requirement></div></div><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkFormCtrl.setVisibility(\'wpaeap\',             (wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpaeap\' ||             wirelessNetworkFormCtrl.modelCopy.attributes.security === \'osen\'))"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_RADIUS_PROFILE"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_WLAN_TOOLTIP_RADIUS_VLAN"></content></unifi-tooltip></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><unifi-radius-selector unifi-radius-selector-radius-profile-id="wirelessNetworkFormCtrl.modelCopy.attributes.radiusprofile_id" unifi-radius-selector-is-required="(wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpaeap\' ||                                              wirelessNetworkFormCtrl.modelCopy.attributes.security === \'osen\')"></unifi-radius-selector></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_HOTSPOT2"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="wirelessNetworkHotspot2Enabled" id="wirelessNetworkHotspot2Enabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.hotspot2conf_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.hotspot2conf_enabled" ng-change="wirelessNetworkFormCtrl.onHotspot2Change()"><label translate="SETTINGS_WLAN_VALUES_HOTSPOT2_ENABLED" for="wirelessNetworkHotspot2Enabled"></label></div><div class="appInputGroup inlineBlock" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.hotspot2conf_enabled"><label translate="SETTINGS_WLAN_VALUES_HOTSPOT2_WITH_PROFILE" for="wirelessNetworkHotspot2Id"></label><select name="wirelessNetworkHotspot2Id" id="wirelessNetworkHotspot2Id" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.hotspot2conf_id" ng-model-master="wirelessNetworkFormCtrl.model.attributes.hotspot2conf_id" ng-options="hs2.attributes._id as hs2.attributes.name for hs2 in wirelessNetworkFormCtrl.hotspot2Profiles" ng-required="wirelessNetworkFormCtrl.modelCopy.attributes.hotspot2conf_enabled"><option'+o("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div></div></div></fieldset><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_GUEST_POLICY"></label></div><div class="col--sm5 appFormGroup"><div class="appInputGroup"><input type="checkbox" name="wirelessNetworkGuestPolicy" id="wirelessNetworkGuestPolicy" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.is_guest" ng-model-master="wirelessNetworkFormCtrl.model.attributes.is_guest" ng-change="wirelessNetworkFormCtrl.onGuestPolicyChange()"><label for="wirelessNetworkGuestPolicy" translate="SETTINGS_WLAN_VALUES_GUEST_POLICY"></label></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="!wirelessNetworkFormCtrl.model.id &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.bc_filter_enabled &amp;&amp; wirelessNetworkFormCtrl.form.wlanBcFilterEnabled.$pristine"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_GUEST_BC_FILTER_NOTE"></p></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_NETWORK"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup" ng-show="!wirelessNetworkFormCtrl.isProfileWithRadiusAssignedVlan()"><div class="appInputGroup appInputGroup--condensed inlineBlock"><select name="wirelessNetworkConfId" id="wirelessNetworkConfId" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.networkconf_id" ng-model-master="wirelessNetworkFormCtrl.model.attributes.networkconf_id" ng-options="network.id as network.get(\'name\') for network in wirelessNetworkFormCtrl.getNetworks()" ng-required="!wirelessNetworkFormCtrl.isProfileWithRadiusAssignedVlan()"><option unifi-option-placeholder="SETTINGS_WLAN_VALUES_SELECT_NETWORK"></option></select></div><unifi-tooltip ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.radius_mac_auth_enabled" unifi-tooltip-class="\'ubntTooltip--small\'"><content translate="SETTINGS_WLAN_TOOLTIP_VLAN_DISABLED_WHEN_RADIUS"></content></unifi-tooltip></div><div class="appInputGroup" ng-show="wirelessNetworkFormCtrl.isProfileWithRadiusAssignedVlan()"><input type="checkbox" disabled="disabled" checked="checked"><label translate="SETTINGS_WLAN_VALUES_VLAN_RADIUS_ASSIGNED"></label><unifi-tooltip class="ubntTooltip--small" unifi-tooltip-clickable="true"><content translate="SETTINGS_WLAN_TOOLTIP_RADIUS_ASSIGNED_VLAN" translate-values="{profilesLink: \'manage.site.settings.profiles\'}"'+o("translate-compile",!0,!0,!0)+'></content></unifi-tooltip></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="wirelessNetworkFormCtrl.isAdvancedExpanded = !wirelessNetworkFormCtrl.isAdvancedExpanded" ng-class="wirelessNetworkFormCtrl.isAdvancedExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="COMMON_SECTION_ADVANCED_OPTIONS"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkFormCtrl.isAdvancedExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_WIFI_BAND"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkBand" id="wirelessNetworkBand2g" ng-value="wirelessNetworkFormCtrl.WLAN_BANDS[\'2G\']" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.wlan_band" ng-model-master="wirelessNetworkFormCtrl.model.attributes.wlan_band"><label for="wirelessNetworkBand2g" translate="SETTINGS_WLAN_VALUES_BAND_2G"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkBand" id="wirelessNetworkBand5g" ng-value="wirelessNetworkFormCtrl.WLAN_BANDS[\'5G\']" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.wlan_band" ng-model-master="wirelessNetworkFormCtrl.model.attributes.wlan_band"><label for="wirelessNetworkBand5g" translate="SETTINGS_WLAN_VALUES_BAND_5G"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkBand" id="wirelessNetworkBandBoth" ng-value="wirelessNetworkFormCtrl.WLAN_BANDS.BOTH" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.wlan_band" ng-model-master="wirelessNetworkFormCtrl.model.attributes.wlan_band"><label for="wirelessNetworkBandBoth" translate="SETTINGS_WLAN_VALUES_BAND_BOTH"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_BROADCASTING_APS"></label></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><unifi-ap-group-list unifi-ap-group-list-selected-group-ids="wirelessNetworkFormCtrl.modelCopy.attributes.ap_group_ids" unifi-ap-group-list-disabled-group-ids="wirelessNetworkFormCtrl.getDisabledGroupIds()" unifi-ap-group-list-on-selection-change="wirelessNetworkFormCtrl.onApGroupSelectionChange(selectedGroupIds)" unifi-ap-group-list-on-edit="wirelessNetworkFormCtrl.showApGroupSelectionModal(model)"></unifi-ap-group-list><button class="ubntButton ubntButton--link" type="button" ng-click="wirelessNetworkFormCtrl.showApGroupSelectionModal()" ng-disabled="!wirelessNetworkFormCtrl.checkIfNewApGroupButtonEnabled()" translate="SETTINGS_AP_GROUPS_BUTTON_ADD_NEW"></button><div class="appInputFeedback appInputFeedback--danger" ng-show="!wirelessNetworkFormCtrl.modelCopy.attributes.ap_group_ids || !wirelessNetworkFormCtrl.modelCopy.attributes.ap_group_ids.length" translate="SETTINGS_WLAN_ERROR_BROADCASTING_APS_REQUIRED"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_BC_FILTER_ENABLED"></label><unifi-tooltip class="ubntTooltip--small" ng-if="wirelessNetworkFormCtrl.isBcFilterManagedByNetworkOptimize()"><prompt><unifi-aura-icon unifi-aura-icon="\'alert\'" unifi-aura-icon-class="[\'ubntIcon\', \'color-warning\']"></unifi-aura-icon></prompt><content><span translate="SETTINGS_WLAN_VALUES_NETWORK_OPTIMIZATION_ENABLED_TOOLTIP"></span></content></unifi-tooltip></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wlanBcFilterEnabled" id="wlanBcFilterEnabled" ng-disabled="wirelessNetworkFormCtrl.isBcFilterManagedByNetworkOptimize()" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.bc_filter_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.bc_filter_enabled"><label for="wlanBcFilterEnabled" translate="SETTINGS_WLAN_VALUES_BC_FILTER_ENABLED_LABEL"></label><unifi-tooltip class="ubntTooltip--small"><content><span translate="SETTINGS_WLAN_VALUES_BC_FILTER_ENABLED_TOOLTIP_INFO"></span><span translate="SETTINGS_WLAN_VALUES_BC_FILTER_ENABLED_TOOLTIP_DISABLE"></span></content></unifi-tooltip></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.bc_filter_enabled"><div class="col--sm9 col--smOffset3 appFormGroup"><label translate="SETTINGS_WLAN_VALUES_BC_FILTER_EXCEPTED_DEVICES_LABEL"></label><unifi-tooltip class="ubntTooltip--small"><content><span translate="SETTINGS_WLAN_VALUES_BC_FILTER_EXCEPTED_DEVICES_TOOLTIP_SERVICES"></span><span translate="SETTINGS_WLAN_VALUES_BC_FILTER_EXCEPTED_DEVICES_TOOLTIP_GATEWAY"></span><span translate="SETTINGS_WLAN_VALUES_BC_FILTER_EXCEPTED_DEVICES_TOOLTIP_OTHER_DEVICES"></span></content></unifi-tooltip><unifi-wireless-network-mac-address-filter-list unifi-wireless-network-mac-address-filter-list-filter-enabled="wirelessNetworkFormCtrl.modelCopy.attributes.bc_filter_enabled" unifi-wireless-network-mac-address-filter-list-filter-list="wirelessNetworkFormCtrl.modelCopy.attributes.bc_filter_list" unifi-wireless-network-mac-address-filter-list-filter-max-total-per-site="wirelessNetworkFormCtrl.bcFilterMax" unifi-wireless-network-mac-address-filter-list-filter-max-available="wirelessNetworkFormCtrl.getBcFilterAvailable()" unifi-wireless-network-mac-address-filter-list-gateway-auto-detect-enabled="wirelessNetworkFormCtrl.bcFilterGatewayAutoDetectEnabled" unifi-wireless-network-mac-address-filter-list-wireless-clients-only="false" unifi-wireless-network-mac-address-filter-list-disabled="wirelessNetworkFormCtrl.isNetworkOptimizeEnabled()"></unifi-wireless-network-mac-address-filter-list></div></div><div class="appRow" ng-hide="wirelessNetworkFormCtrl.isFastRoamingAllowed()"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--withBadge" translate="SETTINGS_WLAN_LABEL_FAST_ROAMING"></label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkFastRoamingEnabled" id="wirelessNetworkFastRoamingEnabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.fast_roaming_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.fast_roaming_enabled" ng-disabled="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_enhanced_192"><label for="wirelessNetworkFastRoamingEnabled" translate="SETTINGS_WLAN_VALUES_FAST_ROAMING"></label><unifi-tooltip class="ubntTooltip--small" ng-show="(!wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support ||                      wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_transition)"><content translate="SETTINGS_WLAN_TOOLTIP_FAST_ROAMING"></content></unifi-tooltip><unifi-tooltip unifi-tooltip-class="\'ubntTooltip--small\'" ng-show="(wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support &amp;&amp;                      !wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_transition)"><content translate="SETTINGS_WLAN_TOOLTIP_WPA3_FAST_ROAMING"></content></unifi-tooltip></div><div class="appInputGroup appInputGroup--cozy" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support &amp;&amp;                   wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_transition &amp;&amp;                   wirelessNetworkFormCtrl.modelCopy.attributes.fast_roaming_enabled &amp;&amp;                   wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpapsk\'"><label class="appLabel appLabel--primary appLabel--withBadge" translate="SETTINGS_WLAN_LABEL_WPA3_FAST_ROAMING"></label><input type="checkbox" name="wirelessNetworkSaeFastRoamingEnabled" id="wirelessNetworkSaeFastRoamingEnabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_fast_roaming" ng-model-master="wirelessNetworkFormCtrl.model.attributes.wpa3_fast_roaming"><label for="wirelessNetworkSaeFastRoamingEnabled" translate="SETTINGS_WLAN_VALUES_WPA3_FAST_ROAMING"></label><unifi-tooltip unifi-tooltip-class="\'ubntTooltip--small\'"><content translate="SETTINGS_WLAN_TOOLTIP_WPA3_FAST_ROAMING"></content></unifi-tooltip></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_fast_roaming ||                 (wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support &amp;&amp;                  !wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_transition &amp;&amp;                  wirelessNetworkFormCtrl.modelCopy.attributes.fast_roaming_enabled &amp;&amp;                  wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpapsk\')"><div class="col--sm5 col--smOffset3"><unifi-notify-firmware-requirement class="mb-3" unifi-notify-firmware-requirement-wifi-caps="[\'WPA3_FT\']"></unifi-notify-firmware-requirement></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_HIDE_SSID"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkHideSsid" id="wirelessNetworkHideSsid" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.hide_ssid" ng-model-master="wirelessNetworkFormCtrl.model.attributes.hide_ssid"><label for="wirelessNetworkHideSsid" translate="SETTINGS_WLAN_VALUES_HIDE_SSID"></label></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.isGroupRekeyRequired()"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_GTK_REKEYING"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="wirelessNetworkEnableGtk" id="wirelessNetworkEnableGtk" ng-model="wirelessNetworkFormCtrl.gtkEnabled" ng-change="wirelessNetworkFormCtrl.onGtkEnabledChange()"><label for="wirelessNetworkEnableGtk" translate="SETTINGS_WLAN_VALUES_ENABLE_GTK"></label><input class="input--mediumNumber" ng-show="wirelessNetworkFormCtrl.gtkEnabled" type="number" name="wirelessNetworkGtkRekeying" id="wirelessNetworkGtkRekeying" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.group_rekey" ng-model-master="wirelessNetworkFormCtrl.model.attributes.group_rekey" ng-required="wirelessNetworkFormCtrl.gtkEnabled" placeholder="60-86400" min="{{wirelessNetworkFormCtrl.gtkEnabled ? 60 : 0}}" max="86400"><input class="input--mediumNumber" ng-hide="wirelessNetworkFormCtrl.gtkEnabled" type="number" ng-disabled="true" value="0"><label for="wirelessNetworkEnableGtk" ng-class="{\'is-label-inactive\': !wirelessNetworkFormCtrl.gtkEnabled}" translate="SETTINGS_WLAN_LABEL_GTK_INTERVAL_UNIT"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_USER_GROUP"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select class="select--full" name="wirelessNetworkUserGroupId" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.usergroup_id" ng-model-master="wirelessNetworkFormCtrl.model.attributes.usergroup_id" ng-options="userGroup.id as userGroup.get(\'name\') for userGroup in wirelessNetworkFormCtrl.userGroups.repository.collection.models"></select></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_USER_GROUP_NOTE"></p></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_UAPSD"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkEnableUapsd" id="wirelessNetworkEnableUapsd" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.uapsd_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.uapsd_enabled"><label for="wirelessNetworkEnableUapsd" translate="SETTINGS_WLAN_VALUES_UAPSD"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_SCHEDULED"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkEnableSchedule" id="wirelessNetworkEnableSchedule" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.schedule_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.schedule_enabled" ng-disabled="true"><label for="wirelessNetworkEnableSchedule" translate="SETTINGS_WLAN_VALUES_SCHEDULED"></label><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_SCHEDULE_NEW_SETTINGS"></p></div><div class="appInfoBox__footer"><a class="appMainButton appMainButton--tertiary appMainButton--condensed" ui-sref="manage.site.settings.ui" target="_blank"><span class="button__icon icon ubnt-icon--info"></span><span translate="SETTINGS_WLAN_SCHEDULE_NEW_SETTINGS_ACTION"></span></a></div></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_MCAST_ENHANCE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkEnableMcastEnhance" id="wirelessNetworkEnableMcastEnhance" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.mcastenhance_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.mcastenhance_enabled"><label for="wirelessNetworkEnableMcastEnhance" translate="SETTINGS_WLAN_VALUES_MCAST_ENHANCE"></label></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.wlan_band === wirelessNetworkFormCtrl.WLAN_BANDS.BOTH"><div class="col--sm3"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_HIGH_PERFORMANCE_DEVICES"></label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span><unifi-tooltip class="ubntTooltip--small" ng-if="wirelessNetworkFormCtrl.isNo2ghzOuiManagedByNetworkOptimize()"><prompt><unifi-aura-icon unifi-aura-icon="\'alert\'" unifi-aura-icon-class="[\'ubntIcon\', \'color-warning\']"></unifi-aura-icon></prompt><content><span translate="SETTINGS_WLAN_VALUES_NETWORK_OPTIMIZATION_ENABLED_TOOLTIP"></span></content></unifi-tooltip></div></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkEnableNo2ghzOui" id="wirelessNetworkEnableNo2ghzOui" ng-disabled="wirelessNetworkFormCtrl.isNo2ghzOuiManagedByNetworkOptimize()" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.no2ghz_oui" ng-model-master="wirelessNetworkFormCtrl.model.attributes.no2ghz_oui"><label for="wirelessNetworkEnableNo2ghzOui" translate="SETTINGS_WLAN_VALUES_HIGH_PERFORMANCE_DEVICES"></label></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.isProfileWithRadius()"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--withBadge" translate="SETTINGS_WLAN_LABEL_DASDAC"></label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkDasDacEnabled" id="wirelessNetworkDasDacEnabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.radius_das_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.radius_das_enabled"><label for="wirelessNetworkDasDacEnabled" translate="SETTINGS_WLAN_VALUES_DASDAC"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_WLAN_TOOLTIP_DASDAC"></content></unifi-tooltip></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_COUNTRY_BEACON"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkCountryBeacon" id="wirelessNetworkCountryBeacon" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.country_beacon" ng-model-master="wirelessNetworkFormCtrl.model.attributes.country_beacon"><label for="wirelessNetworkCountryBeacon" translate="SETTINGS_WLAN_DESC_COUNTRY_BEACON"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_BSS_TRANSITION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkBssTransition" id="wirelessNetworkBssTransition" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.bss_transition" ng-model-master="wirelessNetworkFormCtrl.model.attributes.bss_transition"><label for="wirelessNetworkBssTransition" translate="SETTINGS_WLAN_DESC_BSS_TRANSITION"></label></div></div></div><div class="appRow" ng-if="(wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpaeap\')"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_AUTH_CACHE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkAuthCache" id="wirelessNetworkAuthCache" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.auth_cache" ng-model-master="wirelessNetworkFormCtrl.model.attributes.auth_cache"><label for="wirelessNetworkAuthCache" translate="SETTINGS_WLAN_DESC_AUTH_CACHE"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_TDLS_PROHIBIT"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkTdlsProhibit" id="wirelessNetworkTdlsProhibit" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.tdls_prohibit" ng-model-master="wirelessNetworkFormCtrl.model.attributes.tdls_prohibit"><label for="wirelessNetworkTdlsProhibit" translate="SETTINGS_WLAN_DESC_TDLS_PROHIBIT"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_P2P"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkP2p" id="wirelessNetworkP2p" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.p2p" ng-model-master="wirelessNetworkFormCtrl.model.attributes.p2p"><label for="wirelessNetworkP2p" translate="SETTINGS_WLAN_DESC_P2P"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_P2P_CROSS_CONNECT"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkP2pXconnect" id="wirelessNetworkP2pXconnect" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.p2p_cross_connect" ng-model-master="wirelessNetworkFormCtrl.model.attributes.p2p_cross_connect" ng-disabled="!wirelessNetworkFormCtrl.modelCopy.attributes.p2p" ng-checked="!!wirelessNetworkFormCtrl.model.attributes.p2p_cross_connect &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.p2p"><label for="wirelessNetworkP2pXconnect" translate="SETTINGS_WLAN_DESC_P2P_CROSS_CONNECT"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_PROXYARP"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkProxyArp" id="wirelessNetworkProxyArp" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.proxy_arp" ng-model-master="wirelessNetworkFormCtrl.model.attributes.proxy_arp"><label for="wirelessNetworkProxyArp" translate="SETTINGS_WLAN_DESC_PROXYARP"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_L2_ISOLATION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkL2Isolation" id="wirelessNetworkL2Isolation" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.l2_isolation" ng-model-master="wirelessNetworkFormCtrl.model.attributes.l2_isolation"><label for="wirelessNetworkL2Isolation" translate="SETTINGS_WLAN_DESC_L2_ISOLATION"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_LEGACY_SUPPORT"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="wirelessNetworkEnableLegacySupport" id="wirelessNetworkEnableLegacySupport" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.b_supported" ng-model-master="wirelessNetworkFormCtrl.model.attributes.b_supported"><label for="wirelessNetworkEnableLegacySupport" translate="SETTINGS_WLAN_DESC_LEGACY_SUPPORT"></label></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="wirelessNetworkFormCtrl.modelCopy.attributes.b_supported"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_DESC_LEGACY_NOTE"></p></div><div class="appInfoBox__footer"><a class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-href="{{wirelessNetworkFormCtrl.URLS.WLAN_GROUP_LEGACY_NOTE}}" target="_blank"><span class="button__icon icon ubnt-icon--info"></span><span translate="SETTINGS_WLAN_DESC_LEGACY_NOTE_LEARN_MORE"></span></a></div></div></div></div></div><div class="appRow mt-2"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_PMF"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkPmf" id="wirelessNetworkPmfDisabled" value="disabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.pmf_mode" ng-model-master="wirelessNetworkFormCtrl.model.attributes.pmf_mode" ng-disabled="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support"><label for="wirelessNetworkPmfDisabled" translate="SETTINGS_WLAN_VALUES_DISABLED"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkPmf" id="wirelessNetworkPmfOptional" value="optional" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.pmf_mode" ng-model-master="wirelessNetworkFormCtrl.model.attributes.pmf_mode" ng-disabled="(wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support &amp;&amp; !wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_transition)"><label for="wirelessNetworkPmfOptional" translate="SETTINGS_WLAN_VALUES_OPTIONAL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkPmf" id="wirelessNetworkPmfEnabled" value="required" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.pmf_mode" ng-model-master="wirelessNetworkFormCtrl.model.attributes.pmf_mode" ng-required="(wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support &amp;&amp; !wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_transition)"><label for="wirelessNetworkPmfEnabled" translate="SETTINGS_WLAN_VALUES_REQUIRED"></label></div></div><div class="appInputGroup appInputGroup--cozy" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_enhanced_192"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_PMF_CRYPT"></label><select name="wirelessNetworkPmfCrypt" id="wirelessNetworkPmfCrypt" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.pmf_cipher" ng-model-master="wirelessNetworkFormCtrl.model.attributes.pmf_cipher" ng-model-master-cleanup="true" ng-options="key as value | translate for (key, value) in wirelessNetworkFormCtrl.pmfCryptOptions" ng-disabled="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_enhanced_192"></select><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_WLAN_TOOLTIP_PMF_CRYPT"></content></unifi-tooltip></div><div class="appInfoBox appInfoBox--cozy verticalRhythmTop--cozy" ng-class="{\'appInfoBox--dark\': wirelessNetworkFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--eye2"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p translate="SETTINGS_WLAN_PMF_NOTE_VALUE_DISABLED"'+o("translate-compile",!0,!0,!0)+'></p><p translate="SETTINGS_WLAN_PMF_NOTE_VALUE_OPTIONAL"'+o("translate-compile",!0,!0,!0)+'></p><p class="noMarginBottom" translate="SETTINGS_WLAN_PMF_NOTE_VALUE_REQUIRED"'+o("translate-compile",!0,!0,!0)+'></p></div></div></div></div></div><div class="appRow" ng-show="[\'wpapsk\',\'wpaeap\'].includes(wirelessNetworkFormCtrl.modelCopy.attributes.security)"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="{{wirelessNetworkFormCtrl.wpa1Enabled ? \'SETTINGS_WLAN_LABEL_WPA_MODE\' : \'SETTINGS_WLAN_LABEL_WPA2_ENCRYPTION\'}}"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="wirelessNetworkFormCtrl.wpa1Enabled"><select name="wirelessNetworkWpaMode" id="wirelessNetworkWpaMode" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.wpa_mode" ng-model-master="wirelessNetworkFormCtrl.model.attributes.wpa_mode" ng-model-master-cleanup="true" ng-options="key as value | translate for (key, value) in wirelessNetworkFormCtrl.wpaModeOptions" ng-disabled="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support"></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_enhanced_192"><label ng-show="wirelessNetworkFormCtrl.wpa1Enabled" for="wirelessNetworkWpaEncryption" translate="SETTINGS_WLAN_LABEL_WPA_ENCRYPTION"></label><select ng-show="wirelessNetworkFormCtrl.settings.isAdvancedFeaturesEnabled() || wirelessNetworkFormCtrl.modelCopy.attributes.wpa_enc === \'auto\'" name="wirelessNetworkWpaEncryption" id="wirelessNetworkWpaEncryption" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.wpa_enc" ng-model-master="wirelessNetworkFormCtrl.model.attributes.wpa_enc" ng-model-master-cleanup="true" ng-options="key as value | translate for (key, value) in wirelessNetworkFormCtrl.encryptionOptions" ng-disabled="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_enhanced_192"></select><div class="appLabel appLabel--boxAlign" ng-show="!wirelessNetworkFormCtrl.settings.isAdvancedFeaturesEnabled() &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.wpa_enc !== \'auto\'">{{wirelessNetworkFormCtrl.encryptionOptions[wirelessNetworkFormCtrl.modelCopy.attributes.wpa_enc] | translate}}</div><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_WLAN_TOOLTIP_WPA_CRYPT"></content></unifi-tooltip></div></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support &amp;&amp;                   wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpapsk\'"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_WPA3_ANTI_CLOGGING"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--condensed inlineBlock"><input class="input--mediumNumber" type="text" name="wirelessNetworkSaeAntiClogging" id="wirelessNetworkSaeAntiClogging" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.sae_anti_clogging" ng-model-master="wirelessNetworkFormCtrl.model.attributes.sae_anti_clogging" placeholder="5" min="1" max="60"><label for="wirelessNetworkSaeAntiClogging" translate="SETTINGS_WLAN_DESC_WPA3_ANTI_CLOGGING"></label></div></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.wpa3_support &amp;&amp;                   wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpapsk\'"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_WPA3_SYNC"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--condensed inlineBlock"><input class="input--mediumNumber" type="text" name="wirelessNetworkSaeSync" id="wirelessNetworkSaeSync" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.sae_sync" ng-model-master="wirelessNetworkFormCtrl.model.attributes.sae_sync" placeholder="5" min="1" max="60"><label for="wirelessNetworkSaeSync" translate="SETTINGS_WLAN_DESC_WPA3_SYNC"></label></div></div></div></div></fieldset></div><div class="unifiSettingsSection" ng-show="wirelessNetworkFormCtrl.isAdvancedExpanded"><div class="appSubHeading appSubHeading--comfy" ng-click="wirelessNetworkFormCtrl.isMinrateExpanded = !wirelessNetworkFormCtrl.isMinrateExpanded" ng-class="wirelessNetworkFormCtrl.isMinrateExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_WLAN_SECTION_WLAN_RATE_AND_BEACON"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkFormCtrl.isMinrateExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_DTIM_PERIOD"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkDtim" id="wirelessNetworkDtim" ng-true-value="\'default\'" ng-false-value="\'custom\'" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.dtim_mode" ng-model-master="wirelessNetworkFormCtrl.model.attributes.dtim_mode"><label for="wirelessNetworkDtim" translate="SETTINGS_WLAN_LABEL_DTIM_PERIOD_DEFAULT"></label></div></div></div><div class="appRow" ng-repeat="dtimCustom in [\'ng\', \'na\']"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="{{\'SETTINGS_WLAN_LABEL_DTIM_PERIOD_\' + dtimCustom | toTranslationKey}}"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input ng-if="wirelessNetworkFormCtrl.modelCopy.attributes.dtim_mode === \'default\'" type="number" ng-value="wirelessNetworkFormCtrl.MINRATE_SETTINGS.DTIM.DEFAULT[dtimCustom.toUpperCase()]" ng-disabled="true"><input ng-if="wirelessNetworkFormCtrl.modelCopy.attributes.dtim_mode === \'custom\'" type="number" min="{{wirelessNetworkFormCtrl.MINRATE_SETTINGS.DTIM.MIN}}" max="{{wirelessNetworkFormCtrl.MINRATE_SETTINGS.DTIM.MAX}}" name="wirelessNetworkDtimCustom" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes[\'dtim_\' + dtimCustom]" ng-model-master="wirelessNetworkFormCtrl.model.attributes[\'dtim_\' + dtimCustom]" ng-required="wirelessNetworkFormCtrl.modelCopy.attributes.dtim_mode === \'custom\'"></div></div></div></div></div><div ng-repeat="radio in [\'ng\', \'na\']"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="{{wirelessNetworkFormCtrl.minrateSliderLabel[radio]}}"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wlanMinrateEnabled_{{radio}}" id="wlanMinrateEnabled_{{radio}}" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_enabled\']" ng-model-master="wirelessNetworkFormCtrl.model.attributes[\'minrate_\' + radio +\'_enabled\']"><label for="wlanMinrateEnabled_{{radio}}" translate="{{wirelessNetworkFormCtrl.minrateSliderLabel[\'enabled_\' + radio]}}"></label><unifi-tooltip class="ubntTooltip--small"><content><div class="verticalRhythmQuarter" translate="SETTINGS_WLAN_MINRATE_ENABLED_TOOLTIP_INFO"></div><div translate="SETTINGS_WLAN_MINRATE_ENABLED_TOOLTIP_DISABLE"></div></content></unifi-tooltip></div></div></div><div class="appRow" ng-if="wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_enabled\']"><div class="col--sm7 col--smOffset3 appFormGroup--cozy"><div class="appInputGroup"><unifi-wireless-network-minrate-slider unifi-wireless-network-minrate-slider-model="wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_data_rate_kbps\']" unifi-wireless-network-minrate-slider-mcs-frequencies="wirelessNetworkFormCtrl.MINRATE_SETTINGS.MCS[radio]" unifi-wireless-network-minrate-slider-radio="radio" unifi-wireless-network-minrate-slider-force-render="[                wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_enabled\'],                 wirelessNetworkFormCtrl.isAdvancedExpanded,                 wirelessNetworkFormCtrl.isMinrateExpanded               ]"></unifi-wireless-network-minrate-slider><unifi-wireless-network-minrate-compatibility-info unifi-wireless-network-minrate-compatibility-info-model="wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_data_rate_kbps\']" unifi-wireless-network-minrate-compatibility-info-mcs-frequencies="wirelessNetworkFormCtrl.MINRATE_SETTINGS.MCS[radio]" unifi-wireless-network-minrate-compatibility-info-radio="radio" unifi-wireless-network-minrate-compatibility-info-force-no-connectivity="wirelessNetworkFormCtrl.isCckRatesDisabled(radio)"></unifi-wireless-network-minrate-compatibility-info></div><div class="appInputGroup appInputGroup--cozy" ng-if="radio === \'ng\'"><input type="checkbox" name="wlanMinrateCckRatesEnabled_{{radio}}" id="wlanMinrateCckRatesEnabled_{{radio}}" ng-true-value="false" ng-false-value="true" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_cck_rates_enabled\']" ng-model-master="wirelessNetworkFormCtrl.model.attributes[\'minrate_\' + radio +\'_cck_rates_enabled\']"><label for="wlanMinrateCckRatesEnabled_{{radio}}" translate="SETTINGS_WLAN_LABEL_MINRATE_DISABLE_CKK_RATES" translate-values="{disabledRates: \'1/2/5.5/11 Mbps\'}"></label></div><div class="appInputGroup appInputGroup--cozy"><input ng-show="wirelessNetworkFormCtrl.isMinrateDefaultValue(radio) &amp;&amp; !wirelessNetworkFormCtrl.isCckRatesDisabled(radio)" type="checkbox" ng-disabled="true"><input ng-hide="wirelessNetworkFormCtrl.isMinrateDefaultValue(radio) &amp;&amp; !wirelessNetworkFormCtrl.isCckRatesDisabled(radio)" ng-disabled="wirelessNetworkFormCtrl.isMinrateDefaultValue(radio) &amp;&amp; !wirelessNetworkFormCtrl.isCckRatesDisabled(radio)" type="checkbox" name="wlanMinrateAdvertisingRates_{{radio}}" id="wlanMinrateAdvertisingRates_{{radio}}" ng-true-value="true" ng-false-value="false" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_advertising_rates\']" ng-model-master="wirelessNetworkFormCtrl.model.attributes[\'minrate_\' + radio +\'_advertising_rates\']"><label for="wlanMinrateAdvertisingRates_{{radio}}" translate="SETTINGS_WLAN_LABEL_MINRATE_REQUIRE_CLIENTS"></label></div><div class="appInputGroup appInputGroup--cozy"><input ng-if="wirelessNetworkFormCtrl.isMinrateDefaultValue(radio)" type="checkbox" ng-disabled="true"><input ng-hide="wirelessNetworkFormCtrl.isMinrateDefaultValue(radio)" ng-disabled="wirelessNetworkFormCtrl.isMinrateDefaultValue(radio)" type="checkbox" name="wlanMinrateBeacon_{{radio}}" id="wlanMinrateBeacon_{{radio}}" ng-true-value="{{wirelessNetworkFormCtrl.MINRATE_SETTINGS.MCS[radio][0]}}" ng-false-value="0" ng-model="wirelessNetworkFormCtrl.minrateBeacon[radio]"><label for="wlanMinrateBeacon_{{radio}}" translate="SETTINGS_WLAN_LABEL_MINRATE_SEND_BEACONS_AT" translate-values="{rate: wirelessNetworkFormCtrl.MINRATE_SETTINGS.MCS[radio][0] / 1000}"></label></div></div></div></div></fieldset></div><div class="unifiSettingsSection" ng-if="::(\'enableMacFilter\' | featureFlagEnable)" ng-show="wirelessNetworkFormCtrl.isAdvancedExpanded"><div class="appSubHeading appSubHeading--comfy" ng-click="wirelessNetworkFormCtrl.isMacFilterExpanded = !wirelessNetworkFormCtrl.isMacFilterExpanded" ng-class="wirelessNetworkFormCtrl.isMacFilterExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_WLAN_SECTION_WLAN_MAC_FILTER"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkFormCtrl.isMacFilterExpanded"><div class="appRow"><div class="col--sm5 col--smOffset3"><unifi-notify-firmware-requirement class="mb-3" unifi-notify-firmware-requirement-wifi-caps="[\'MULTIPLE_ACL_LIST\']"></unifi-notify-firmware-requirement></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_MAC_FILTER_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wlanMacFilterEnabled" id="wlanMacFilterEnabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.mac_filter_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.mac_filter_enabled"><label for="wlanMacFilterEnabled" translate="SETTINGS_WLAN_VALUES_MAC_FILTER_ENABLED"></label></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkFormCtrl.isMacFilterExpanded &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.mac_filter_enabled"><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_MAC_FILTER_POLICY"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy" ng-repeat="macFilterPolicy in [\'allow\', \'deny\']"><input type="radio" name="wlanMacFilterPolicy" id="wlanMacFilterPolicy-{{macFilterPolicy}}" value="{{macFilterPolicy}}" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.mac_filter_policy" ng-model-master="wirelessNetworkFormCtrl.model.attributes.mac_filter_policy"><label for="wlanMacFilterPolicy-{{macFilterPolicy}}">{{ \'SETTINGS_WLAN_VALUES_MAC_FILTER_POLICY_\' + macFilterPolicy | uppercase | translate  }}</label><unifi-tooltip class="ubntTooltip--small"><content><span>{{ \'SETTINGS_WLAN_VALUES_MAC_FILTER_POLICY_TOOLTIP_\' + macFilterPolicy | toTranslationKey | translate  }}</span></content></unifi-tooltip></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_MAC_FILTER_LIST"></label></div><div class="col--sm9 appFormGroup noMarginBottom"><unifi-wireless-network-mac-address-filter-list unifi-wireless-network-mac-address-filter-list-filter-list="wirelessNetworkFormCtrl.modelCopy.attributes.mac_filter_list" unifi-wireless-network-mac-address-filter-list-filter-max-total-per-wlan-group="wirelessNetworkFormCtrl.macFilterMax" unifi-wireless-network-mac-address-filter-list-filter-max-available="wirelessNetworkFormCtrl.getMacFilterAvailable()" unifi-wireless-network-mac-address-filter-list-wireless-clients-only="true"></unifi-wireless-network-mac-address-filter-list></div></div></fieldset></div><div class="unifiSettingsSection" ng-show="wirelessNetworkFormCtrl.isAdvancedExpanded"><div class="appSubHeading appSubHeading--comfy" ng-click="wirelessNetworkFormCtrl.isRadiusMacAuthenticationExpanded = !wirelessNetworkFormCtrl.isRadiusMacAuthenticationExpanded" ng-class="wirelessNetworkFormCtrl.isRadiusMacAuthenticationExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_WLAN_SECTION_WLAN_RADIUS_MAC_AUTHENTICATION"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkFormCtrl.isRadiusMacAuthenticationExpanded"><div class="appRow"><div class="col--sm5 col--smOffset3"><unifi-notify-firmware-requirement class="mb-3" unifi-notify-firmware-requirement-wifi-caps="[\'UNIFI_WIFI_CAP_RADIUS_MAC_AUTH\']"></unifi-notify-firmware-requirement></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_RADIUS_MAC_AUTHENTICATION_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="radiusMacAuthenticationEnabled" id="radiusMacAuthenticationEnabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.radius_mac_auth_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.radius_mac_auth_enabled"><label for="radiusMacAuthenticationEnabled" translate="SETTINGS_WLAN_VALUES_RADIUS_MAC_AUTHENTICATION_ENABLE"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary" translate="SETTINGS_WLAN_LABEL_RADIUS_PROFILE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><unifi-radius-selector unifi-radius-selector-radius-profile-id="wirelessNetworkFormCtrl.modelCopy.attributes.radiusprofile_id" unifi-radius-selector-is-read-only="wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpaeap\'" unifi-radius-selector-is-required="wirelessNetworkFormCtrl.modelCopy.attributes.radius_mac_auth_enabled"></unifi-radius-selector></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_RADIUS_MAC_AUTHENTICATION_MAC_ADDRESS_FORMAT"></label><unifi-tooltip class="ubntTooltip--small"><content translate="SETTINGS_WLAN_TOOLTIP_MAC_AUTHENTICATION_FORMAT"></content></unifi-tooltip></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.radius_macacl_format" ng-model-master="wirelessNetworkFormCtrl.model.attributes.radius_macacl_format" ng-options="format.key as format.label for format in wirelessNetworkFormCtrl.macAddressFormatOptions" ng-required="wirelessNetworkFormCtrl.modelCopy.attributes.radius_mac_auth_enabled"><option'+o("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_RADIUS_MAC_AUTHENTICATION_EMPTY_PASSWORD"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed noMarginBottom"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="radiusMacAuthenticationAllowEmptyP" id="radiusMacAuthenticationAllowEmptyPassword" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.radius_macacl_empty_password" ng-model-master="wirelessNetworkFormCtrl.model.attributes.radius_macacl_empty_password"><label for="radiusMacAuthenticationAllowEmptyPassword" translate="SETTINGS_WLAN_VALUES_RADIUS_MAC_AUTHENTICATION_ALLOW_EMPTY_PASSWORD"></label></div></div></div></fieldset></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveWirelessNetwork" ng-if="!isReadOnly" ng-click="wirelessNetworkFormCtrl.showValidation = true" busy-toggle="wirelessNetworkFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--transparent cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()" translate="COMMON_ACTIONS_CANCEL"></button></div></div></form>'};var i=/["&<>]/},{"pug-runtime":2}],245:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return s(t)}(this,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("app-unifi-manage-settings").controller("WirelessNetworkListController",["$translate","heyToasts","frame","BaseListController","wirelessNetworks","wirelessNetworkUtils",function(t,e,n,o,l,u){return new(function(c){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(g,o);var d,m,f,_=a(g);function g(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return p(s(t=_.call.apply(_,[this].concat(n))),"defaultSortBy","name"),p(s(t),"isRemoving",{}),t}return d=g,(m=[{key:"getCollection",value:function(){return l.repository.collection}},{key:"isRadiusAssigned",value:function(t){return u.isRadiusEnabled(t)}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}},{key:"remove",value:function(o){var i=this;return n.show("confirm",{title:function(){return t.instant("SETTINGS_WLAN_DELETE_CONFIRM_TITLE",{wlanName:o.get("name")})},message:function(){return t.instant("SETTINGS_WLAN_DELETE_CONFIRM_MESSAGE",{wlanName:o.get("name")})},options:angular.noop}).then(function(){return i.isRemoving[o.id]=!0,o.destroy({wait:!0}).then(function(){return e.pushSuccess(t.instant("SETTINGS_WLAN_DELETE_SUCCESS",{wlanName:o.get("name")})),!0}).catch(function(){return e.pushError(t.instant("SETTINGS_WLAN_DELETE_ERROR",{wlanName:o.get("name")})),!1}).finally(function(){i.isRemoving[o.id]=!1})})}}])&&i(d.prototype,m),f&&i(d,f),g}())}])},{}],246:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkList",["ListDirective",function(e){return new e("wirelessNetwork",t("./wirelessNetworkList.pug")(),{onEdit:"&unifiWirelessNetworkListOnEdit"})}])},{"./wirelessNetworkList.pug":247}],247:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div><table class="verticalRhythmTop--cozy appTable appTable--condensed appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="wirelessNetworksTable" collection-view-sort="wirelessNetworkListCtrl.view"><thead><tr><th class="wlanName" collection-view-sort-by="name"><span translate="SETTINGS_WLAN_TABLE_HEADER_NAME"></span></th><th class="wlanSecurity" collection-view-sort-by="security"><span translate="SETTINGS_WLAN_TABLE_HEADER_SECURITY"></span></th><th class="wlanGuestNetwork" collection-view-sort-by="is_guest"><span translate="SETTINGS_WLAN_TABLE_HEADER_GUEST_NETWORK"></span></th><th class="wlanVlan" collection-view-sort-by="vlan"><span translate="SETTINGS_WLAN_TABLE_HEADER_VLAN"></span></th><th class="wlanActions"><span translate="SETTINGS_WLAN_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in wirelessNetworkListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="wlanName">{{::model.get(\'name\')}}</td><td class="wlanSecurity">{{::model.get(\'security\')}}</td><td class="wlanGuestNetwork" ng-bind-html="model.get(\'is_guest\') | enabledIcon"></td><td class="wlanVlan"><span ng-if="model.get(\'vlan_enabled\') &amp;&amp; !wirelessNetworkListCtrl.isRadiusAssigned(model)">{{model.get(\'vlan\')}}</span><span ng-if="wirelessNetworkListCtrl.isRadiusAssigned(model)">{{\'SETTINGS_WLAN_TABLE_VALUE_VLAN_RADIUS_ASSIGNED\' | translate}}</span></td><td class="wlanActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-click="wirelessNetworkListCtrl.edit(model)" ng-disabled="wirelessNetworkListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="wirelessNetworkListCtrl.edit(model)" ng-disabled="wirelessNetworkListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+o("unifi-if-role-admin",!0,!0,!0)+' ng-click="wirelessNetworkListCtrl.remove(model)" ng-disabled="wirelessNetworkListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!wirelessNetworkListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_TABLE_EMPTY"></p></div></div></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],248:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}angular.module("app-unifi-manage-settings").controller("WirelessNetworkMacAddressFilterListController",["_","$translate","clients","devices","frame","gatewayUtils","knownClientsCache","regexUtils","REGEX_PATTERNS",function(t,e,n,i,r,a,s,l,p){return new(function(){function u(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.gateway=a.getSiteGateway(),this.patterns={macAddress:l.exact(p.MAC_ADDRESS)},this.filterListCurrentPage=1,this.filterListRowsPerPage=10,this.filterListPristine=!0,this.knownClientsCacheIds=[]}var c,d,m;return c=u,(d=[{key:"$onDestroy",value:function(){this.knownClientsCacheIds.forEach(function(t){s.repository.unregisterItem(t)})}},{key:"addAutoGateway",value:function(){var t=this.getGatewayMac();if(this.gatewayAutoDetectEnabled&&this.filterMaxAvailable>0&&this.filterListPristine&&t&&!this.hasMacAddress(t)){var e=new String(t);e.autoDeteted=!0,this.filterList.unshift(e)}}},{key:"removeAutoGateway",value:function(){var t=this.getGatewayMac();if(this.gatewayAutoDetectEnabled&&this.filterListPristine&&t){var e=this.findMacAddressIndex(t);-1!==e&&!0===this.filterList[e].autoDeteted&&this.filterList.splice(e,1)}}},{key:"isGateway",value:function(t){return this.getGatewayMac()===t.toString()}},{key:"getGatewayMac",value:function(){return this.gateway&&this.gateway.get("mac")||void 0}},{key:"addBatchMacAddress",value:function(){var t=this;r.show("wirelessNetworkMacFilterAddBatch").then(function(e){if(e.macFilterOverride)t.filterList=e.macFilterList;else{var n=t.getUniqueMacAddresses(e.macFilterList);t.filterList.push.apply(t.filterList,n)}t.filterListPristine=!1})}},{key:"addClientsMacAddress",value:function(){var t=this;r.show("wirelessNetworkMacFilterAddClients",{macFilterList:function(){return t.filterList},wirelessClientsOnly:function(){return t.wirelessClientsOnly}}).then(function(e){var n=t.getUniqueMacAddresses(e.macFilterList);t.filterList.push.apply(t.filterList,n),t.filterListPristine=!1})}},{key:"getUniqueMacAddresses",value:function(e){return t.difference(e,this.filterList.map(function(t){return t.toString()}))}},{key:"addMacAddress",value:function(){var t=this.macAddressToAdd;this.isMacAddressValid(t)&&!this.hasMacAddress(t)?(this.filterList.push(t),this.filterListPristine=!1,this.macAddressToAdd="",this.showMacValidation=!1):this.showMacValidation=!0}},{key:"onAddMacAddress",value:function(t){return 13===t.keyCode?(t.preventDefault(),this.addMacAddress()):void 0}},{key:"removeMacAddress",value:function(t){var e=this.findMacAddressIndex(t);-1!==e&&this.filterList.splice(e,1),this.filterListPristine=!1}},{key:"findMacAddressIndex",value:function(t){return(this.filterList||[]).findIndex(function(e){return e.toString()===t.toString()})}},{key:"hasMacAddress",value:function(t){return-1!==this.findMacAddressIndex(t||"")}},{key:"isMacAddressValid",value:function(t){return""===(t=(t||"").trim())||this.patterns.macAddress.test(t)}},{key:"getMacFilterLimits",value:function(){var t=this.filterList?this.filterList.length:0,e=this.filterMaxAvailable-t;return{max:this.filterMaxAvailable,exceeded:e<0?-e:0}}},{key:"getHostnameByMac",value:function(t){var o=i.repository.collection.get(t),r=o&&o.get("name");if(r)return r;var a=n.repository.collection.get(t),l=a&&(a.get("name")||a.get("hostname"));if(l)return l;var p=s.repository.collection.get(t),u=p&&(p.get("name")||p.get("hostname"));return u||(-1===this.knownClientsCacheIds.indexOf(t)&&(this.knownClientsCacheIds.push(t),s.repository.registerItem(t).fetchItem(t)),this.isGateway(t)?e.instant("SETTINGS_WLAN_TABLE_FILTER_LIST_DEFAULT_GATEWAY"):e.instant("SETTINGS_WLAN_TABLE_FILTER_LIST_UNKNOWN_HOSTNAME"))}}])&&o(c.prototype,d),m&&o(c,m),u}())}])},{}],249:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkMacAddressFilterList",[function(){return{scope:{filterEnabled:"=unifiWirelessNetworkMacAddressFilterListFilterEnabled",filterList:"=unifiWirelessNetworkMacAddressFilterListFilterList",filterMaxTotalPerSite:"=unifiWirelessNetworkMacAddressFilterListFilterMaxTotalPerSite",filterMaxTotalPerWlanGroup:"=unifiWirelessNetworkMacAddressFilterListFilterMaxTotalPerWlanGroup",filterMaxAvailable:"=unifiWirelessNetworkMacAddressFilterListFilterMaxAvailable",gatewayAutoDetectEnabled:"=unifiWirelessNetworkMacAddressFilterListGatewayAutoDetectEnabled",wirelessClientsOnly:"=unifiWirelessNetworkMacAddressFilterListWirelessClientsOnly"},controller:"WirelessNetworkMacAddressFilterListController",controllerAs:"wirelessNetworkMacAddressFilterListCtrl",template:t("./wirelessNetworkMacAddressFilterList.pug")(),bindToController:!0,link:function(t,e,n,o){t.$watch(function(){return o.filterEnabled},function(t,e){void 0!==e&&(t?o.addAutoGateway():o.removeAutoGateway())})}}}])},{"./wirelessNetworkMacAddressFilterList.pug":250}],250:[function(t,e,n){t("pug-runtime");function o(t,e,n,o){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(o?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o,r,a,s="";for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.exports=function(t){var e="";return e=e+'<div class="wirelessNetworkMacAddressFilterList"><div ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxAvailable &gt; 0"><div class="wirelessNetworkMacAddressFilterListLimitsExceeded appInfoBox appInfoBox--cozy appInfoBox--danger verticalRhythmHalf" ng-show="wirelessNetworkMacAddressFilterListCtrl.getMacFilterLimits().exceeded"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom"><span ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_PER_SITE" translate-values="{max: wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite}"></span><span ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_PER_WLAN_GROUP" translate-values="{max: wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup}"></span><span class="appDisplaySpaceBefore" ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite || wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_DETAILS" translate-values="{                configured: wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup + wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite - wirelessNetworkMacAddressFilterListCtrl.filterMaxAvailable,                available: wirelessNetworkMacAddressFilterListCtrl.filterMaxAvailable              }"></span><span ng-if="!wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite &amp;&amp; !wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_PER_WLAN" translate-values="{max: wirelessNetworkMacAddressFilterListCtrl.filterMaxAvailable}"></span><span class="appDisplaySpaceBefore" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_REMOVE" translate-values="wirelessNetworkMacAddressFilterListCtrl.getMacFilterLimits()" translate-interpolation="messageformat"></span></p></div></div></div><table class="appTable appTable--condensed appTable--noWrap appTable--noLines verticalRhythmHalf" ng-if="wirelessNetworkMacAddressFilterListCtrl.filterList.length" ng-class="{        \'appTable--hoverable\': wirelessNetworkMacAddressFilterListCtrl.filterList.length      }"><thead><tr><th class="wlanMacAddress"><span translate="SETTINGS_WLAN_TABLE_FILTER_LIST_HEADER_MAC"></span></th><th class="wlanClientHostname"><span translate="SETTINGS_WLAN_TABLE_FILTER_LIST_HEADER_NAME"></span></th><th class="wlanAction"><span translate="SETTINGS_WLAN_TABLE_FILTER_LIST_HEADER_ACTION"></span></th></tr></thead><tfoot ng-if="wirelessNetworkMacAddressFilterListCtrl.filterList.length"><tr><td colspan="3"><unifi-list-pagination class="noMarginBottom" unifi-list-pagination-current-page="wirelessNetworkMacAddressFilterListCtrl.filterListCurrentPage" unifi-list-pagination-rows-per-page="wirelessNetworkMacAddressFilterListCtrl.filterListRowsPerPage" unifi-list-pagination-total-rows="wirelessNetworkMacAddressFilterListCtrl.filterList.length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="macAddress in wirelessNetworkMacAddressFilterListCtrl.filterList.sort(),            startFrom (wirelessNetworkMacAddressFilterListCtrl.filterListCurrentPage - 1) * wirelessNetworkMacAddressFilterListCtrl.filterListRowsPerPage,            limitTo wirelessNetworkMacAddressFilterListCtrl.filterListRowsPerPage" collection-view-repeat-watch="wirelessNetworkMacAddressFilterListCtrl.filterList.length" data-id="{{::macAddress}}"><td class="wlanMacAddress">{{::macAddress}}</td><td class="wlanClientHostname">{{wirelessNetworkMacAddressFilterListCtrl.getHostnameByMac(macAddress)}}<span class="horizontalRhythmLeft--smash" ng-if="macAddress.autoDeteted" translate="SETTINGS_WLAN_TABLE_FILTER_LIST_AUTO_DETECTED_GATEWAY"></span></td><td class="wlanAction"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+o("unifi-if-role-admin",!0,!0,!0)+' type="button" ng-click="wirelessNetworkMacAddressFilterListCtrl.removeMacAddress(macAddress)"><span class="button__icon icon ubnt-icon--x-circle"></span><span translate="COMMON_ACTIONS_REMOVE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmHalf noHorizontalPadding" ng-if="!wirelessNetworkMacAddressFilterListCtrl.filterList.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_TABLE_FILTER_LIST_EMPTY"></p></div></div></div><div class="appInputGroup appInputGroup--cozy verticalRhythmHalf is-form-validation-visible"><input type="text" ng-class="{          \'ng-invalid\': wirelessNetworkMacAddressFilterListCtrl.showMacValidation &amp;&amp; !wirelessNetworkMacAddressFilterListCtrl.isMacAddressValid(wirelessNetworkMacAddressFilterListCtrl.macAddressToAdd),          \'is-input-warning\': wirelessNetworkMacAddressFilterListCtrl.hasMacAddress(wirelessNetworkMacAddressFilterListCtrl.macAddressToAdd)        }" ng-model="wirelessNetworkMacAddressFilterListCtrl.macAddressToAdd" ng-keydown="wirelessNetworkMacAddressFilterListCtrl.onAddMacAddress($event)"'+o("unifi-mac-address",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="wirelessNetworkMacAddressFilterListCtrl.addMacAddress()" ng-disabled="!wirelessNetworkMacAddressFilterListCtrl.macAddressToAdd"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_WLAN_BUTTON_FILTER_LIST_ADD_MAC"></span></button></div><div class="appInputGroup appInputGroup--cozy"><button class="appMainButton appMainButton--input appMainButton--cozy" type="button" ng-click="wirelessNetworkMacAddressFilterListCtrl.addBatchMacAddress()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_WLAN_BUTTON_FILTER_LIST_ADD_BATCH"></span></button><button class="appMainButton appMainButton--input appMainButton--cozy" type="button" ng-click="wirelessNetworkMacAddressFilterListCtrl.addClientsMacAddress(wirelessNetworkMacAddressFilterListCtrl.filterList)"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_WLAN_BUTTON_FILTER_LIST_ADD_CLIENTS"></span></button></div></div><div ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxAvailable == 0"><div class="appInfoBox appInfoBox--cozy appInfoBox--danger verticalRhythmHalf"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_NO_AVAILABLE" translate-values="{max: wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite}"></p><p class="noMarginBottom" ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_NO_AVAILABLE_PER_GROUP" translate-values="{max: wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup}"></p></div></div></div></div></div>'};var i=/["&<>]/},{"pug-runtime":2}],251:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}angular.module("app-unifi-manage-settings").controller("WirelessNetworkMinrateCompatibilityInfoController",["preferences",function(t){return new(function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.preferences=t}var n,i,r;return n=e,(i=[{key:"isFullConnectivity",value:function(){return this.model===this.mcsFrequencies[0]&&!this.isNoConnectivity()}},{key:"isLimitedConnectivity",value:function(){return!this.isFullConnectivity()&&!this.isNoConnectivity()}},{key:"isNoConnectivity",value:function(){return this.forceNoConnectivity||this.isRadioNg()&&this.model>=12e3}},{key:"isRadioNg",value:function(){return"ng"===this.radio}},{key:"isRadioNa",value:function(){return"na"===this.radio}}])&&o(n.prototype,i),r&&o(n,r),e}())}])},{}],252:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiWirelessNetworkMinrateCompatibilityInfo",{controller:"WirelessNetworkMinrateCompatibilityInfoController",controllerAs:"wirelessNetworkMinrateCompatibilityInfoControllerCtrl",template:t("./wirelessNetworkMinrateCompatibilityInfo.pug")(),bindings:{forceNoConnectivity:"<unifiWirelessNetworkMinrateCompatibilityInfoForceNoConnectivity",model:"<unifiWirelessNetworkMinrateCompatibilityInfoModel",mcsFrequencies:"<unifiWirelessNetworkMinrateCompatibilityInfoMcsFrequencies",radio:"<unifiWirelessNetworkMinrateCompatibilityInfoRadio"}})},{"./wirelessNetworkMinrateCompatibilityInfo.pug":253}],253:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appInfoBox appInfoBox--cozy verticalRhythmHalf" ng-class="{    \'appInfoBox--warning\': wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isLimitedConnectivity(),     \'appInfoBox--danger\': wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isNoConnectivity()   }"><div class="appInfoBox__icon icon" ng-class="{      \'ubnt-icon--info\': wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isFullConnectivity(),       \'ubnt-icon--eye2\': wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isLimitedConnectivity(),       \'ubnt-icon--alert\': wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isNoConnectivity()     }"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" ng-show="wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isFullConnectivity()" translate="SETTINGS_WLAN_MINRATE_INFO_FULL_COMPATIBILITY"></p><p class="noMarginBottom" ng-show="wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isLimitedConnectivity() &amp;&amp; wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isRadioNa()" translate="SETTINGS_WLAN_MINRATE_INFO_LIMITED_CONNECTIVITY_5G"></p><p class="noMarginBottom" ng-show="wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isLimitedConnectivity() &amp;&amp; wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isRadioNg()" translate="SETTINGS_WLAN_MINRATE_INFO_LIMITED_CONNECTIVITY_2G"></p><p class="noMarginBottom" ng-show="wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isNoConnectivity() &amp;&amp; wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isRadioNg()" translate="SETTINGS_WLAN_MINRATE_INFO_NO_CONNECTIVITY_2G"></p></div></div></div>'}},{"pug-runtime":2}],254:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").controller("WirelessNetworkMinrateSliderController",["$translate",function(t){return new function e(){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.mbpsUnit=" "+t.instant("SETTINGS_WLAN_LABEL_MINRATE_MBPS_UNIT"),this.translateLabel=function(t){return t/1e3+n.mbpsUnit}}}])},{}],255:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkMinrateSlider",["$timeout",function(e){return{controller:"WirelessNetworkMinrateSliderController",controllerAs:"wirelessNetworkMinrateSliderControllerCtrl",template:t("./wirelessNetworkMinrateSlider.pug")(),scope:{model:"=unifiWirelessNetworkMinrateSliderModel",mcsFrequencies:"=unifiWirelessNetworkMinrateSliderMcsFrequencies",forceRender:"=unifiWirelessNetworkMinrateSliderForceRender"},bindToController:!0,replace:!0,link:function(t,n,o,i){t.$watch(function(){return i.forceRender},function(){e(function(){t.$broadcast("rzSliderForceRender")})},!0)}}}])},{"./wirelessNetworkMinrateSlider.pug":256}],256:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div><div class="verticalRhythmTop--cozy"><rzslider rz-slider-model="wirelessNetworkMinrateSliderControllerCtrl.model" rz-slider-options="{        disableAnimation: false,        stepsArray: wirelessNetworkMinrateSliderControllerCtrl.mcsFrequencies,        showSelectionBarEnd: true,        translate: wirelessNetworkMinrateSliderControllerCtrl.translateLabel,        hideLimitLabels: false,        hidePointerLabels: false      }"></rzslider></div><div class="appRow verticalRhythmHalf"><div class="col--sm6"><div class="appInputHelp" translate="SETTINGS_WLAN_MINRATE_LOWER_DENSITY"></div></div><div class="col--sm6 alignRight"><div class="appInputHelp" translate="SETTINGS_WLAN_MINRATE_HIGHER_DENSITY"></div></div></div></div>'}},{"pug-runtime":2}],257:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkSchedule",["scheduleConverter","DEFAULT_WLAN_SCHEDULE",function(e,n){return{template:t("./wirelessNetworkSchedule.pug")(),require:"ngModel",scope:{schedule:"=unifiSchedule",use24HourTime:"=unifiWirelessNetworkScheduleUse24HourTime"},link:function(t,o,i,r){t.$parent.$watch(i.ngModel,function(){var o=r.$modelValue&&r.$modelValue.length>0?r.$modelValue:[n];t.days=e.convertFromHHMM(o)},!0),t.$watch(function(){return t.days},function(){t.schedule=e.convertToHHMM(t.days)},!0)}}}])},{"./wirelessNetworkSchedule.pug":258}],258:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div ng-repeat="daySchedule in days"><div class="col--xs12 appFormGroup appFormGroup--cozy"><unifi-wireless-network-schedule-day unifi-wireless-network-schedule-day-use-24-hour-time="use24HourTime" unifi-day-schedule="daySchedule"></unifi-wireless-network-schedule-day></div></div>'}},{"pug-runtime":2}],259:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkScheduleDay",[function(){return{template:t("./wirelessNetworkScheduleDay.pug")(),replace:!0,scope:{daySchedule:"=unifiDaySchedule",use24HourTime:"=unifiWirelessNetworkScheduleDayUse24HourTime"}}}])},{"./wirelessNetworkScheduleDay.pug":260}],260:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appRow"><div class="col--xs6 col--sm3 appInputGroup appInputGroup--cozy"><input type="checkbox" name="schedule_{{daySchedule.name}}" ng-attr-id="schedule_{{daySchedule.name}}" ng-model="daySchedule.enabled"><label class="appLabel appLabel--primary" for="schedule_{{daySchedule.name}}" translate="{{\'DATETIME_DAYS_\' + daySchedule.name.toUpperCase()}}"></label></div><div class="col--xs6 col--sm3 alignRight" ng-if="daySchedule.enabled"><strong>{{daySchedule.values[0] | minutesToMoment | moment: \'format\': use24HourTime ? \'H:mm\' : \'h:mma\' }}-{{ daySchedule.values[1] | minutesToMoment | moment: \'format\': use24HourTime ? \'H:mm\' : \'h:mma\'}}</strong></div><div class="col--xs12 col--sm5" ng-if="daySchedule.enabled"><rzslider rz-slider-model="daySchedule.values[0]" rz-slider-high="daySchedule.values[1]" rz-slider-options="{        floor: 0,        ceil: 1440,        disableAnimation: false,        step: 15,        precision: 1,        hideLimitLabels: true,        hidePointerLabels: true      }"></rzslider></div></div>'}},{"pug-runtime":2}],261:[function(t,e,n){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return a(t)}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}angular.module("app-unifi-manage-settings").controller("WirelessNetworksController",["wirelessNetworks","BaseListAndFormController","missingModelControllerMixin",function(t,e,n){return new(function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(l,e);var s=r(l);function l(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=s.call(this)).collection=t.repository.collection,n(a(e)),e}return l}())}])},{}],262:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").component("unifiWirelessNetworks",{controller:"WirelessNetworksController",controllerAs:"wirelessNetworksCtrl",template:t("./wirelessNetworks.pug")()})},{"./wirelessNetworks.pug":263}],263:[function(t,e,n){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiSettingsContainer" id="wirelessNetworkSettings"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_WIRELESS_NETWORKS"></div></div><div ng-switch="wirelessNetworksCtrl.view"><div ng-switch-when="form" unifi-wireless-network-form="wirelessNetworksCtrl.model" unifi-wireless-network-form-on-save="wirelessNetworksCtrl.list()" unifi-wireless-network-form-on-cancel="wirelessNetworksCtrl.list()" unifi-wireless-network-form-is-read-only="!wirelessNetworksCtrl.isAdmin()"></div><div ng-switch-when="list"><unifi-wireless-network-list unifi-wireless-network-list-on-edit="wirelessNetworksCtrl.edit(model)"></unifi-wireless-network-list><div class="unifiSettingsFooter"'+function(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--input" ng-click="wirelessNetworksCtrl.add()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_WLAN_BUTTON_ADD"></span></button></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],264:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings",[]),t("./components/admins/AdminsController.js"),t("./components/admins/admins.js"),t("./components/apGroupList/ApGroupListController.js"),t("./components/apGroupList/apGroupList.js"),t("./components/apGroupsDeviceList/ApGroupsDeviceListController.js"),t("./components/apGroupsDeviceList/apGroupsDeviceList.js"),t("./components/backupSettings/BackupSettingsController.js"),t("./components/backupSettings/backupSettings.js"),t("./components/cloudAccessSettings/CloudAccessSettingsController.js"),t("./components/cloudAccessSettings/cloudAccessSettings.js"),t("./components/controllerSettings/ControllerSettingsController.js"),t("./components/controllerSettings/controllerSettings.js"),t("./components/dhcpRelay/DhcpRelayController.js"),t("./components/dhcpRelay/dhcpRelay.js"),t("./components/dhcpServer/DhcpServerController.js"),t("./components/dhcpServer/dhcpServer.js"),t("./components/dhcpSettings/DhcpSettingsController.js"),t("./components/dhcpSettings/dhcpSettings.js"),t("./components/dpiRestrictionAssignments/DpiRestrictionAssignmentsController.js"),t("./components/dpiRestrictionAssignments/dpiRestrictionAssignments.js"),t("./components/dpiRestrictionGroups/DpiRestrictionGroupsController.js"),t("./components/dpiRestrictionGroups/dpiRestrictionGroups.js"),t("./components/dpiSettings/DpiSettingsController.js"),t("./components/dpiSettings/dpiSettings.js"),t("./components/dynamicDns/DynamicDnsController.js"),t("./components/dynamicDns/dynamicDns.js"),t("./components/dynamicDnsForm/DynamicDnsFormController.js"),t("./components/dynamicDnsForm/dynamicDnsForm.js"),t("./components/dynamicDnsList/DynamicDnsListController.js"),t("./components/dynamicDnsList/dynamicDnsList.js"),t("./components/eliteDeviceSettings/EliteDeviceSettingsController.js"),t("./components/eliteDeviceSettings/eliteDeviceSettings.js"),t("./components/firewall/FirewallController.js"),t("./components/firewall/firewall.js"),t("./components/firewallGroups/FirewallGroupsController.js"),t("./components/firewallGroups/firewallGroups.js"),t("./components/firewallGroupsForm/FirewallGroupsFormController.js"),t("./components/firewallGroupsForm/firewallGroupsForm.js"),t("./components/firewallGroupsList/FirewallGroupsListController.js"),t("./components/firewallGroupsList/firewallGroupsList.js"),t("./components/firewallRules/FirewallRulesController.js"),t("./components/firewallRules/firewallRules.js"),t("./components/firewallRulesForm/FirewallRulesFormController.js"),t("./components/firewallRulesForm/firewallRulesForm.js"),t("./components/firewallRulesList/FirewallRulesListController.js"),t("./components/firewallRulesList/firewallRulesList.js"),t("./components/firewallSettings/FirewallSettingsController.js"),t("./components/firewallSettings/firewallSettings.js"),t("./components/geoIpFiltering/GeoIpFilteringController.js"),t("./components/geoIpFiltering/geoIpFiltering.js"),t("./components/guestControlSettings/GuestControlSettingsController.js"),t("./components/guestControlSettings/guestControlSettings.js"),t("./components/hotspot2/Hotspot2Controller.js"),t("./components/hotspot2/hotspot2.js"),t("./components/hotspot2Form/Hotspot2FormController.js"),t("./components/hotspot2Form/hotspot2Form.js"),t("./components/hotspot2List/Hotspot2ListController.js"),t("./components/hotspot2List/hotspot2List.js"),t("./components/hotspot2SectionCapab/Hotspot2SectionCapabController.js"),t("./components/hotspot2SectionCapab/hotspot2SectionCapab.js"),t("./components/hotspot2SectionCellularNetwork/Hotspot2SectionCellularNetworkController.js"),t("./components/hotspot2SectionCellularNetwork/hotspot2SectionCellularNetwork.js"),t("./components/hotspot2SectionDomainName/Hotspot2SectionDomainNameController.js"),t("./components/hotspot2SectionDomainName/hotspot2SectionDomainName.js"),t("./components/hotspot2SectionFriendlyName/Hotspot2SectionFriendlyNameController.js"),t("./components/hotspot2SectionFriendlyName/hotspot2SectionFriendlyName.js"),t("./components/hotspot2SectionIcons/Hotspot2SectionIconsController.js"),t("./components/hotspot2SectionIcons/hotspot2SectionIcons.js"),t("./components/hotspot2SectionInterworking/Hotspot2SectionInterworkingController.js"),t("./components/hotspot2SectionInterworking/hotspot2SectionInterworking.js"),t("./components/hotspot2SectionInterworkingVenueName/Hotspot2SectionInterworkingVenueNameController.js"),t("./components/hotspot2SectionInterworkingVenueName/hotspot2SectionInterworkingVenueName.js"),t("./components/hotspot2SectionMetrics/Hotspot2SectionMetricsController.js"),t("./components/hotspot2SectionMetrics/hotspot2SectionMetrics.js"),t("./components/hotspot2SectionNaiRealm/Hotspot2SectionNaiRealmController.js"),t("./components/hotspot2SectionNaiRealm/hotspot2SectionNaiRealm.js"),t("./components/hotspot2SectionOsu/Hotspot2SectionOsuController.js"),t("./components/hotspot2SectionOsu/hotspot2SectionOsu.js"),t("./components/hotspot2SectionQos/Hotspot2SectionQosController.js"),t("./components/hotspot2SectionQos/hotspot2SectionQos.js"),t("./components/hotspot2SectionRoamingConsortium/Hotspot2SectionRoamingConsortiumController.js"),t("./components/hotspot2SectionRoamingConsortium/hotspot2SectionRoamingConsortium.js"),t("./components/hotspot2SectionTerms/hotspot2SectionTerms.js"),t("./components/hotspotOverridesUpgrade/HotspotOverridesUpgradeController.js"),t("./components/hotspotOverridesUpgrade/hotspotOverridesUpgrade.js"),t("./components/ipsSettings/IpsSettingsController.js"),t("./components/ipsSettings/ipsSettings.js"),t("./components/mDnsSettings/MDnsSettingsController.js"),t("./components/mDnsSettings/mDnsSettings.js"),t("./components/maintenanceSettings/MaintenanceSettingsController.js"),t("./components/maintenanceSettings/maintenanceSettings.js"),t("./components/networks/NetworksController.js"),t("./components/networks/networks.js"),t("./components/notificationSettings/NotificationsSettingsController.js"),t("./components/notificationSettings/notificationsSettings.js"),t("./components/ntpSettings/NtpSettingsController.js"),t("./components/ntpSettings/ntpSettings.js"),t("./components/portForward/PortForwardController.js"),t("./components/portForward/portForward.js"),t("./components/portForwardForm/PortForwardFormController.js"),t("./components/portForwardForm/portForwardForm.js"),t("./components/portProfileForm/PortProfileFormController.js"),t("./components/portProfileForm/portProfileForm.js"),t("./components/portProfileList/PortProfileListController.js"),t("./components/portProfileList/portProfileList.js"),t("./components/portProfiles/PortProfilesController.js"),t("./components/portProfiles/portProfiles.js"),t("./components/radiusProfiles/RadiusProfilesController.js"),t("./components/radiusProfiles/radiusProfiles.js"),t("./components/radiusServer/RadiusServerController.js"),t("./components/radiusServer/radiusServer.js"),t("./components/radiusUserForm/RadiusUserFormController.js"),t("./components/radiusUserForm/radiusUserForm.js"),t("./components/radiusUsers/RadiusUsersController.js"),t("./components/radiusUsers/radiusUsers.js"),t("./components/radiusUsersList/RadiusUsersListController.js"),t("./components/radiusUsersList/radiusUsersList.js"),t("./components/routing/RoutingController.js"),t("./components/routing/routing.js"),t("./components/servicesContainer/servicesContainer.js"),t("./components/settingsSecurityGatewayIsRequired/SettingsSecurityGatewayIsRequiredController.js"),t("./components/settingsSecurityGatewayIsRequired/settingsSecurityGatewayIsRequired.js"),t("./components/settingsSubMenuDhcp/SettingsSubMenuDhcpController.js"),t("./components/settingsSubMenuDhcp/settingsSubMenuDhcp.js"),t("./components/settingsSubMenuDpi/SettingsSubMenuDpiController.js"),t("./components/settingsSubMenuDpi/settingsSubMenuDpi.js"),t("./components/settingsSubMenuDpiRestrictions/SettingsSubMenuDpiRestrictionsController.js"),t("./components/settingsSubMenuDpiRestrictions/settingsSubMenuDpiRestrictions.js"),t("./components/settingsSubMenuFirewall/SettingsSubMenuFirewallController.js"),t("./components/settingsSubMenuFirewall/settingsSubMenuFirewall.js"),t("./components/settingsSubMenuProfiles/SettingsSubMenuProfilesController.js"),t("./components/settingsSubMenuProfiles/settingsSubMenuProfiles.js"),t("./components/settingsSubMenuRadius/SettingsSubMenuRadiusController.js"),t("./components/settingsSubMenuRadius/settingsSubMenuRadius.js"),t("./components/settingsSubMenuRoutingAndFirewall/SettingsSubMenuRoutingAndFirewallController.js"),t("./components/settingsSubMenuRoutingAndFirewall/settingsSubMenuRoutingAndFirewall.js"),t("./components/settingsSubMenuServices/SettingsSubMenuServicesController.js"),t("./components/settingsSubMenuServices/settingsSubMenuServices.js"),t("./components/settingsSubMenuSip/SettingsSubMenuSipController.js"),t("./components/settingsSubMenuSip/settingsSubMenuSip.js"),t("./components/settingsSubTabsHeader/settingsSubTabsHeader.js"),t("./components/settingsTabsHeader/settingsTabsHeader.js"),t("./components/sipEndpoints/SipEndpointsController.js"),t("./components/sipEndpoints/sipEndpoints.js"),t("./components/sipSettings/SipSettingsController.js"),t("./components/sipSettings/sipSettings.js"),t("./components/siteSettings/SiteSettingsController.js"),t("./components/siteSettings/siteSettings.js"),t("./components/snmpSettings/SnmpSettingsController.js"),t("./components/snmpSettings/snmpSettings.js"),t("./components/upnpSettings/UpnpSettingsController.js"),t("./components/upnpSettings/upnpSettings.js"),t("./components/userGroupForm/UserGroupFormController.js"),t("./components/userGroupForm/userGroupForm.js"),t("./components/userGroupList/UserGroupListController.js"),t("./components/userGroupList/userGroupList.js"),t("./components/userGroups/UserGroupsController.js"),t("./components/userGroups/userGroups.js"),t("./components/wirelessNetworkForm/WirelessNetworkFormController.js"),t("./components/wirelessNetworkForm/wirelessNetworkForm.js"),t("./components/wirelessNetworkList/WirelessNetworkListController.js"),t("./components/wirelessNetworkList/wirelessNetworkList.js"),t("./components/wirelessNetworkMacAddressFilterList/WirelessNetworkMacAddressFilterListController.js"),t("./components/wirelessNetworkMacAddressFilterList/wirelessNetworkMacAddressFilterList.js"),t("./components/wirelessNetworkMinrateCompatibilityInfo/WirelessNetworkMinrateCompatibilityInfoController.js"),t("./components/wirelessNetworkMinrateCompatibilityInfo/wirelessNetworkMinrateCompatibilityInfo.js"),t("./components/wirelessNetworkMinrateSlider/WirelessNetworkMinrateSliderController.js"),t("./components/wirelessNetworkMinrateSlider/wirelessNetworkMinrateSlider.js"),t("./components/wirelessNetworkSchedule/wirelessNetworkSchedule.js"),t("./components/wirelessNetworkScheduleDay/wirelessNetworkScheduleDay.js"),t("./components/wirelessNetworks/WirelessNetworksController.js"),t("./components/wirelessNetworks/wirelessNetwork.js"),t("./services/collections/GeoIpCountryCollection.js"),t("./services/geoIpCountries.js"),t("./services/geoIpFilteringUtils.js"),t("./services/guestPortalImage.js"),t("./services/hotspot2Utils.js"),t("./services/models/GeoIpCountryModel.js"),t("./services/models/GuestPortalImageModel.js")},{"./components/admins/AdminsController.js":3,"./components/admins/admins.js":4,"./components/apGroupList/ApGroupListController.js":6,"./components/apGroupList/apGroupList.js":7,"./components/apGroupsDeviceList/ApGroupsDeviceListController.js":9,"./components/apGroupsDeviceList/apGroupsDeviceList.js":10,"./components/backupSettings/BackupSettingsController.js":12,"./components/backupSettings/backupSettings.js":13,"./components/cloudAccessSettings/CloudAccessSettingsController.js":15,"./components/cloudAccessSettings/cloudAccessSettings.js":16,"./components/controllerSettings/ControllerSettingsController.js":18,"./components/controllerSettings/controllerSettings.js":19,"./components/dhcpRelay/DhcpRelayController.js":21,"./components/dhcpRelay/dhcpRelay.js":22,"./components/dhcpServer/DhcpServerController.js":24,"./components/dhcpServer/dhcpServer.js":25,"./components/dhcpSettings/DhcpSettingsController.js":27,"./components/dhcpSettings/dhcpSettings.js":28,"./components/dpiRestrictionAssignments/DpiRestrictionAssignmentsController.js":30,"./components/dpiRestrictionAssignments/dpiRestrictionAssignments.js":31,"./components/dpiRestrictionGroups/DpiRestrictionGroupsController.js":33,"./components/dpiRestrictionGroups/dpiRestrictionGroups.js":34,"./components/dpiSettings/DpiSettingsController.js":36,"./components/dpiSettings/dpiSettings.js":37,"./components/dynamicDns/DynamicDnsController.js":39,"./components/dynamicDns/dynamicDns.js":40,"./components/dynamicDnsForm/DynamicDnsFormController.js":42,"./components/dynamicDnsForm/dynamicDnsForm.js":43,"./components/dynamicDnsList/DynamicDnsListController.js":45,"./components/dynamicDnsList/dynamicDnsList.js":46,"./components/eliteDeviceSettings/EliteDeviceSettingsController.js":48,"./components/eliteDeviceSettings/eliteDeviceSettings.js":49,"./components/firewall/FirewallController.js":51,"./components/firewall/firewall.js":52,"./components/firewallGroups/FirewallGroupsController.js":54,"./components/firewallGroups/firewallGroups.js":55,"./components/firewallGroupsForm/FirewallGroupsFormController.js":57,"./components/firewallGroupsForm/firewallGroupsForm.js":58,"./components/firewallGroupsList/FirewallGroupsListController.js":60,"./components/firewallGroupsList/firewallGroupsList.js":61,"./components/firewallRules/FirewallRulesController.js":63,"./components/firewallRules/firewallRules.js":64,"./components/firewallRulesForm/FirewallRulesFormController.js":66,"./components/firewallRulesForm/firewallRulesForm.js":67,"./components/firewallRulesList/FirewallRulesListController.js":69,"./components/firewallRulesList/firewallRulesList.js":70,"./components/firewallSettings/FirewallSettingsController.js":72,"./components/firewallSettings/firewallSettings.js":73,"./components/geoIpFiltering/GeoIpFilteringController.js":75,"./components/geoIpFiltering/geoIpFiltering.js":76,"./components/guestControlSettings/GuestControlSettingsController.js":78,"./components/guestControlSettings/guestControlSettings.js":79,"./components/hotspot2/Hotspot2Controller.js":81,"./components/hotspot2/hotspot2.js":82,"./components/hotspot2Form/Hotspot2FormController.js":84,"./components/hotspot2Form/hotspot2Form.js":85,"./components/hotspot2List/Hotspot2ListController.js":87,"./components/hotspot2List/hotspot2List.js":88,"./components/hotspot2SectionCapab/Hotspot2SectionCapabController.js":90,"./components/hotspot2SectionCapab/hotspot2SectionCapab.js":91,"./components/hotspot2SectionCellularNetwork/Hotspot2SectionCellularNetworkController.js":93,"./components/hotspot2SectionCellularNetwork/hotspot2SectionCellularNetwork.js":94,"./components/hotspot2SectionDomainName/Hotspot2SectionDomainNameController.js":96,"./components/hotspot2SectionDomainName/hotspot2SectionDomainName.js":97,"./components/hotspot2SectionFriendlyName/Hotspot2SectionFriendlyNameController.js":99,"./components/hotspot2SectionFriendlyName/hotspot2SectionFriendlyName.js":100,"./components/hotspot2SectionIcons/Hotspot2SectionIconsController.js":102,"./components/hotspot2SectionIcons/hotspot2SectionIcons.js":103,"./components/hotspot2SectionInterworking/Hotspot2SectionInterworkingController.js":105,"./components/hotspot2SectionInterworking/hotspot2SectionInterworking.js":106,"./components/hotspot2SectionInterworkingVenueName/Hotspot2SectionInterworkingVenueNameController.js":108,"./components/hotspot2SectionInterworkingVenueName/hotspot2SectionInterworkingVenueName.js":109,"./components/hotspot2SectionMetrics/Hotspot2SectionMetricsController.js":111,"./components/hotspot2SectionMetrics/hotspot2SectionMetrics.js":112,"./components/hotspot2SectionNaiRealm/Hotspot2SectionNaiRealmController.js":114,"./components/hotspot2SectionNaiRealm/hotspot2SectionNaiRealm.js":115,"./components/hotspot2SectionOsu/Hotspot2SectionOsuController.js":117,"./components/hotspot2SectionOsu/hotspot2SectionOsu.js":118,"./components/hotspot2SectionQos/Hotspot2SectionQosController.js":120,"./components/hotspot2SectionQos/hotspot2SectionQos.js":121,"./components/hotspot2SectionRoamingConsortium/Hotspot2SectionRoamingConsortiumController.js":123,"./components/hotspot2SectionRoamingConsortium/hotspot2SectionRoamingConsortium.js":124,"./components/hotspot2SectionTerms/hotspot2SectionTerms.js":126,"./components/hotspotOverridesUpgrade/HotspotOverridesUpgradeController.js":128,"./components/hotspotOverridesUpgrade/hotspotOverridesUpgrade.js":129,"./components/ipsSettings/IpsSettingsController.js":131,"./components/ipsSettings/ipsSettings.js":132,"./components/mDnsSettings/MDnsSettingsController.js":134,"./components/mDnsSettings/mDnsSettings.js":135,"./components/maintenanceSettings/MaintenanceSettingsController.js":137,"./components/maintenanceSettings/maintenanceSettings.js":138,"./components/networks/NetworksController.js":140,"./components/networks/networks.js":141,"./components/notificationSettings/NotificationsSettingsController.js":143,"./components/notificationSettings/notificationsSettings.js":144,"./components/ntpSettings/NtpSettingsController.js":146,"./components/ntpSettings/ntpSettings.js":147,"./components/portForward/PortForwardController.js":149,"./components/portForward/portForward.js":150,"./components/portForwardForm/PortForwardFormController.js":152,"./components/portForwardForm/portForwardForm.js":153,"./components/portProfileForm/PortProfileFormController.js":155,"./components/portProfileForm/portProfileForm.js":156,"./components/portProfileList/PortProfileListController.js":158,"./components/portProfileList/portProfileList.js":159,"./components/portProfiles/PortProfilesController.js":161,"./components/portProfiles/portProfiles.js":162,"./components/radiusProfiles/RadiusProfilesController.js":164,"./components/radiusProfiles/radiusProfiles.js":165,"./components/radiusServer/RadiusServerController.js":167,"./components/radiusServer/radiusServer.js":168,"./components/radiusUserForm/RadiusUserFormController.js":170,"./components/radiusUserForm/radiusUserForm.js":171,"./components/radiusUsers/RadiusUsersController.js":173,"./components/radiusUsers/radiusUsers.js":174,"./components/radiusUsersList/RadiusUsersListController.js":176,"./components/radiusUsersList/radiusUsersList.js":177,"./components/routing/RoutingController.js":179,"./components/routing/routing.js":180,"./components/servicesContainer/servicesContainer.js":182,"./components/settingsSecurityGatewayIsRequired/SettingsSecurityGatewayIsRequiredController.js":184,"./components/settingsSecurityGatewayIsRequired/settingsSecurityGatewayIsRequired.js":185,"./components/settingsSubMenuDhcp/SettingsSubMenuDhcpController.js":187,"./components/settingsSubMenuDhcp/settingsSubMenuDhcp.js":188,"./components/settingsSubMenuDpi/SettingsSubMenuDpiController.js":190,"./components/settingsSubMenuDpi/settingsSubMenuDpi.js":191,"./components/settingsSubMenuDpiRestrictions/SettingsSubMenuDpiRestrictionsController.js":193,"./components/settingsSubMenuDpiRestrictions/settingsSubMenuDpiRestrictions.js":194,"./components/settingsSubMenuFirewall/SettingsSubMenuFirewallController.js":196,"./components/settingsSubMenuFirewall/settingsSubMenuFirewall.js":197,"./components/settingsSubMenuProfiles/SettingsSubMenuProfilesController.js":199,"./components/settingsSubMenuProfiles/settingsSubMenuProfiles.js":200,"./components/settingsSubMenuRadius/SettingsSubMenuRadiusController.js":202,"./components/settingsSubMenuRadius/settingsSubMenuRadius.js":203,"./components/settingsSubMenuRoutingAndFirewall/SettingsSubMenuRoutingAndFirewallController.js":205,"./components/settingsSubMenuRoutingAndFirewall/settingsSubMenuRoutingAndFirewall.js":206,"./components/settingsSubMenuServices/SettingsSubMenuServicesController.js":208,"./components/settingsSubMenuServices/settingsSubMenuServices.js":209,"./components/settingsSubMenuSip/SettingsSubMenuSipController.js":211,"./components/settingsSubMenuSip/settingsSubMenuSip.js":212,"./components/settingsSubTabsHeader/settingsSubTabsHeader.js":214,"./components/settingsTabsHeader/settingsTabsHeader.js":216,"./components/sipEndpoints/SipEndpointsController.js":218,"./components/sipEndpoints/sipEndpoints.js":219,"./components/sipSettings/SipSettingsController.js":221,"./components/sipSettings/sipSettings.js":222,"./components/siteSettings/SiteSettingsController.js":224,"./components/siteSettings/siteSettings.js":225,"./components/snmpSettings/SnmpSettingsController.js":227,"./components/snmpSettings/snmpSettings.js":228,"./components/upnpSettings/UpnpSettingsController.js":230,"./components/upnpSettings/upnpSettings.js":231,"./components/userGroupForm/UserGroupFormController.js":233,"./components/userGroupForm/userGroupForm.js":234,"./components/userGroupList/UserGroupListController.js":236,"./components/userGroupList/userGroupList.js":237,"./components/userGroups/UserGroupsController.js":239,"./components/userGroups/userGroups.js":240,"./components/wirelessNetworkForm/WirelessNetworkFormController.js":242,"./components/wirelessNetworkForm/wirelessNetworkForm.js":243,"./components/wirelessNetworkList/WirelessNetworkListController.js":245,"./components/wirelessNetworkList/wirelessNetworkList.js":246,"./components/wirelessNetworkMacAddressFilterList/WirelessNetworkMacAddressFilterListController.js":248,"./components/wirelessNetworkMacAddressFilterList/wirelessNetworkMacAddressFilterList.js":249,"./components/wirelessNetworkMinrateCompatibilityInfo/WirelessNetworkMinrateCompatibilityInfoController.js":251,"./components/wirelessNetworkMinrateCompatibilityInfo/wirelessNetworkMinrateCompatibilityInfo.js":252,"./components/wirelessNetworkMinrateSlider/WirelessNetworkMinrateSliderController.js":254,"./components/wirelessNetworkMinrateSlider/wirelessNetworkMinrateSlider.js":255,"./components/wirelessNetworkSchedule/wirelessNetworkSchedule.js":257,"./components/wirelessNetworkScheduleDay/wirelessNetworkScheduleDay.js":259,"./components/wirelessNetworks/WirelessNetworksController.js":261,"./components/wirelessNetworks/wirelessNetwork.js":262,"./services/collections/GeoIpCountryCollection.js":265,"./services/geoIpCountries.js":266,"./services/geoIpFilteringUtils.js":267,"./services/guestPortalImage.js":268,"./services/hotspot2Utils.js":269,"./services/models/GeoIpCountryModel.js":270,"./services/models/GuestPortalImageModel.js":271}],265:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").factory("GeoIpCountryCollection",["CORSCollection","GeoIpCountryModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,n,o,i,r){return t.extend(n).extend(o).extend(i).extend(r).extend({_isActiveSiteOptional:!0,model:e,siteUrl:"stat/geoccode",comparator:"code"})}])},{}],266:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").service("geoIpCountries",["BaseCollectionRepository","GeoIpCountryCollection",function(t,e){this.repository=new t(new e),this.getCountryCodes=function(){return this.repository.collection.pluck("code")}}])},{}],267:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").service("geoIpFilteringUtils",["$translate","geoIpCountries",function(t,e){this.getCountryMap=function(){return e.getCountryCodes().reduce(function(e,n){return e[n]={available:!0,name:t.instant("COUNTRY_"+n.toLocaleUpperCase())},e},{})}}])},{}],268:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").service("guestPortalImage",["$q","$http","GuestPortalImageModel","siteUtils","UnifiFileBasePath","UnifiAPIBasePath","Upload",function(t,e,n,o,i,r,a){this.removeFile=function(t){return new n({id:t}).destroy()},this.uploadFile=function(e){var n=o.getActiveSite().get("name"),r=[i,"upload","s",n,"portalfile"];return t(function(t,n){a.upload({url:r.join("/"),fileFormDataName:"Filedata",file:e,withCredentials:!0,withWebRTC:!0,headers:{"X-Requested-With":"XMLHttpRequest"}}).success(function(e){var n=e.data[0]._id;t(n)}).abort(function(){n(arguments)}).error(function(){n(arguments)})})}}])},{}],269:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").service("hotspot2Utils",["$translate","LANGUAGES","ISO639",function(t,e,n){this.LANGUAGE_CODE_UNDEFINED="zxx",this.getLanguages=function(){var e={};for(var o in n.languages){var i=n.languages[o];e[i.code]={code:i.code,label:i.code+" | "+t.instant(i.name),name:i.name}}return e}}])},{}],270:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").factory("GeoIpCountryModel",["BaseModel",function(t){return t.extend({idAttribute:"code"})}])},{}],271:[function(t,e,n){"use strict";angular.module("app-unifi-manage-settings").factory("GuestPortalImageModel",["CORSModel","siteUrlMixin","webrtcMixin",function(t,e,n){return t.extend(e).extend(n).extend({siteUrl:"rest/portalfile"})}])},{}]},{},[264]);